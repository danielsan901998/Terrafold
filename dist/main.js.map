{
  "version": 3,
  "sources": ["../../src/utils/utils.ts", "../../src/core/PlanetManager.ts", "../../src/core/ShipManager.ts", "../../src/core/Planet.ts", "../../src/core/Space.ts", "../../src/core/Ice.ts", "../../src/core/Water.ts", "../../src/core/Clouds.ts", "../../src/core/Land.ts", "../../src/core/Trees.ts", "../../src/core/Farms.ts", "../../src/core/City.ts", "../../src/core/Process.ts", "../../src/core/Computer.ts", "../../src/core/Robots.ts", "../../src/core/Energy.ts", "../../src/core/SpaceStation.ts", "../../src/utils/cometUtils.ts", "../../src/core/TractorBeam.ts", "../../src/core/SpaceDock.ts", "../../src/core/Ship.ts", "../../src/core/Hangar.ts", "../../src/ui/ProgressBar.ts", "../../src/ui/spaceView.ts", "../../src/ui/BaseView.ts", "../../src/ui/UIEvents.ts", "../../src/ui/ComputerView.ts", "../../src/ui/RobotsView.ts", "../../src/ui/ResourceView.ts", "../../src/ui/IceView.ts", "../../src/ui/CloudsView.ts", "../../src/ui/LandView.ts", "../../src/ui/PopulationView.ts", "../../src/ui/TreesView.ts", "../../src/ui/EnergyView.ts", "../../src/ui/SpaceStationView.ts", "../../src/ui/TractorBeamView.ts", "../../src/ui/SpaceDockView.ts", "../../src/ui/HangarView.ts", "../../src/ui/View.ts", "../../src/utils/EventEmitter.ts", "../../src/main.ts"],
  "sourcesContent": [
    "export function getClickAmount(event: MouseEvent): number {\n    let multiplier = 1;\n    if (event.ctrlKey) {\n        multiplier *= 5;\n    }\n    if (event.shiftKey) {\n        multiplier *= 10;\n    }\n    return multiplier;\n}\n\nexport function round1(num: number): number {\n    return Math.floor(num * 10) / 10;\n}\n\nexport function round2(num: number): number {\n    return Math.floor(num * 100) / 100;\n}\n\nexport function precision2(num: number): number {\n    return Number(num.toPrecision(2));\n}\n\nexport function precision3(num: number): number {\n    return Number(num.toPrecision(3));\n}\n\nexport function pxToInt(num: string): number {\n    return parseFloat(num.substring(0, num.indexOf('px')));\n}\n\nexport function formatNumber(num: number): string {\n    return Math.floor(num).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport function withinDistance(x1: number, y1: number, x2: number, y2: number, radius: number): boolean {\n    return getDistance(x1, y1, x2, y2) < radius;\n}\n\nexport function getDistance(x1: number, y1: number, x2: number, y2: number): number {\n    return Math.sqrt(Math.pow(Math.abs(x1 - x2), 2) + Math.pow(Math.abs(y1 - y2), 2));\n}\n\nexport function intToStringNegative(value: number, amount?: number): string {\n    let isPositive = 1;\n    if (value < 0) {\n        isPositive = -1;\n        value *= -1;\n    }\n    if (value >= 10000) {\n        return (isPositive === 1 ? \"+\" : \"-\") + nFormatter(value, 3);\n    } else {\n        return (isPositive === 1 ? \"+\" : \"-\") + formatSmallNumber(value, amount);\n    }\n}\n\nexport function intToString(value: number, amount?: number): string {\n    if (value >= 10000) {\n        return nFormatter(value, 3);\n    } else {\n        return formatSmallNumber(value, amount);\n    }\n}\n\nfunction formatSmallNumber(value: number, amount?: number): string {\n    if (Number.isInteger(value)) {\n        return value.toString();\n    }\n    let baseValue = 3;\n    if (amount !== undefined) {\n        baseValue = amount;\n    }\n    return value.toFixed(baseValue - 1).replace(format_regex, \"$1\");\n}\n\nexport function intToStringRound(value: number): string | number {\n    if (value >= 10000) {\n        return nFormatter(value, 3);\n    } else {\n        return Math.floor(value);\n    }\n}\n\nexport function toSuffix(value: number): string {\n    value = Math.round(value);\n    const suffixes = [\"\", \"K\", \"M\", \"B\", \"T\", \"Qa\", \"Qi\", \"Sx\", \"Sp\", \"O\", \"N\", \"Dc\", \"Ud\", \"Dd\", \"Td\", \"qd\", \"Qd\", \"sd\", \"Sd\", \"Od\", \"Nd\", \"V\"];\n    const suffixNum = Math.floor(((\"\" + value).length - 1) / 3);\n    let shortValue = parseFloat((suffixNum !== 0 ? (value / Math.pow(1000, suffixNum)) : value).toPrecision(3));\n    if (shortValue % 1 !== 0) shortValue = parseFloat(shortValue.toPrecision(2));\n    return shortValue + (suffixes[suffixNum] || \"\");\n}\n\nconst format_symbol_table = [\n    { value: 1E63, symbol: \"V\" },\n    { value: 1E60, symbol: \"Nd\" },\n    { value: 1E57, symbol: \"Od\" },\n    { value: 1E54, symbol: \"Sd\" },\n    { value: 1E51, symbol: \"sd\" },\n    { value: 1E48, symbol: \"Qd\" },\n    { value: 1E45, symbol: \"qd\" },\n    { value: 1E42, symbol: \"Td\" },\n    { value: 1E39, symbol: \"Dd\" },\n    { value: 1E36, symbol: \"Ud\" },\n    { value: 1E33, symbol: \"Dc\" },\n    { value: 1E30, symbol: \"N\" },\n    { value: 1E27, symbol: \"O\" },\n    { value: 1E24, symbol: \"Sp\" },\n    { value: 1E21, symbol: \"Sx\" },\n    { value: 1E18, symbol: \"Qi\" },\n    { value: 1E15, symbol: \"Qa\" },\n    { value: 1E12, symbol: \"T\" },\n    { value: 1E9, symbol: \"B\" },\n    { value: 1E6, symbol: \"M\" },\n    { value: 1E3, symbol: \"K\" }\n];\nconst format_regex = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\nconst nFormatCache = new Map<string, string>();\n\nexport function nFormatter(num: number, digits: number): string {\n    const key = num + \"|\" + digits;\n    const cached = nFormatCache.get(key);\n    if (cached !== undefined) return cached;\n\n    let result: string;\n    let found = false;\n    for (let i = 0; i < format_symbol_table.length; i++) {\n        const entry = format_symbol_table[i];\n        if (entry && (num) >= entry.value / 1.000501) { // /1.000501 to handle rounding\n            result = (num / entry.value).toPrecision(digits).replace(format_regex, \"$1\") + entry.symbol;\n            found = true;\n            break;\n        }\n    }\n    if (!found) {\n        result = num.toPrecision(digits).replace(format_regex, \"$1\");\n    }\n\n    if (nFormatCache.size > 1000) {\n        const firstKey = nFormatCache.keys().next().value;\n        if (firstKey !== undefined) nFormatCache.delete(firstKey);\n    }\n    nFormatCache.set(key, result!);\n    return result!;\n}\n\nlet factorials: number[] = [];\nexport function factorial(n: number): number {\n    if (n === 0 || n === 1)\n        return 1;\n    if (factorials[n] && factorials[n] > 0)\n        return factorials[n];\n    return factorials[n] = factorial(n - 1) * n;\n}\n\nexport function sortArrayObjectsByValue(arr: any[], valueName: string): void {\n    arr.sort((a, b) => a[valueName] - b[valueName]);\n}\n\nexport async function encode(theSave: string): Promise<string> {\n    const stream = new Blob([theSave]).stream().pipeThrough(new CompressionStream('gzip'));\n    const response = new Response(stream);\n    const buffer = await response.arrayBuffer();\n    const bytes = new Uint8Array(buffer);\n    let binary = '';\n    for (let i = 0; i < bytes.byteLength; i++) {\n        binary += String.fromCharCode(bytes[i]!);\n    }\n    return btoa(binary);\n}\n\nexport async function decode(encodedSave: string): Promise<string> {\n    if (!encodedSave) return \"\";\n    const trimmed = encodedSave.trim();\n    if (trimmed.startsWith('{') && trimmed.endsWith('}')) {\n        return trimmed;\n    }\n    try {\n        const binaryString = atob(encodedSave);\n        const bytes = Uint8Array.from(binaryString, (m) => m.codePointAt(0)!);\n        const stream = new Blob([bytes]).stream().pipeThrough(new DecompressionStream('gzip'));\n        return new Response(stream).text();\n    } catch (e) {\n        return encodedSave;\n    }\n}",
    "import { game } from '../main';\nimport { withinDistance, precision3 } from '../utils/utils';\nimport Planet from './Planet';\n\nexport default class PlanetManager {\n    static readonly MINE_TICKS_MAX = 2000;\n    static readonly FACTORY_TICKS_MAX = 8000;\n    static readonly SOLAR_TICKS_MAX = 1000;\n    static readonly COILGUN_TICKS_MAX = 1000;\n    static readonly COILGUN_CHARGE_MAX = 1000;\n\n    static findArea(planet: Planet) {\n        if (!game) return;\n        let counter = 0;\n        while (PlanetManager.isWithinDistanceOfAny(planet, planet.x, planet.y, 75)) {\n            counter++;\n            if (counter > 40) {\n                console.log(\"too many planets\");\n                return;\n            }\n            planet.x = PlanetManager.xAreaAllowed();\n            planet.y = PlanetManager.yAreaAllowed();\n        }\n    }\n\n    static xAreaAllowed() {\n        if (!game) return 0;\n        const activeWidth = game.canvasWidth * 0.8;\n        return Math.random() * (activeWidth - 200); \n    }\n\n    static yAreaAllowed() {\n        if (!game) return 0;\n        const maxHeight = game.canvasHeight * 0.80;\n        return Math.random() * (maxHeight - 55) + 10;\n    }\n\n    static isWithinDistanceOfAny(planet: Planet, x1: number, y1: number, radius: number) {\n        if (!game) return false;\n        for (let i = 0; i < game.space.planets.length; i++) {\n            const target = game.space.planets[i];\n            if (!target || target === planet) {\n                continue;\n            }\n            if (withinDistance(x1, y1, target.x, target.y, radius)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    static tick(planet: Planet) {\n        if (!game) return;\n        planet.maxMines = game.hangar.maxMines;\n        PlanetManager.regenShields(planet);\n        PlanetManager.tickResources(planet);\n    }\n\n    static empty(planet: Planet) {\n        return planet.dirt <= 0;\n    }\n\n    static alive(planet: Planet) {\n        return planet.health > 0;\n    }\n\n    static regenShields(planet: Planet) {\n        if (!PlanetManager.alive(planet)) {\n            planet.atmo = 0;\n            return;\n        }\n        planet.atmo += (planet.maxAtmo - planet.atmo) / 100;\n        if (planet.atmo > planet.maxAtmo) {\n            planet.atmo = planet.maxAtmo;\n        }\n    }\n\n    static getShieldReduction(planet: Planet) {\n        return planet.atmo / planet.maxAtmo;\n    }\n\n    static takeDamage(planet: Planet, damage: number) {\n        const shieldReduction = PlanetManager.getShieldReduction(planet);\n        const healthDamage = damage * (1 - shieldReduction);\n        planet.atmo -= damage * shieldReduction;\n        let extraDamage = 0;\n        if (planet.atmo < 0) {\n            extraDamage = planet.atmo * -1;\n            planet.atmo = 0;\n        }\n\n        planet.health -= healthDamage + extraDamage;\n        if (planet.health < 0) {\n            planet.health = 0;\n        }\n    }\n\n    static calcPower(planet: Planet, difficulty: number) {\n        if (!game) return;\n        planet.power = difficulty * (planet.isBoss ? 1.5 : 1);\n        planet.atmo = planet.maxAtmo = Math.min(200, precision3((planet.power * 2) + 100));\n        planet.health = planet.maxHealth = precision3((planet.power * 20) + 1000);\n        planet.dirt = precision3((planet.power * 200) + 2000);\n        planet.maxMines = game.hangar.maxMines;\n    }\n\n    static workConstruction(planet: Planet, amount: number) {\n        if (!PlanetManager.doneFactory(planet)) {\n            PlanetManager.workOnFactory(planet, amount);\n            return;\n        }\n        if (!PlanetManager.doneCoilgun(planet)) {\n            PlanetManager.workOnCoilgun(planet, amount);\n            return;\n        }\n        PlanetManager.workOnMine(planet, amount);\n    }\n\n    static tickResources(planet: Planet) {\n        if (PlanetManager.empty(planet)) {\n            return;\n        }\n        PlanetManager.tickMines(planet);\n        PlanetManager.tickBots(planet);\n        PlanetManager.tickFactory(planet);\n        PlanetManager.tickSolar(planet);\n        PlanetManager.tickCoilgun(planet);\n    }\n\n    static doneBuilding(planet: Planet) {\n        return planet.mines >= planet.maxMines || PlanetManager.empty(planet);\n    }\n\n    static workOnMine(planet: Planet, amount: number) {\n        planet.mineTicks += amount;\n        if (planet.mineTicks >= PlanetManager.MINE_TICKS_MAX) {\n            let toAdd = Math.floor(planet.mineTicks / PlanetManager.MINE_TICKS_MAX);\n            toAdd = Math.max(0, Math.min(toAdd, planet.maxMines - planet.mines));\n            planet.mines += toAdd;\n            planet.mineTicks -= toAdd * PlanetManager.MINE_TICKS_MAX;\n        }\n    }\n\n    static tickMines(planet: Planet) {\n        planet.ore += planet.mines;\n    }\n\n    static tickBots(planet: Planet) {\n        const botWork = Math.min(planet.bots, planet.ore);\n        planet.ore -= botWork;\n        PlanetManager.workOnSolar(planet, botWork);\n    }\n\n    static doneFactory(planet: Planet) {\n        return planet.factoryTicks >= PlanetManager.FACTORY_TICKS_MAX;\n    }\n\n    static workOnFactory(planet: Planet, amount: number) {\n        planet.factoryTicks += amount;\n    }\n\n    static tickFactory(planet: Planet) {\n        if (planet.ore >= 200) {\n            const toAdd = Math.floor(planet.ore / 200);\n            planet.bots += toAdd;\n            planet.ore -= toAdd * 200;\n        }\n    }\n\n    static workOnSolar(planet: Planet, amount: number) {\n        planet.solarTicks += amount;\n        if (planet.solarTicks >= PlanetManager.SOLAR_TICKS_MAX) {\n            const toAdd = Math.floor(planet.solarTicks / PlanetManager.SOLAR_TICKS_MAX);\n            planet.solar += toAdd;\n            planet.solarTicks -= toAdd * PlanetManager.SOLAR_TICKS_MAX;\n        }\n    }\n\n    static tickSolar(planet: Planet) {\n        planet.coilgunCharge += planet.solar;\n    }\n\n    static doneCoilgun(planet: Planet) {\n        return planet.coilgunTicks >= PlanetManager.COILGUN_TICKS_MAX;\n    }\n\n    static workOnCoilgun(planet: Planet, amount: number) {\n        planet.coilgunTicks += amount;\n    }\n\n    static tickCoilgun(planet: Planet) {\n        if (planet.coilgunCharge >= PlanetManager.COILGUN_CHARGE_MAX) {\n            const toAdd = Math.floor(planet.coilgunCharge / PlanetManager.COILGUN_CHARGE_MAX);\n            planet.coilgunCharge -= toAdd * PlanetManager.COILGUN_CHARGE_MAX;\n            let loadSize = 500 * toAdd;\n            if (planet.dirt <= loadSize) {\n                loadSize = planet.dirt;\n            }\n            planet.dirt -= loadSize;\n            if (game && game.spaceStation.orbiting[1]) {\n                game.spaceStation.orbiting[1].amount += loadSize;\n            }\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { withinDistance, getDistance } from '../utils/utils';\nimport PlanetManager from './PlanetManager';\nimport Ship from './Ship';\nimport Planet from './Planet';\nimport { Target } from '../types';\n\nexport default class ShipManager {\n    static foodPerShip = 20;\n    static actionRate = 1;\n    static actionSpeed = 40;\n    static globalTargetIndex = -1;\n\n    static tick(ship: Ship) {\n        ShipManager.checkEmpty(ship);\n        ShipManager.moveToNearestTarget(ship);\n        ShipManager.checkJoinFleet(ship);\n        ShipManager.attackTarget(ship);\n    }\n\n    static updateGlobalTarget() {\n        if (!game) return;\n        const home = game.hangar.getTarget();\n        ShipManager.globalTargetIndex = ShipManager.findClosestTarget(home.x, home.y);\n    }\n\n    static findClosestTarget(x: number, y: number): number {\n        if (!game) return -1;\n        let bestIndex = -1;\n        let minDist = Infinity;\n        for (let i = 0; i < game.space.planets.length; i++) {\n            const planet = game.space.planets[i]!;\n            if (!PlanetManager.doneBuilding(planet)) {\n                const dist = getDistance(x, y, planet.x, planet.y);\n                if (bestIndex === -1 || dist < minDist) {\n                    bestIndex = i;\n                    minDist = dist;\n                }\n            }\n        }\n        return bestIndex;\n    }\n\n    static checkJoinFleet(ship: Ship) {\n        if (!game || !ship.engaged) {\n            return;\n        }\n        for (let i = game.space.ships.length - 1; i >= 0; i--) {\n            const otherShip = game.space.ships[i]!;\n            if (otherShip === ship || ShipManager.isEmpty(otherShip)) { // only join on same types\n                continue;\n            }\n            if (withinDistance(ship.x, ship.y, otherShip.x, otherShip.y, 20)) {\n                ShipManager.combineShips(ship, otherShip);\n                game.space.ships.splice(i, 1);\n            }\n        }\n    }\n\n    static checkEmpty(ship: Ship) {\n        ship.food -= ship.count;\n        if (!ShipManager.isEmpty(ship)) {\n            return;\n        }\n        ship.food = 0;\n        ship.engaged = false;\n        ship.targetIndex = -1;\n    }\n\n    static getTargetObject(ship: Ship): Target | null {\n        if (!game) return null;\n        if (ship.targetIndex === -1) return game.hangar.getTarget();\n        if (ship.targetIndex >= 0 && ship.targetIndex < game.space.planets.length) {\n            const planet = game.space.planets[ship.targetIndex]!;\n            if (!PlanetManager.doneBuilding(planet)) {\n                return planet;\n            }\n        }\n        // If current target is invalid or done, find a new one\n        ship.targetIndex = ShipManager.findClosestTarget(ship.x, ship.y);\n        return ship.targetIndex === -1 ? game.hangar.getTarget() : game.space.planets[ship.targetIndex]!;\n    }\n\n    static returnHome(ship: Ship) {\n        if (!game) return;\n        game.spaceDock.battleships += ship.count;\n        game.spaceDock.sended -= ship.count;\n        game.farms.food += ship.food * ShipManager.foodPerShip;\n        game.events.emit('spaceDock:updated');\n        for (let i = game.space.ships.length - 1; i >= 0; i--) {\n            const otherShip = game.space.ships[i];\n            if (otherShip === ship) {\n                game.space.ships.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    static isEmpty(ship: Ship) {\n        return ship.food <= 0;\n    }\n\n    static getSpeed(ship: Ship) {\n        if (game) {\n            return ShipManager.isEmpty(ship) ? game.spaceDock.emptySpeed : game.spaceDock.defaultSpeed;\n        }\n        return ShipManager.isEmpty(ship) ? 0.05 : 0.5;\n    }\n\n    static moveToNearestTarget(ship: Ship) {\n        const target = ShipManager.getTargetObject(ship);\n        if (!target) return;\n\n        if (getDistance(ship.x, ship.y, target.x, target.y) < 40) {\n            if (!('isHome' in target)) {\n                ship.engaged = true;\n                return;\n            }\n            ShipManager.returnHome(ship);\n            return;\n        }\n        \n        ship.engaged = false;\n        const magnitude = ShipManager.getSpeed(ship);\n        let extraTurn = 0;\n        const firstVC = target.y - ship.y;\n        const secondVC = target.x - ship.x;\n        if ((firstVC >= 0 && secondVC < 0) || (firstVC < 0 && secondVC < 0)) {\n            extraTurn = Math.PI;\n        }\n        const direction = Math.atan(firstVC / secondVC) + extraTurn; // (y2-y1)/(x2-x1)\n        ship.x = ship.x + magnitude * Math.cos(direction); // ||v||cos(theta)\n        ship.y = ship.y + magnitude * Math.sin(direction);\n        ship.direction = direction;\n    }\n\n    static attackTarget(ship: Ship) {\n        const target = ShipManager.getTargetObject(ship);\n        if (target && !('isHome' in target) && ship.engaged) {\n            const planet = target as Planet;\n            ship.actionCounter++;\n            if (ship.actionCounter >= ShipManager.actionSpeed) {\n                ship.actionCounter = 0;\n                if (PlanetManager.alive(planet)) {\n                    PlanetManager.takeDamage(planet, ShipManager.actionRate * ship.count);\n                } else {\n                    PlanetManager.workConstruction(planet, ship.count);\n                    if (PlanetManager.doneBuilding(planet)) {\n                        ship.engaged = false;\n                        ship.targetIndex = ShipManager.findClosestTarget(ship.x, ship.y);\n                    }\n                }\n            }\n        }\n    }\n\n    static combineShips(ship1: Ship, ship2: Ship) {\n        ship1.count += ship2.count;\n        ship1.energy += ship2.energy;\n        ship1.food += ship2.food;\n        if (ship2.actionCounter > ship1.actionCounter) {\n            ship1.actionCounter = ship2.actionCounter;\n        }\n    }\n}\n",
    "import PlanetManager from './PlanetManager';\n\nexport default class Planet {\n    isBoss: boolean | number = false;\n    view: {\n        color: number;\n        light: number;\n    };\n    x: number;\n    y: number;\n    mines: number = 0;\n    mineTicks: number = 0;\n    ore: number = 0;\n    bots: number = 0;\n    factoryTicks: number = 0;\n    solarTicks: number = 0;\n    solar: number = 0;\n    energy: number = 0;\n    coilgunTicks: number = 0;\n    coilgunCharge: number = 0;\n    \n    id?: number;\n    power: number = 0;\n    atmo: number = 0;\n    maxAtmo: number = 0;\n    health: number = 0;\n    maxHealth: number = 0;\n    dirt: number = 0;\n    maxMines: number = 0;\n\n    constructor() {\n        this.view = {\n            color: Math.floor(Math.random() * 360),\n            light: Math.floor(Math.random() * 15 + 40)\n        };\n\n        this.x = PlanetManager.xAreaAllowed();\n        this.y = PlanetManager.yAreaAllowed();\n        \n        PlanetManager.findArea(this);\n    }\n}\n",
    "import PlanetManager from './PlanetManager';\nimport ShipManager from './ShipManager';\nimport Planet from './Planet';\nimport Ship from './Ship';\nimport { sortArrayObjectsByValue } from '../utils/utils';\n\nexport default class Space {\n    planets: Planet[];\n    ships: Ship[];\n    sector: number;\n    allEmpty: boolean;\n\n    constructor() {\n        this.planets = [];\n        this.ships = [];\n        this.sector = 0;\n        this.allEmpty = false;\n    }\n\n    tick() {\n        const targetPlanet = this.planets[ShipManager.globalTargetIndex];\n        if (!targetPlanet || PlanetManager.doneBuilding(targetPlanet)) {\n            ShipManager.updateGlobalTarget();\n        }\n\n        if (!this.allEmpty) {\n            let empty = true;\n            for (let i = 0; i < this.planets.length; i++) {\n                PlanetManager.tick(this.planets[i]!);\n                if (empty && !PlanetManager.empty(this.planets[i]!))\n                    empty = false;\n            }\n            this.allEmpty = empty;\n        }\n\n        if (this.allEmpty && this.ships.length === 0) {\n            this.sector++;\n            this.newLevel();\n        }\n        for (let i = 0; i < this.ships.length; i++) {\n            ShipManager.tick(this.ships[i]!);\n        }\n    }\n\n    spawnShip(ship: Ship, y: number) {\n        ship.x = -120;\n        ship.y = y;\n        this.ships.push(ship);\n    }\n\n    newLevel() {\n        this.allEmpty = false;\n        this.planets = [];\n        for (let i = 0; i < 10; i++) {\n            const newPlanet = new Planet();\n            this.planets.push(newPlanet);\n        }\n        sortArrayObjectsByValue(this.planets, \"x\");\n        const lastPlanet = this.planets[this.planets.length - 1];\n        if (lastPlanet) lastPlanet.isBoss = true;\n\n        for (let i = 0; i < this.planets.length; i++) {\n            PlanetManager.calcPower(this.planets[i]!, this.sector);\n        }\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Ice {\n    ice: number;\n    buyable: number;\n    gain: number;\n    max: number;\n    transferred: number;\n    buyIncome: number = 0;\n\n    constructor() {\n        this.ice = 0;\n        this.buyable = 1000;\n        this.gain = 10;\n        this.max = 1000;\n        this.transferred = 0;\n    }\n\n    tick() {\n        this.transferred = 0;\n        this.buyIncome = 0;\n        this.buyable += this.gain / 100;\n        if (this.buyable > this.max) {\n            this.buyable = this.max;\n        }\n        game?.events.emit('ice:updated');\n    }\n\n    transferWater(): number {\n        this.transferred = this.ice / 1000;\n        this.ice -= this.transferred;\n        return this.transferred;\n    }\n\n    buyIce(toBuy: number): number {\n        if (this.buyable < toBuy) {\n            toBuy = this.buyable;\n        }\n        this.buyable -= toBuy;\n        this.ice += toBuy;\n        this.buyIncome += toBuy;\n        return toBuy;\n    }\n\n    findIceSeller(amount: number) {\n        this.max += amount * 200;\n        this.gain += amount;\n    }\n}",
    "import { game } from '../main';\n\nexport default class Water {\n    indoor: number;\n    outdoor: number;\n    maxIndoor: number;\n    selling: number;\n    excess: number;\n    gain: number;\n    waterSpending: number = 0;\n    transferred: number = 0;\n\n    constructor() {\n        this.indoor = 0;\n        this.outdoor = 0;\n        this.maxIndoor = 50;\n        this.selling = 0;\n        this.excess = 0;\n        this.gain = 0;\n    }\n\n    tick(gained: number) {\n        this.indoor += gained;\n\n        this.excess = this.indoor - this.maxIndoor;\n        if (this.excess > 0) {\n            this.indoor = this.maxIndoor;\n            this.outdoor += this.excess;\n        } else {\n            this.excess = 0;\n        }\n\n        this.selling = this.indoor / 100;\n        this.waterSpending += this.selling;\n        this.indoor -= this.selling;\n        const gain = this.selling * 2;\n        this.gain += gain;\n        if (game) game.cash += gain;\n        game?.events.emit('water:updated');\n    }\n\n    transferWater(): number {\n        this.transferred = this.outdoor / 1000;\n        this.outdoor -= this.transferred;\n        return this.transferred;\n    }\n\n    sellWater(toSell: number) {\n        if (this.indoor < toSell) {\n            toSell = this.indoor;\n        }\n        this.indoor -= toSell;\n        this.waterSpending += toSell;\n        const gain = this.getPrice(toSell);\n        this.gain += gain;\n        if (game) game.cash += gain;\n    }\n\n    getPrice(toSell: number): number {\n        return toSell * 2;\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Clouds {\n    water: number;\n    initialStormTimer: number;\n    stormTimer: number;\n    stormRate: number; // climbs to 100, stays for stormDuration, falls to 0\n    storming: number;\n    initialStormDuration: number;\n    stormDuration: number;\n    transferred: number;\n    lightningChance: number;\n    lightningStrength: number;\n\n    constructor() {\n        this.water = 0;\n        this.initialStormTimer = 300;\n        this.stormTimer = 300;\n        this.stormRate = 0; \n        this.storming = 0;\n        this.initialStormDuration = 60;\n        this.stormDuration = 60;\n        this.transferred = 0;\n        this.lightningChance = 0;\n        this.lightningStrength = 0;\n    }\n\n    tick(gained: number) {\n        this.transferred = 0;\n        this.water += gained;\n        this.nextStormTimer();\n        this.tickLightning();\n        game?.events.emit('clouds:updated');\n    }\n\n    tickLightning() {\n        this.lightningChance += .01 * this.stormRate / 100;\n        this.lightningStrength = this.water * .01;\n        if (this.stormRate === 100 && this.lightningChance > Math.random() * 100) {\n            this.lightningChance = 0;\n            if (game) game.energy.gainEnergy(this.lightningStrength);\n        }\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 500 * this.stormRate / 100;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    nextStormTimer() {\n        if (this.stormTimer > 0) {\n            this.stormTimer--;\n        } else if (this.stormDuration > 0) {\n            this.storming = 1;\n        }\n\n        if (this.stormRate >= 100) {\n            this.storming = 0;\n            if (this.stormDuration > 0) {\n                this.storming = 0;\n                this.stormDuration--;\n            } else {\n                this.storming = -1;\n            }\n        } else if (this.stormRate <= 0 && this.storming === -1) {\n            this.stormDuration = this.initialStormDuration;\n            this.stormTimer = this.initialStormTimer;\n            this.storming = 0;\n        }\n\n        this.stormRate += this.storming;\n    }\n\n    gainStormDuration(amount: number) {\n        this.stormDuration += amount;\n        this.initialStormDuration += amount;\n        game?.events.emit('clouds:stormDuration:updated');\n    }\n}",
    "import { game } from '../main';\n\nexport default class Land {\n    land: number;\n    baseLand: number;\n    optimizedLand: number;\n    water: number;\n    soil: number;\n    transferred: number;\n    convertedLand: number = 0;\n\n    constructor(totalLand: number) {\n        this.land = totalLand;\n        this.baseLand = totalLand;\n        this.optimizedLand = totalLand;\n        this.water = 0;\n        this.soil = 0;\n        this.transferred = 0;\n    }\n\n    tick(amount: number) {\n        this.transferred = 0;\n        this.water += amount;\n        this.turnLandToSoil();\n        game?.events.emit('land:updated');\n    }\n\n    turnLandToSoil() {\n        this.convertedLand = this.water / 1000;\n        if (this.land < this.convertedLand) {\n            this.convertedLand = this.land;\n        }\n        this.land -= this.convertedLand;\n        this.soil += this.convertedLand;\n        this.water -= this.convertedLand;\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    improveLand() {\n        const amount = (10 * this.baseLand - this.optimizedLand) / 100;\n        this.optimizedLand += amount;\n        this.land += amount;\n    }\n\n    addLand(amount: number) {\n        this.optimizedLand += amount;\n        this.land += amount;\n        this.baseLand += amount;\n    }\n}",
    "import { game } from '../main';\n\nexport default class Trees {\n    water: number;\n    ferns: number;\n    fernsDelta: number;\n    fernsWaterUse: number;\n    smallTrees: number;\n    smallTreesDelta: number;\n    smallTreesWaterUse: number;\n    trees: number;\n    treesDelta: number;\n    treesWaterUse: number;\n    totalPlants: number;\n    oxygenGain: number;\n    woodIncome: number = 0;\n    woodSpending: number = 0;\n    waterSpending: number = 0;\n    transferred: number = 0;\n\n    constructor() {\n        this.water = 0;\n        this.ferns = 0;\n        this.fernsDelta = 0;\n        this.fernsWaterUse = 0;\n        this.smallTrees = 0;\n        this.smallTreesDelta = 0;\n        this.smallTreesWaterUse = 0;\n        this.trees = 0;\n        this.treesDelta = 0;\n        this.treesWaterUse = 0;\n        this.totalPlants = 0;\n        this.oxygenGain = 0;\n    }\n\n    tick(amount: number) {\n        if (!game) return;\n        this.transferred = 0;\n        this.oxygenGain = 0;\n        this.woodIncome = 0;\n        this.woodSpending = 0;\n        this.waterSpending = 0;\n        this.water += amount;\n        this.plantGrowth();\n        this.oxygenGain = (this.ferns / 1000) + (3 * this.smallTrees / 1000) + (this.trees / 100);\n        game.oxygen += this.oxygenGain;\n        game.events.emit('trees:updated');\n    }\n\n    plantGrowth() {\n        if (!game) return;\n        this.totalPlants = this.ferns + this.smallTrees + this.trees;\n        this.treesDelta = this.smallTrees / 1000;\n        this.smallTreesDelta = this.ferns / 1000 - this.treesDelta;\n        this.fernsDelta = (game.land.soil - this.totalPlants) / 1000 - this.ferns / 1000;\n\n        this.fernsWaterUse = (game.land.soil - this.totalPlants) / 1000;\n        this.fernsWaterUse = this.fernsWaterUse < 0 ? 0 : this.fernsWaterUse;\n        this.smallTreesWaterUse = this.ferns / 1000;\n        this.treesWaterUse = this.smallTrees / 1000;\n\n        if (this.fernsDelta < 0) {\n            let excessDying = 0;\n            if (this.ferns + this.fernsDelta < 0) { // Not enough ferns to kill off\n                excessDying = this.fernsDelta + this.ferns;\n                this.fernsDelta = -1 * this.ferns;\n            }\n            this.smallTreesDelta += excessDying;\n            excessDying = 0;\n            if (this.smallTrees + this.smallTreesDelta < 0) { // Not enough small trees to kill off\n                excessDying = this.smallTrees + this.smallTreesDelta;\n                this.smallTreesDelta = -1 * this.smallTrees;\n            }\n            this.treesDelta += excessDying;\n        }\n        if (this.water < this.treesWaterUse) {\n            this.treesDelta = this.treesDelta > 0 ? this.water : this.treesDelta;\n            this.treesWaterUse = this.water;\n        }\n        this.trees += this.treesDelta;\n        this.water -= this.treesWaterUse;\n        this.waterSpending += this.treesWaterUse;\n\n        if (this.water < this.smallTreesWaterUse) {\n            this.smallTreesDelta = this.smallTreesDelta > 0 ? this.water : this.smallTreesDelta;\n            this.smallTreesWaterUse = this.water;\n        }\n        this.smallTrees += this.smallTreesDelta;\n        this.water -= this.smallTreesWaterUse;\n        this.waterSpending += this.smallTreesWaterUse;\n\n        if (this.water < this.fernsWaterUse) {\n            this.fernsDelta = this.fernsDelta > 0 ? this.water : this.fernsDelta;\n            this.fernsWaterUse = this.water;\n        }\n        this.ferns += this.fernsDelta;\n        this.water -= this.fernsWaterUse;\n        this.waterSpending += this.fernsWaterUse;\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Farms {\n    water: number;\n    farms: number;\n    food: number;\n    foodCreated: number;\n    efficiency: number;\n    farmRatio: number;\n    waterSpending: number = 0;\n    transferred: number = 0;\n\n    constructor() {\n        this.water = 0;\n        this.farms = 0;\n        this.food = 0;\n        this.foodCreated = 0;\n        this.efficiency = 1;\n        this.farmRatio = 0;\n    }\n\n    tick(amount: number) {\n        this.transferred = 0;\n        this.foodCreated = 0;\n        this.waterSpending = 0;\n        this.water += amount;\n        this.gainFood();\n        game?.events.emit('farms:updated');\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    gainFood() {\n        this.foodCreated = this.farms / 100 * this.efficiency;\n        if (this.foodCreated > this.water) {\n            this.foodCreated = this.water;\n        }\n        this.waterSpending += this.foodCreated;\n        this.water -= this.foodCreated;\n        this.food += this.foodCreated;\n    }\n\n    addFarm(amount: number) {\n        this.farms += amount;\n        game?.events.emit('farms:updated');\n    }\n\n    updateFarms(soil: number): number {\n        const totalPotentialSoil = soil + (this.farms * 50);\n        const desiredFarms = Math.floor((totalPotentialSoil * this.farmRatio / 100) / 50);\n        const diff = desiredFarms - this.farms;\n        if (diff !== 0) {\n            this.farms = desiredFarms;\n            game?.events.emit('farms:updated');\n            return diff * 50;\n        }\n        return 0;\n    }\n\n    improve() {\n        this.efficiency += .02;\n        game?.events.emit('farms:updated');\n    }\n}",
    "import { game } from '../main';\n\nexport default class City {\n    people: number;\n    foodEaten: number;\n    popGrowth: number;\n    starving: number;\n    scienceRatio: number;\n    scienceDelta: number;\n    cashDelta: number;\n    happiness: number;\n    houseBonus: number;\n    happinessFromTrees: number = 0;\n    happinessFromOxygen: number = 0;\n\n    constructor() {\n        this.people = 0;\n        this.foodEaten = 0;\n        this.popGrowth = 0;\n        this.starving = 0;\n        this.scienceRatio = 0;\n        this.scienceDelta = 0;\n        this.cashDelta = 0;\n        this.happiness = 1;\n        this.houseBonus = 1;\n    }\n\n    tick() {\n        if (!game) return;\n        this.foodEaten = this.people / 100;\n        if (this.foodEaten > game.farms.food) {\n            this.starving = this.foodEaten - game.farms.food;\n            this.foodEaten = game.farms.food;\n        } else {\n            this.starving = 0;\n        }\n        game.farms.food -= this.foodEaten;\n        this.popGrowth = (game.farms.food - this.people) / 1000 - this.starving / 100;\n        this.people += this.popGrowth;\n        this.updateHappiness();\n        this.tickRatio();\n        game.events.emit('population:updated');\n    }\n\n    updateHappiness() {\n        if (!game) return;\n        this.happinessFromTrees = Math.log10((game.trees.trees + 1)) / 10;\n        this.happinessFromOxygen = Math.log10((game.oxygen + 1)) / 20;\n        this.happiness = this.houseBonus * (1 + this.happinessFromTrees + this.happinessFromOxygen);\n    }\n\n    tickRatio() {\n        if (!game) return;\n        this.scienceDelta = this.people / 100 * (100 - this.scienceRatio) / 100 * this.happiness;\n        this.cashDelta = this.people / 100 * this.scienceRatio / 100 * this.happiness;\n        game.science += this.scienceDelta;\n        game.cash += this.cashDelta;\n    }\n\n    improveHouse() {\n        this.houseBonus += .1;\n    }\n}\n",
    "import { game } from '../main';\n\nexport class Process {\n    text: string;\n    tooltip: string;\n    workers: number;\n    currentTicks: number = 0;\n    ticksNeeded: number;\n    cost: number | number[];\n    costType: string | string[];\n    completions: number = 0;\n    isMoving: boolean = false;\n    spendingCategory?: { [key: string]: string };\n    finish: (this: Process) => void;\n    showing: boolean;\n    done?: (this: Process) => boolean;\n\n    constructor(A: Partial<Process> & { threads?: number }) {\n        this.text = A.text || \"\";\n        this.tooltip = A.tooltip || \"\";\n        this.workers = A.workers || A.threads || 0;\n        this.currentTicks = A.currentTicks || 0;\n        this.ticksNeeded = A.ticksNeeded || 0;\n        this.cost = A.cost ?? 0;\n        this.costType = A.costType ?? \"\";\n        this.spendingCategory = A.spendingCategory;\n        this.finish = A.finish || (() => { });\n        this.showing = A.showing !== undefined ? A.showing : true;\n        this.done = A.done;\n    }\n\n    tick(ticksGained: number, costMultiplier: number = 1, onSpend?: (type: string, amount: number) => void): number {\n        if (ticksGained === 0 || (this.done && this.done())) {\n            this.isMoving = false;\n            return 0;\n        }\n\n        if (this.ticksNeeded === 0) {\n            this.finish();\n            return 0;\n        }\n\n        if (this.cost && this.costType) {\n            const costs = Array.isArray(this.cost) ? this.cost : [this.cost];\n            const costTypes = Array.isArray(this.costType) ? this.costType : [this.costType];\n\n            for (let i = 0; i < costs.length; i++) {\n                const totalCost = ticksGained * costs[i]! * costMultiplier;\n                const type = costTypes[i];\n                if (type && game && (game as any)[type] < totalCost) {\n                    this.isMoving = false;\n                    return 0;\n                }\n            }\n\n            for (let i = 0; i < costs.length; i++) {\n                const totalCost = ticksGained * costs[i]! * costMultiplier;\n                const type = costTypes[i];\n                if (type && game) {\n                    (game as any)[type] -= totalCost;\n                    if (onSpend) onSpend(type, totalCost);\n                }\n            }\n        }\n\n        this.currentTicks += ticksGained;\n        this.isMoving = true;\n        let completionsGained = 0;\n        while (this.currentTicks >= this.ticksNeeded) {\n            this.currentTicks -= this.ticksNeeded;\n            this.completions++;\n            this.finish();\n            completionsGained++;\n        }\n        return completionsGained;\n    }\n}\n",
    "import { game } from '../main';\nimport { precision2, precision3 } from '../utils/utils';\nimport { Process } from './Process';\n\nexport default class Computer {\n    unlocked: number;\n    threads: number;\n    freeThreads: number;\n    speed: number;\n    processes: Process[];\n    cashSpending: number = 0;\n    scienceSpending: number = 0;\n    metalSpending: number = 0;\n    woodSpending: number = 0;\n    powerSpending: number = 0;\n\n    constructor() {\n        this.unlocked = 0;\n        this.threads = 1;\n        this.freeThreads = 1;\n        this.speed = 1;\n\n        this.processes = [\n            new Process({\n                // Optimize Land\n                text: \"Optimize Land\",\n                tooltip: \"Improve 1% of unimproved land.<br>Max to improve to is ( 10 x base land )<br>Percent Optimized: <div id='landOptimized'></div>\",\n                ticksNeeded: 600,\n                finish: function () {\n                    if (game) game.land.improveLand();\n                    if (game) this.ticksNeeded = Math.floor(game.land.baseLand);\n                    game?.events.emit('computer:optimize-land:updated');\n                },\n            }),\n            new Process({\n                // Buy Ice\n                text: \"Buy Ice\",\n                tooltip: \"Buy available ice\",\n                ticksNeeded: 50,\n                finish: function () {\n                    if (game) game.buyIce();\n                },\n            }),\n            new Process({\n                // Sell Water\n                text: \"Sell Water\",\n                tooltip: \"Sells up to 50 water\",\n                ticksNeeded: 50,\n                finish: function () {\n                    if (game) game.water.sellWater(50);\n                },\n            }),\n            new Process({\n                // Improve Farms\n                text: \"Improve Farms\",\n                tooltip: \"Farm efficiency increases by 2%\",\n                ticksNeeded: 40,\n                finish: function () {\n                    if (game) game.farms.improve();\n                    this.ticksNeeded = precision3(\n                        20 * (this.completions + 2) + Math.pow(this.completions, 2) / 10,\n                    );\n                },\n            }),\n            new Process({\n                // Find more Ice Sellers\n                text: \"Find more Ice Sellers\",\n                tooltip: \"Gain 200 buyable ice and 1 more per tick\",\n                ticksNeeded: 2000,\n                cost: 0.5,\n                costType: \"cash\",\n                finish: function () {\n                    if (game) game.ice.findIceSeller(1);\n                },\n            }),\n            new Process({\n                // Bigger Storms\n                text: \"Bigger Storms\",\n                tooltip: \"Storms last 5 more ticks. Max 300 duration.\",\n                ticksNeeded: 600,\n                cost: 2,\n                costType: \"science\",\n                finish: function () {\n                    if (game) game.clouds.gainStormDuration(5);\n                    this.cost = (this.cost as number) + 0.5;\n                    this.ticksNeeded += 50;\n                },\n                done: function () {\n                    if (game && game.clouds.initialStormDuration >= 300) {\n                        this.showing = false;\n                        game.events.emit('computer:visibility:updated');\n                        return true;\n                    }\n                    return false;\n                },\n                showing: true,\n            }),\n            new Process({\n                // Build Robots\n                text: \"Build Robots\",\n                tooltip: \"Builds a robot\",\n                ticksNeeded: 10000,\n                cost: 0.01,\n                costType: \"metal\",\n                finish: function () {\n                    if (game) game.robots.gainRobots(1);\n                },\n                showing: false,\n                done: function () {\n                    return game ? game.robots.robots >= game.robots.robotMax : false;\n                },\n            }),\n            new Process({\n                // More Robot Storage\n                text: \"More Robot Storage\",\n                tooltip: \"Can hold 5 more robots\",\n                ticksNeeded: 20000,\n                cost: 0.5,\n                costType: \"wood\",\n                finish: function () {\n                    if (game) game.robots.gainStorage(5);\n                    this.ticksNeeded += 2000;\n                },\n                showing: false,\n            }),\n            new Process({\n                // Improve House Design\n                text: \"Improve House Design\",\n                tooltip: \"Improves base happiness modifier by .1\",\n                ticksNeeded: 3000,\n                cost: 10,\n                costType: \"science\",\n                finish: function () {\n                    if (game) game.population.improveHouse();\n                    this.ticksNeeded += 500;\n                },\n                showing: false,\n            }),\n            new Process({\n                // Improve Ship engines\n                text: \"Improve Ship engines\",\n                tooltip: \"Ship speed increases by 0.1 and empty ship speed by 0.01\",\n                ticksNeeded: 20000,\n                cost: 10000,\n                costType: \"science\",\n                finish: function () {\n                    if (game) game.spaceDock.improveEngines(0.1, 0.01);\n                    this.cost = (this.cost as number) + 5000;\n                    this.ticksNeeded += 1000;\n                },\n                done: function () {\n                    if (game && game.spaceDock.defaultSpeed >= 1.0) {\n                        this.showing = false;\n                        game.events.emit('computer:visibility:updated');\n                        return true;\n                    }\n                    return false;\n                },\n                showing: false,\n            }),\n        ];\n\n        if (game) {\n            game.events.on('computer:unlocked', () => {\n                const robotProcs = [\"Build Robots\", \"More Robot Storage\", \"Improve House Design\"];\n                if (game && game.robots.unlocked !== 0) {\n                    this.processes.filter(p => robotProcs.includes(p.text)).forEach(p => p.showing = true);\n                }\n            });\n            game.events.on('robots:unlocked', () => {\n                const robotProcs = [\"Build Robots\", \"More Robot Storage\", \"Improve House Design\"];\n                this.processes.filter(p => robotProcs.includes(p.text)).forEach(p => p.showing = true);\n            });\n            game.events.on('spaceDock:unlocked', () => {\n                const proc = this.processes.find(p => p.text === \"Improve Ship engines\");\n                if(proc) proc.showing = true;\n            });\n        }\n    }\n\n    tick() {\n        this.cashSpending = 0;\n        this.scienceSpending = 0;\n        this.metalSpending = 0;\n        this.woodSpending = 0;\n        this.powerSpending = 0;\n        for (let i = 0; i < this.processes.length; i++) {\n            const process = this.processes[i]!;\n            this.tickRow(process, this.speed * process.workers);\n        }\n    }\n\n    tickRow(row: Process, ticksGained: number) {\n        if (!game) return;\n        if (ticksGained === 0) {\n            row.isMoving = false;\n            return;\n        }\n\n        if (row.done && row.done()) {\n            row.isMoving = false;\n            if (row.workers > 0) {\n                this.freeThreads += row.workers;\n                row.workers = 0;\n            }\n            game.events.emit('computer:threads:updated');\n            return;\n        }\n\n        row.tick(ticksGained, 1, (type, amount) => {\n            const category = (row.spendingCategory?.[type] || (type + \"Spending\")) as keyof Computer;\n            if (this[category] !== undefined && typeof this[category] === 'number') {\n                (this[category] as number) += amount;\n            }\n        });\n    }\n\n    unlockComputer() {\n        if (!game) return;\n        if (game.science >= 1000) {\n            game.science -= 1000;\n            this.unlocked = 1;\n            game.events.emit('computer:unlocked');\n        }\n    }\n\n    buyThread() {\n        if (!game) return;\n        const threadCost = this.getThreadCost();\n        if (game.cash >= threadCost) {\n            game.cash -= threadCost;\n            this.threads++;\n            this.freeThreads++;\n            game.events.emit('computer:threads:updated');\n        }\n    }\n\n    getThreadCost() {\n        return precision2(Math.pow(2, this.threads) * 500);\n    }\n\n    buySpeed() {\n        if (!game) return;\n        const speedCost = this.getSpeedCost();\n        if (game.science >= speedCost) {\n            game.science -= speedCost;\n            this.speed++;\n            game.events.emit('computer:speed:updated');\n        }\n    }\n\n    getSpeedCost() {\n        return precision2(Math.pow(2, this.speed) * 500);\n    }\n\n    addThread(dataPos: number, numAdding: number) {\n        numAdding = Math.min(numAdding, this.freeThreads);\n        const proc = this.processes[dataPos];\n        if (proc) {\n            proc.workers += numAdding;\n            this.freeThreads -= numAdding;\n            game?.events.emit('computer:threads:updated');\n        }\n    }\n\n    removeThread(dataPos: number, numRemoving: number) {\n        const proc = this.processes[dataPos];\n        if (proc) {\n            numRemoving = Math.min(numRemoving, proc.workers);\n            proc.workers -= numRemoving;\n            this.freeThreads += numRemoving;\n            game?.events.emit('computer:threads:updated');\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { Process } from './Process';\n\nexport default class Robots {\n    robots: number;\n    robotsFree: number;\n    robotMax: number;\n    unlocked: number;\n    mines: number;\n    jobs: Process[];\n    woodIncome: number = 0;\n    woodSpending: number = 0;\n    metalIncome: number = 0;\n    metalSpending: number = 0;\n    oreIncome: number = 0;\n    oreSpending: number = 0;\n    oreToDirtSpending: number = 0;\n    oxygenSpending: number = 0;\n    powerSpending: number = 0;\n\n    constructor() {\n        this.robots = 0;\n        this.robotsFree = 0;\n        this.robotMax = 5;\n        this.unlocked = 0;\n        this.mines = 0;\n\n        this.jobs = [\n            new Process({ // Cut Trees\n                text: \"Cut Trees\",\n                tooltip: \"Cut down 2 trees for 1 wood\",\n                finish: function () { if (game) game.robots.cutTrees(this.workers); }\n            }),\n            new Process({ // Expand indoor water storage\n                text: \"Expand indoor water storage\",\n                tooltip: \"Gives 50 more max indoor water.<br>Cost increases by 1\",\n                ticksNeeded: 3000,\n                cost: [.1],\n                costType: [\"metal\"],\n                finish: function () {\n                    this.ticksNeeded += 1000;\n                    if (game) {\n                        game.water.maxIndoor += 50;\n                        game.events.emit('water:maxIndoor:updated');\n                    }\n                }\n            }),\n            new Process({ // Build Mines\n                text: \"Build Mines\",\n                tooltip: \"Build mines to get ore. Limit: <span id='minesLimit'></span>. Currently: <span id='minesCount'></span>\",\n                ticksNeeded: 300,\n                cost: [1],\n                costType: [\"wood\"],\n                finish: function () {\n                    if (game) {\n                        game.robots.mines++;\n                        game.events.emit('robots:mines:updated');\n                    }\n                    this.ticksNeeded += 200 + this.completions * 50;\n                },\n                done: function () {\n                    if (!game) return false;\n                    const landUnits = game.land.optimizedLand / 1000;\n                    const limit = Math.floor(Math.sqrt(landUnits) / 10)+1;\n                    return game.robots.mines >= limit;\n                }\n            }),\n            new Process({ // Mine Ore\n                text: \"Mine Ore\",\n                tooltip: \"Get (mines / 100) ore per tick\",\n                finish: function () { if (game) game.robots.mineOre(this.workers); }\n            }),\n            new Process({ // Smelt Ore\n                text: \"Smelt Ore\",\n                tooltip: \"Each tick costs 5 wood, 1 ore, and 1000 oxygen<br>Gain 1 metal\",\n                finish: function () { if (game) game.robots.smeltOre(this.workers); }\n            }),\n            new Process({ // Turn ore into dirt\n                text: \"Turn ore into dirt\",\n                tooltip: \"Each tick costs 1 energy and 1000 ore<br>Gain 5 Base Land<br>Total land gained: <span id='totalDirtFromOre'></span>\",\n                ticksNeeded: 1000,\n                cost: [1, 1000],\n                costType: [\"power\", \"ore\"],\n                spendingCategory: { \"ore\": \"oreToDirtSpending\" },\n                finish: function () { if (game) game.land.addLand(50); },\n                showing: false,\n            })\n        ];\n\n        if (game) {\n            game.events.on('energy:unlocked', () => {\n                const proc = this.jobs.find(p => p.text === \"Turn ore into dirt\");\n                if (proc) proc.showing = true;\n            });\n        }\n    }\n\n    tick() {\n        this.woodIncome = 0;\n        this.woodSpending = 0;\n        this.metalIncome = 0;\n        this.metalSpending = 0;\n        this.oreIncome = 0;\n        this.oreSpending = 0;\n        this.oreToDirtSpending = 0;\n        this.oxygenSpending = 0;\n        this.powerSpending = 0;\n        for (let i = 0; i < this.jobs.length; i++) {\n            this.tickRow(this.jobs[i]!, this.jobs[i]!.workers);\n        }\n    }\n\n    tickRow(row: Process, ticksGained: number) {\n        if (!game) return;\n        \n        const completions = row.tick(ticksGained, 1, (type, amount) => {\n            const category = (row.spendingCategory?.[type] || (type + \"Spending\")) as keyof Robots;\n            if (this[category] !== undefined && typeof this[category] === 'number') {\n                (this[category] as number) += amount;\n            }\n        });\n\n        if (completions > 0) {\n            game.events.emit('robots:count:updated');\n        }\n    }\n\n    gainRobots(amount: number) {\n        this.robots += amount;\n        this.robotsFree += amount;\n        game?.events.emit('robots:count:updated');\n    }\n\n    gainStorage(amount: number) {\n        this.robotMax += amount;\n        game?.events.emit('robots:storage:updated');\n    }\n\n    unlockRobots() {\n        if (!game) return;\n        if (game.cash >= 3000) {\n            game.cash -= 3000;\n            this.unlocked = 1;\n            game.events.emit('robots:unlocked');\n            this.gainRobots(1);\n        }\n        game.events.emit('robots:count:updated');\n        game.events.emit('robots:storage:updated');\n    }\n\n    addWorker(dataPos: number, numAdding: number) {\n        const job = this.jobs[dataPos];\n        if (job) {\n            numAdding = Math.min(numAdding, this.robotsFree);\n            job.workers += numAdding;\n            this.robotsFree -= numAdding;\n        }\n        game?.events.emit('robots:count:updated');\n    }\n\n    removeWorker(dataPos: number, numRemoving: number) {\n        const job = this.jobs[dataPos];\n        if (job) {\n            numRemoving = Math.min(numRemoving, job.workers);\n            job.workers -= numRemoving;\n            this.robotsFree += numRemoving;\n        }\n        game?.events.emit('robots:count:updated');\n    }\n\n    cutTrees(mult: number) {\n        if (game && game.trees.trees >= 2 * mult) {\n            game.trees.trees -= 2 * mult;\n            game.wood += mult;\n            this.woodIncome += mult;\n        }\n    }\n\n    mineOre(mult: number) {\n        if (game) {\n            const gain = game.robots.mines / 100 * mult;\n            game.ore += gain;\n            this.oreIncome += gain;\n        }\n    }\n\n    smeltOre(mult: number) {\n        if (game && game.wood >= 5 * mult && game.ore >= mult && game.oxygen >= mult * 1000) {\n            game.wood -= 5 * mult;\n            game.ore -= mult;\n            game.oxygen -= 1000 * mult;\n            game.metal += mult;\n            this.woodSpending += 5 * mult;\n            this.oreSpending += mult;\n            this.oxygenSpending += 1000 * mult;\n            this.metalIncome += mult;\n        }\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Energy {\n    unlocked: number;\n    battery: number;\n    drain: number = 0;\n    powerPerTick: number = 0;\n\n    constructor() {\n        this.unlocked = 0;\n        this.battery = 100;\n    }\n\n    unlockEnergy() {\n        if (game && game.metal >= 500) {\n            game.metal -= 500;\n            this.unlocked = 1;\n            game.events.emit('energy:unlocked');\n        }\n        game?.events.emit('energy:battery:updated');\n    }\n\n    tick() {\n        if (!game) return;\n        this.drain = game.computer.powerSpending + game.robots.powerSpending + game.spaceStation.powerSpending;\n        this.powerPerTick = this.battery / 100;\n        game.power += this.powerPerTick;\n        game.power -= this.drain;\n        if (game.power < 0) {\n            game.power = 0;\n        }\n        game.events.emit('energy:updated');\n    }\n\n    gainEnergy(amount: number) {\n        if (game) game.power += amount;\n    }\n\n    buyBattery(amount: number) {\n        this.battery += amount;\n        game?.events.emit('energy:battery:updated');\n    }\n}",
    "import { game } from '../main';\nimport { OrbitingResource } from '../types';\n\nexport default class SpaceStation {\n    unlocked: number;\n    orbiting: OrbitingResource[];\n    waterIncome: number = 0;\n    powerSpending: number = 0;\n\n    constructor() {\n        this.unlocked = 0;\n        this.orbiting = [\n            {\n                type: \"ice\",\n                amount: 1e6\n            },\n            {\n                type: \"dirt\",\n                amount: 500\n            }\n        ];\n    }\n\n    unlockSpaceStation() {\n        if (game && game.metal >= 2000 && game.wood >= 20000) {\n            game.metal -= 2000;\n            game.wood -= 20000;\n            this.unlocked = 1;\n            game.events.emit('spaceStation:unlocked');\n        }\n        game?.events.emit('spaceStation:updated');\n    }\n\n    tick() {\n        this.waterIncome = 0;\n        if (!this.unlocked || !game) {\n            return;\n        }\n        for (let i = 0; i < this.orbiting.length; i++) {\n            const resource = this.orbiting[i]!;\n            const take = resource.amount / 100000;\n            resource.amount -= take;\n            const type = resource.type;\n            if (type === \"ice\") {\n                game.ice.ice += take;\n                this.waterIncome += take;\n            } else if (type === \"dirt\") {\n                game.land.addLand(take);\n            }\n        }\n    }\n}\n",
    "export function calculateCometTrajectory(speed: number, duration: number, randomY: number) {\n    const totalDistance = speed * duration;\n    const startingY = randomY * (totalDistance * .4) + totalDistance * .1;\n    const endingX = Math.pow(Math.pow(totalDistance, 2) - Math.pow(startingY, 2), .5);\n    const slope = (0 - startingY) / (endingX);\n    return { startingY, endingX, slope };\n}\n",
    "import { game, incrementCometId } from '../main';\nimport { Comet, OrbitingResource } from '../types';\nimport { calculateCometTrajectory } from '../utils/cometUtils';\n\nexport default class TractorBeam {\n    unlocked: number;\n    cometSpotChance: number;\n    takeAmount: OrbitingResource[];\n    comets: Comet[];\n\n    constructor() {\n        this.unlocked = 0;\n        this.cometSpotChance = 0.006;\n        this.takeAmount = [\n            { type: \"ice\", amount: 0 },\n            { type: \"dirt\", amount: 0 }\n        ];\n        this.comets = [];\n    }\n\n\n    tick() {\n        if (!this.unlocked || !game) {\n            return;\n        }\n        this.checkForNewAsteroids();\n\n        if (this.comets.length) {\n            const transferred = game.power / 1000;\n            game.power -= this.pullIntoOrbit(transferred);\n            this.removeAsteroidIfDone();\n        }\n    }\n\n    unlockTractorBeam() {\n        if (!game) return;\n        if (game.science >= 5e5 && game.oxygen >= 5e6) {\n            game.science -= 5e5;\n            game.oxygen -= 2e6;\n            this.unlocked = 1;\n            game.events.emit('tractorBeam:unlocked');\n            game.spaceDock.unlocked = 1;\n            game.events.emit('spaceDock:unlocked');\n        }\n        game.events.emit('tractorBeam:updated');\n    }\n\n    pullIntoOrbit(energy: number): number {\n        if (!game) return 0;\n        const maxtaken = energy / this.comets.length;\n        let used = 0;\n        for (let j = 0; j < game.spaceStation.orbiting.length; j++) {\n            const orbiting = game.spaceStation.orbiting[j]!;\n            let totalAmount = 0;\n            for (let i = 0; i < this.comets.length; i++) {\n                const comet = this.comets[i]!;\n                if (comet.amountType === orbiting.type) {\n                    const taken = Math.min(maxtaken, comet.amount);\n                    used += taken;\n                    comet.amount -= taken;\n                    totalAmount += taken;\n                }\n            }\n            orbiting.amount += totalAmount;\n            \n            // Update takeAmount tracking\n            const takenResource = this.takeAmount.find(r => r.type === orbiting.type);\n            if (takenResource) {\n                takenResource.amount = totalAmount;\n            } else {\n                this.takeAmount.push({ type: orbiting.type, amount: totalAmount });\n            }\n        }\n        return used;\n    }\n\n    checkForNewAsteroids() {\n        const discoverChance = Math.random();\n        if (discoverChance < this.cometSpotChance) {\n            this.addComet();\n        }\n    }\n\n    removeAsteroidIfDone() {\n        const length = this.comets.length - 1;\n        for (let i = length; i >= 0; i--) {\n            const comet = this.comets[i]!;\n            comet.duration--;\n            if (comet.duration < 0 || comet.amount < 1) {\n                if (comet.drawed)\n                    game?.events.emit('tractorBeam:removeComet', comet);\n                this.comets.splice(i, 1);\n            }\n        }\n    }\n\n    addComet() {\n        if (!game || this.comets.length > 20) {\n            return;\n        }\n        const typeRoll = Math.random();\n        const amountRoll = Math.random() * 100 * game.space.sector + 200;\n        const durationRoll = Math.floor(Math.random() * 800 + 400);\n        const speedRoll = Math.random() * 2 + 1;\n        let comet: Partial<Comet> = {};\n\n        if (typeRoll < .9) {\n            comet = {\n                name: \"Comet\",\n                amountType: \"ice\",\n                amount: amountRoll * 1000,\n                initialAmount: amountRoll * 1000,\n                duration: durationRoll,\n                initialDuration: durationRoll,\n                speed: speedRoll,\n            };\n        } else {\n            comet = {\n                name: \"Asteroid\",\n                amountType: \"dirt\",\n                amount: amountRoll,\n                initialAmount: amountRoll,\n                duration: durationRoll * 2,\n                initialDuration: durationRoll * 2,\n                speed: speedRoll / 2,\n            };\n        }\n        comet.id = incrementCometId();\n        comet.drawed = false;\n\n        const trajectory = calculateCometTrajectory(comet.speed || 0, comet.duration || 0, Math.random());\n        comet.startingY = trajectory.startingY;\n        comet.endingX = trajectory.endingX;\n        comet.slope = trajectory.slope;\n        comet.left = 0;\n\n        this.comets.push(comet as Comet);\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class SpaceDock {\n    battleships: number;\n    unlocked: number;\n    sended: number;\n    defaultSpeed: number = 0.5;\n    emptySpeed: number = 0.05;\n\n    constructor() {\n        this.battleships = 0;\n        this.unlocked = 0;\n        this.sended = 0;\n    }\n\n    addBattleship(amount: number) {\n        this.battleships += amount;\n        game?.events.emit('spaceDock:updated');\n    }\n\n    improveEngines(speedGain: number, emptySpeedGain: number) {\n        this.defaultSpeed += speedGain;\n        this.emptySpeed += emptySpeedGain;\n        game?.events.emit('spaceDock:updated');\n    }\n}",
    "export default class Ship {\n    count: number;\n    food: number;\n    actionCounter: number;\n    energy: number;\n    x: number;\n    y: number;\n    engaged: boolean;\n    direction: number;\n    targetIndex: number; // -1 for home, 0+ for planets\n\n    constructor(count: number, food: number, foodPerShip: number) {\n        this.count = count;\n        this.food = food / foodPerShip;\n        this.actionCounter = 0;\n        this.energy = 0;\n        this.x = 0;\n        this.y = 0;\n        this.engaged = false;\n        this.direction = 0;\n        this.targetIndex = -1;\n    }\n}\n",
    "import { game } from '../main';\nimport Ship from './Ship';\nimport ShipManager from './ShipManager';\n\nexport default class Hangar {\n    sendRate: number;\n    timeRemaining: number;\n    totalTime: number;\n    y: number;\n    maxMines: number;\n\n    constructor() {\n        this.sendRate = 1;\n        this.timeRemaining = this.totalTime = 40;\n        this.y = (game?.canvasHeight || 600) * 0.5 - 25;\n        this.maxMines = 10;\n    }\n\n    tick() {\n        if (!game) return;\n        this.y = game.canvasHeight * 0.5 - 25;\n        this.timeRemaining--;\n        if (this.timeRemaining < 0) {\n            if (game.spaceDock.battleships > 0 && !game.space.allEmpty) {\n                const tosend = Math.min(this.sendRate, game.spaceDock.battleships);\n                const foodTaken = game.farms.food * .05; // Take 5% food per launch\n                game.farms.food -= foodTaken;\n                const newShip = new Ship(tosend, foodTaken, ShipManager.foodPerShip);\n                newShip.targetIndex = ShipManager.globalTargetIndex;\n                game.space.spawnShip(newShip, this.y);\n                game.spaceDock.battleships -= tosend;\n                game.spaceDock.sended += tosend;\n                game.events.emit('spaceDock:updated');\n                this.timeRemaining = this.totalTime;\n            } else {\n                this.timeRemaining = 0;\n            }\n        }\n    }\n\n    getTarget() {\n        return {\n            isHome: true as const,\n            x: -125,\n            y: this.y,\n        }\n    }\n}",
    "export default class ProgressBar {\n    aProgress: HTMLCanvasElement | null;\n    color: string;\n    private lastPercentage: number = -1;\n\n    constructor(id: string, color: string) {\n        this.aProgress = document.getElementById(id) as HTMLCanvasElement;\n        this.color = color;\n    }\n\n    tick(ticks: number, ticksNeeded: number) {\n        if (!this.aProgress || ticksNeeded <= 0) return;\n        const percentage = (ticks / ticksNeeded);\n        if (Math.abs(this.lastPercentage - percentage) < 0.001) return;\n        this.lastPercentage = percentage;\n        \n        this.reset(this.aProgress);\n        this.drawProgress(this.aProgress, percentage, this.color);\n    }\n\n    reset(bar: HTMLCanvasElement) {\n        if (!bar) return;\n        const barCTX = bar.getContext(\"2d\");\n        if (!barCTX) return;\n        barCTX.lineCap = 'square';\n\n        const center = bar.width / 2;\n        const radius = (bar.width / 2) - 5;\n\n        barCTX.beginPath();\n        barCTX.lineWidth = 8;\n        barCTX.fillStyle = '#1e1e1e'; // Matches --card-bg\n        barCTX.arc(center, center, radius, 0, 2 * Math.PI);\n        barCTX.fill();\n    }\n\n    drawProgress(bar: HTMLCanvasElement, percentage: number, color: string) {\n        if (!bar) return;\n        const barCTX = bar.getContext(\"2d\");\n        if (!barCTX) return;\n        const quarterTurn = Math.PI / 2;\n        const endingAngle = ((2 * percentage * .95) * Math.PI) - quarterTurn * .9; //.985 because lineWidth\n        const startingAngle = 0 - quarterTurn * .9;\n\n        const center = bar.width / 2;\n        const radius = (bar.width / 2) - 10;\n\n        barCTX.lineCap = 'square';\n\n        barCTX.beginPath();\n        barCTX.lineWidth = 8;\n        barCTX.strokeStyle = color;\n        barCTX.arc(center, center, radius, startingAngle, endingAngle);\n        barCTX.stroke();\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, withinDistance } from '../utils/utils';\nimport PlanetManager from '../core/PlanetManager';\nimport ShipManager from '../core/ShipManager';\nimport Ship from '../core/Ship';\nimport Planet from '../core/Planet';\n\nconst canvas = document.getElementById(\"spaceCanvas\") as HTMLCanvasElement;\nconst ctx = canvas ? canvas.getContext(\"2d\") : null;\nif (ctx) ctx.font = \"13px Arial\";\nlet xOffset = 240;\nlet mousePos: {x: number, y: number} = {x: 0, y: 0};\n\nfunction resizeCanvas() {\n    if (!canvas || !game) return;\n    if (canvas.width !== game.canvasWidth || canvas.height !== game.canvasHeight) {\n        canvas.width = game.canvasWidth;\n        canvas.height = game.canvasHeight;\n        xOffset = canvas.width / 5; \n        if (ctx) ctx.font = \"13px Arial\";\n    }\n}\n\nif (canvas) {\n    window.addEventListener('resize', resizeCanvas);\n    resizeCanvas();\n    canvas.addEventListener('mousemove', function(e) {\n        mousePos = {x:e.offsetX - xOffset, y:e.offsetY};\n    });\n}\n\nexport default function updateSpace() {\n    if (!ctx || !game || !canvas) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawTargets();\n    drawBattleships();\n    drawTooltips();\n}\n\nfunction drawTooltips() {\n    if (!game) return;\n    for(let i = 0; i < game.space.planets.length; i++) {\n        drawPlanetTooltip(game.space.planets[i]!);\n    }\n}\n\nfunction drawBattleships() {\n    if (!game) return;\n    for(let i = 0; i < game.space.ships.length; i++) {\n        drawShip(game.space.ships[i]!);\n    }\n}\n\nfunction drawTargets() {\n    if (!game) return;\n    for(let i = 0; i < game.space.planets.length; i++) {\n        const planet = game.space.planets[i]!;\n        drawPlanet(planet, planet.isBoss ? \"B\" : (i+1).toString());\n    }\n}\n\nfunction drawBorders() {\n    if (!ctx || !canvas) return;\n    ctx.fillStyle = \"yellow\";\n    // Scale borders to canvas size\n    ctx.fillRect(canvas.width * 0.1, canvas.height * 0.85, canvas.width * 0.8, 1);\n}\n\nfunction drawShip(ship: Ship) {\n    if (!ctx) return;\n    const offsetX = ship.x + xOffset;\n\n    // Laser animation\n    const target = ShipManager.getTargetObject(ship);\n    if (ship.engaged && target && ship.actionCounter < 10) {\n        const isHome = 'isHome' in target;\n        const targetSize = getPlanetSize(!isHome ? (target as Planet).isBoss : false);\n        ctx.save();\n        ctx.beginPath();\n        ctx.strokeStyle = \"rgba(255, 50, 50, \" + (1 - ship.actionCounter / 10) + \")\";\n        ctx.lineWidth = 3;\n        ctx.moveTo(offsetX + 25, ship.y + 25);\n        ctx.lineTo(target.x + xOffset + targetSize, target.y + targetSize);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    ctx.save();\n    ctx.translate(offsetX+25, ship.y+25);\n    ctx.rotate(ship.direction);\n\n    const point1 = {x:-10, y:-10};\n    const point2 = {x:10, y:0};\n    const point3 = {x:-10, y:10};\n    const point4 = {x:-7, y:0};\n\n    ctx.beginPath();\n    ctx.fillStyle=\"#008080\";\n    ctx.lineWidth = 3;\n    ctx.moveTo(point1.x, point1.y);\n    ctx.lineTo(point2.x, point2.y);\n    ctx.lineTo(point3.x, point3.y);\n    ctx.lineTo(point4.x, point4.y);\n    // ctx.stroke();\n    ctx.fill();\n    ctx.restore();\n\n    ctx.save();\n    ctx.translate(offsetX+25, ship.y+25);\n    ctx.fillStyle = \"white\";\n    ctx.fillText(intToString(ship.count),-4,20);\n    ctx.fillText(intToString(ship.food / ship.count / 10,1),-4,30);\n    ctx.restore();\n}\n\nfunction drawPlanet(planet: any, text: string) {\n    if (!ctx) return;\n    const size = getPlanetSize(planet.isBoss);\n    const offsetX = planet.x + xOffset;\n    \n    ctx.save();\n    ctx.translate(offsetX+size, planet.y+size);\n\n    drawPlanetAtmo(planet, size);\n    drawPlanetHealth(planet, size);\n    drawPlanetObjects(planet, size);\n\n    ctx.fillStyle = \"white\";\n    ctx.fillText(text,-3,4);\n    ctx.restore();\n}\n\nfunction drawPlanetTooltip(planet: any) {\n    if (!ctx) return;\n    const size = getPlanetSize(planet.isBoss);\n    const offsetX = planet.x + xOffset;\n\n    const showTooltip = withinDistance(mousePos.x, mousePos.y, planet.x+size, planet.y+size, 50);\n    if(!showTooltip) {\n        return;\n    }\n\n    ctx.save();\n    ctx.translate(offsetX+size, planet.y+size);\n\n    ctx.fillStyle = \"#ffffff\";\n    ctx.fillText(\"Atmosphere: \" + intToString(planet.atmo),-15,size);\n    ctx.fillText(\"Reduction: \"+intToString(PlanetManager.getShieldReduction(planet)*100)+\"%\",-15,size+10);\n    ctx.fillText(\"Health: \"+intToString(planet.health),-15,size+20);\n    ctx.fillText(\"Dirt: \"+intToString(planet.dirt),-15,size+30);\n    ctx.fillText(\"Ore: \"+intToString(planet.ore),-15,size+40);\n    ctx.fillText(\"C.Bots: \"+intToString(planet.bots)+ \" / \" + intToString(planet.maxMines),-15,size+50);\n    ctx.fillText(\"Solar: \"+intToString(planet.solar),-15,size+60);\n    ctx.fillText(\"Build Factory: \"+intToString(planet.factoryTicks)+\" / \" + intToString(PlanetManager.FACTORY_TICKS_MAX),-15,size+70);\n    ctx.fillText(\"Build Coilgun: \"+intToString(planet.coilgunTicks)+\" / \" + intToString(PlanetManager.COILGUN_TICKS_MAX),-15,size+80);\n    ctx.fillText(\"Coilgun Charge: \"+intToString(planet.coilgunCharge)+\" / \" + intToString(PlanetManager.COILGUN_CHARGE_MAX),-15,size+90);\n    ctx.fillText(\"Build Solar: \"+intToString(planet.solarTicks)+\" / \" + intToString(PlanetManager.SOLAR_TICKS_MAX),-15,size+100);\n    ctx.fillText(\"Mines: \"+intToString(planet.mines)+ \" / \" + intToString(planet.maxMines),-15,size+110);\n    ctx.fillText(\"Build Mine: \"+intToString(planet.mineTicks)+ \" / \" + intToString(PlanetManager.MINE_TICKS_MAX),-15,size+120);\n\n    ctx.restore();\n}\n\nfunction drawPlanetAtmo(planet: any, size: number) {\n    if (!ctx) return;\n    const atmoRatio = size * (planet.atmo / planet.maxAtmo / 2 + .5);\n    const atmosphere = ctx.createRadialGradient(0, 0, atmoRatio*1.1, 0, 0, atmoRatio/3.3);\n    atmosphere.addColorStop(0, 'black');\n    const color = \"hsl(\"+ (planet.view.color+120) +\",90%,60%)\";\n    atmosphere.addColorStop(1, color);\n    ctx.fillStyle = atmosphere;\n    ctx.fillRect(-size,-size,size*2,size*2);\n\n    ctx.beginPath();\n    ctx.strokeStyle=\"#008080\";\n    ctx.lineWidth = 3;\n    ctx.arc(0,0,size-4,0,2*Math.PI * (planet.atmo / planet.maxAtmo));\n    ctx.stroke();\n}\n\nfunction drawPlanetHealth(planet: any, size: number) {\n    if (!ctx) return;\n    ctx.beginPath();\n    const saturation = Math.floor(planet.health / planet.maxHealth * 70 + 10); // 10-80\n    ctx.fillStyle = \"hsl(\"+ planet.view.color +\",\"+saturation+\"%,\"+planet.view.light+\"%)\";\n    ctx.arc(0,0,size/2,0,2*Math.PI);\n    ctx.fill();\n\n    ctx.beginPath();\n    ctx.strokeStyle=\"#b6000b\";\n    ctx.lineWidth = 3;\n    ctx.moveTo(-size*2/3, -size);\n    ctx.lineTo(-size*2/3 + (size*4/3 * (planet.health / planet.maxHealth)), -size);\n    ctx.stroke();\n}\n\nfunction drawPlanetObjects(planet: any, size: number) {\n    if (!ctx || PlanetManager.empty(planet)) return;\n    \n    const quarterTurn = Math.PI / 2;\n    const startAngle = -quarterTurn;\n\n    // Factory: Progress arc (Outer)\n    if (planet.factoryTicks > 0 && planet.factoryTicks < PlanetManager.FACTORY_TICKS_MAX) {\n        const percentage = planet.factoryTicks / PlanetManager.FACTORY_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#888888\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.9, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Coilgun: Construction arc\n    if (planet.coilgunTicks > 0 && planet.coilgunTicks < PlanetManager.COILGUN_TICKS_MAX) {\n        const percentage = planet.coilgunTicks / PlanetManager.COILGUN_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#884400\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.8, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Coilgun: Charge arc\n    if (planet.coilgunTicks >= PlanetManager.COILGUN_TICKS_MAX && planet.coilgunCharge > 0) {\n        const percentage = planet.coilgunCharge / PlanetManager.COILGUN_CHARGE_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#ffcc00\"; // Gold for charge\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.8, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Solar: Progress arc (Next panel)\n    if (planet.solar > 0 || planet.solarTicks > 0) {\n        const percentage = planet.solarTicks / PlanetManager.SOLAR_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#4444ff\"; // Bright blue\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.7, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Mines: Progress arc (Inner)\n    if (planet.mines < planet.maxMines && planet.mineTicks > 0) {\n        const percentage = planet.mineTicks / PlanetManager.MINE_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#666666\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.6, startAngle, endAngle);\n        ctx.stroke();\n    }\n}\n\nfunction getPlanetSize(isBoss: boolean | number) {\n    return isBoss ? 40 : 25;\n}\n",
    "export default abstract class BaseView {\n    protected textCache: Map<string, string> = new Map();\n    protected elementCache: Map<string, HTMLElement> = new Map();\n\n    public clearCache() {\n        this.textCache.clear();\n        this.elementCache.clear();\n    }\n\n    protected getElement(id: string): HTMLElement {\n        let el: HTMLElement | undefined = this.elementCache.get(id);\n        if (!el) {\n            const domEl = document.getElementById(id);\n            if (!domEl) throw new Error(`Element ${id} not found`);\n            el = domEl;\n            this.elementCache.set(id, el);\n        }\n        return el;\n    }\n\n    protected updateElementText(id: string, value: string) {\n        if (this.textCache.get(id) === value) return;\n\n        this.getElement(id).textContent = value;\n        this.textCache.set(id, value);\n    }\n\n    protected updateElementHTML(id: string, value: string) {\n        if (this.textCache.get(id) === value) return;\n\n        this.getElement(id).innerHTML = value;\n        this.textCache.set(id, value);\n    }\n\n    protected elementExists(id: string): boolean {\n        return this.elementCache.has(id) || document.getElementById(id) !== null;\n    }\n\n    protected setVisible(id: string, visible: boolean) {\n        if (!this.elementExists(id)) return;\n        const el = this.getElement(id);\n        if (visible) {\n            el.classList.remove('hidden');\n        } else {\n            el.classList.add('hidden');\n        }\n    }\n\n    public abstract update(): void;\n\n    public updateFull() {\n        this.update();\n    }\n}\n",
    "import EventEmitter from \"../utils/EventEmitter\";\n\nexport default class UIEvents {\n    private static pendingNotifications: Map<(...args: any[]) => void, any[]> = new Map();\n    private static specialEvents: { listener: (...args: any[]) => void, args: any[] }[] = [];\n    private static notifiedThisCycle: Set<any> = new Set();\n    private static initialized = false;\n    private static isBatching = false;\n\n    private static init() {\n        if (this.initialized) return;\n        document.addEventListener('visibilitychange', () => {\n            if (!document.hidden) {\n                this.flush();\n            }\n        });\n        this.initialized = true;\n    }\n\n    public static startBatch() {\n        this.isBatching = true;\n        this.notifiedThisCycle.clear();\n    }\n\n    public static endBatch() {\n        this.isBatching = false;\n        if (!document.hidden)\n          this.flush();\n    }\n\n    public static on(emitter: EventEmitter | undefined, event: string, listener: (...args: any[]) => void) {\n        if (!emitter) return;\n        this.init();\n        \n        emitter.on(event, (...args: any[]) => {\n            if (document.hidden || this.isBatching) {\n                if (event === 'tractorBeam:removeComet') {\n                    this.specialEvents.push({ listener, args });\n                } else {\n                    // For most UI updates, deduplicating per listener is enough\n                    this.pendingNotifications.set(listener, args);\n                }\n            } else {\n                listener(...args);\n            }\n        });\n    }\n\n    /**\n     * Ensures that a listener is only called once per batch/flush cycle.\n     * @param listener The function to call\n     * @param key Optional key for deduplication. If not provided, the listener function itself is used.\n     */\n    public static notifyOnlyOnce(listener: (...args: any[]) => void, key?: any) {\n        const id = key || listener;\n        if (this.notifiedThisCycle.has(id)) return;\n        this.notifiedThisCycle.add(id);\n        listener();\n    }\n\n    private static flush() {\n        if (this.pendingNotifications.size === 0 && this.specialEvents.length === 0) {\n            this.notifiedThisCycle.clear();\n            return;\n        }\n\n        const notifications = new Map(this.pendingNotifications);\n        this.pendingNotifications.clear();\n        \n        const specials = [...this.specialEvents];\n        this.specialEvents = [];\n\n        this.notifiedThisCycle.clear();\n        \n        // Call special events first (like removing comets)\n        specials.forEach(s => s.listener(...s.args));\n        \n        // Then call deduplicated UI updates\n        notifications.forEach((args, listener) => listener(...args));\n        \n        this.notifiedThisCycle.clear();\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, round2, getClickAmount } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class ComputerView extends BaseView {\n    private rows: Map<number, HTMLElement> = new Map();\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'computer:unlocked', () => this.checkUnlocked());\n            UIEvents.on(game.events, 'computer:threads:updated', () => this.updateThreads());\n            UIEvents.on(game.events, 'computer:speed:updated', () => this.updateSpeed());\n            UIEvents.on(game.events, 'computer:optimize-land:updated', () => this.updateLandOptimized());\n            UIEvents.on(game.events, 'robots:unlocked', () => this.updateVisibility());\n            UIEvents.on(game.events, 'spaceDock:unlocked', () => this.updateVisibility());\n            UIEvents.on(game.events, 'computer:visibility:updated', () => this.updateVisibility());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.computer.unlocked) {\n            this.setVisible('unlockedComputer', true);\n            this.setVisible('unlockComputer', false);\n            this.setVisible('robotsContainer', true);\n            this.updateThreads();\n            this.updateSpeed();\n            this.updateVisibility();\n        } else {\n            this.setVisible('unlockedComputer', false);\n            this.setVisible('unlockComputer', true);\n            this.setVisible('robotsContainer', false);\n        }\n    }\n\n    updateVisibility() {\n        if (!game) return;\n        for (let i = 0; i < game.computer.processes.length; i++) {\n            const row = game.computer.processes[i];\n            if (!row) continue;\n            this.setVisible('computerRow' + i + 'Container', row.showing);\n        }\n    }\n\n    updateLandOptimized() {\n        if (!game) return;\n        this.updateElementText('landOptimized', round2((game.land.optimizedLand / (game.land.baseLand * 10)) * 100) + \"%\");\n    }\n\n    updateThreads() {\n        if (!game) return;\n        this.updateElementText('freeThreads', intToString(game.computer.freeThreads));\n        this.updateElementText('threads', intToString(game.computer.threads));\n        this.updateElementText('threadCost', intToString(game.computer.getThreadCost()));\n        for (let i = 0; i < game.computer.processes.length; i++) {\n            const row = game.computer.processes[i];\n            if (!row) continue;\n            \n            const elementId = 'computerRow' + i + 'Threads';\n            if (row.showing && this.elementExists(elementId)) {\n                this.updateElementText(elementId, intToString(row.workers));\n            }\n        }\n    }\n\n    updateSpeed() {\n        if (!game) return;\n        this.updateElementText('speed', intToString(game.computer.speed));\n        this.updateElementText('speedCost', intToString(game.computer.getSpeedCost()));\n    }\n\n    updateRowProgress(i: number) {\n        if (!game || !game.computer.unlocked) {\n            return;\n        }\n        const row = game.computer.processes[i];\n        if (!row || !row.showing) return;\n\n        const baseId = \"computerRow\" + i;\n        if (!this.elementExists(baseId + \"PB\")) return;\n\n        const pb = this.getElement(baseId + \"PB\");\n        pb.style.width = (row.currentTicks / row.ticksNeeded) * 100 + \"%\";\n        pb.style.backgroundColor = row.isMoving ? \"yellow\" : \"red\";\n\n        this.updateElementText(baseId + \"CurrentTicks\", intToString(row.currentTicks));\n        this.updateElementText(baseId + \"TicksNeeded\", intToString(row.ticksNeeded));\n        const costContainer = this.getElement(baseId + \"CostContainer\");\n        if (row.cost !== 0) {\n            costContainer.classList.remove(\"hidden\");\n            const cost = Array.isArray(row.cost) ? row.cost[0] || 0 : row.cost;\n            const costType = Array.isArray(row.costType) ? row.costType[0] || \"\" : row.costType;\n            this.updateElementText(baseId + \"Cost\", intToString(cost));\n            this.updateElementText(baseId + \"CostType\", costType);\n        } else {\n            costContainer.classList.add(\"hidden\");\n        }\n    }\n\n    addComputerRow(dataPos: number) {\n        const containerDiv = this.getElement('computerRows');\n        const rowContainer = document.createElement(\"div\");\n        rowContainer.className = \"computerRow\";\n        const baseId = \"computerRow\" + dataPos;\n        rowContainer.id = baseId + 'Container';\n\n        const plusButton = document.createElement(\"button\");\n        plusButton.id = baseId + \"Plus\";\n        plusButton.innerHTML = \"+\";\n        plusButton.addEventListener('click', (event) => game?.computer.addThread(dataPos, getClickAmount(event)));\n\n        const minusButton = document.createElement(\"button\");\n        minusButton.id = baseId + \"Minus\";\n        minusButton.innerHTML = \"-\";\n        minusButton.addEventListener('click', (event) => game?.computer.removeThread(dataPos, getClickAmount(event)));\n\n        const threads = document.createElement(\"div\");\n        threads.id = baseId + \"Threads\";\n        threads.className = \"small\";\n        threads.style.marginRight = \"4px\";\n\n        const processName = game?.computer.processes[dataPos]?.text || \"\";\n        const text = document.createElement(\"div\");\n        text.innerHTML = processName;\n\n        const progressBar = document.createElement(\"div\");\n        progressBar.className = \"rowProgressBarOuter\";\n        progressBar.innerHTML = \"<div class='rowProgressBarInner' id='\" + baseId + \"PB'></div>\";\n\n        const tooltipContainer = document.createElement(\"div\");\n        tooltipContainer.className = \"computerTooltipContainer\";\n        tooltipContainer.id = baseId + \"Tooltip\";\n\n        const tooltipInner = document.createElement(\"div\");\n        tooltipInner.className = \"rowTooltip\";\n        \n        const description = game?.computer.processes[dataPos]?.tooltip || \"\";\n        \n        tooltipInner.innerHTML = `\n            <div class=\"tooltipDescription\">${description}</div>\n            <div class=\"tooltipDivider\"></div>\n            <div class=\"tooltipStats\">\n                <div><b>Progress:</b> <span id=\"${baseId}CurrentTicks\"></span> / <span id=\"${baseId}TicksNeeded\"></span> ticks</div>\n                <div id=\"${baseId}CostContainer\" class=\"hidden\"><b>Cost:</b> <span id=\"${baseId}Cost\"></span> <span id=\"${baseId}CostType\"></span> per tick</div>\n            </div>\n        `;\n\n        tooltipContainer.appendChild(tooltipInner);\n\n        rowContainer.appendChild(plusButton);\n        rowContainer.appendChild(threads);\n        rowContainer.appendChild(minusButton);\n        \n        const label = document.createElement(\"div\");\n        label.className = \"rowLabel\";\n        label.appendChild(text);\n        rowContainer.appendChild(label);\n        \n        rowContainer.appendChild(progressBar);\n        rowContainer.appendChild(tooltipContainer);\n\n        containerDiv.appendChild(rowContainer);\n    }\n\n    override update() {\n        // Progress updates are handled by View.updateComputerRowProgress()\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.computer.unlocked) {\n            this.updateLandOptimized();\n            this.updateVisibility();\n            this.updateThreads();\n            this.updateSpeed();\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, getClickAmount } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class RobotsView extends BaseView {\n    private rows: Map<number, HTMLElement> = new Map();\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'robots:unlocked', () => {\n                this.checkUnlocked();\n                this.updateFull();\n            });\n            UIEvents.on(game.events, 'robots:count:updated', () => UIEvents.notifyOnlyOnce(() => this.updateCount(), this.updateCount));\n            UIEvents.on(game.events, 'robots:storage:updated', () => UIEvents.notifyOnlyOnce(() => this.updateStorage(), this.updateStorage));\n            UIEvents.on(game.events, 'robots:mines:updated', () => UIEvents.notifyOnlyOnce(() => this.updateMinesCount(), this.updateMinesCount));\n            UIEvents.on(game.events, 'energy:unlocked', () => {\n                this.updateVisibility();\n            });\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.robots.unlocked) {\n            this.setVisible('unlockedRobots', true);\n            this.setVisible('unlockRobots', false);\n            this.setVisible('lightningContainer', true);\n            this.setVisible('lightningTooltip', true);\n            this.setVisible('energyContainer', true);\n            this.setVisible('woodContainer', true);\n            this.setVisible('oreContainer', true);\n            this.setVisible('metalContainer', true);\n            this.updateCount();\n            this.updateStorage();\n            this.updateMinesCount();\n            this.updateVisibility();\n        } else {\n            this.setVisible('unlockedRobots', false);\n            this.setVisible('unlockRobots', true);\n            this.setVisible('lightningContainer', false);\n            this.setVisible('lightningTooltip', false);\n            this.setVisible('energyContainer', false);\n            this.setVisible('woodContainer', false);\n            this.setVisible('oreContainer', false);\n            this.setVisible('metalContainer', false);\n        }\n    }\n\n    updateVisibility() {\n        if (!game) return;\n        for (let i = 0; i < game.robots.jobs.length; i++) {\n            const row = game.robots.jobs[i];\n            if (!row) continue;\n            this.setVisible('robotRow' + i + 'Container', row.showing);\n        }\n    }\n\n    updateCount() {\n        if (!game) return;\n        this.updateElementText('robots', intToString(game.robots.robots));\n        this.updateElementText('robotsFree', intToString(game.robots.robotsFree));\n        \n        const buildMines = game.robots.jobs[2];\n        if (buildMines && this.elementExists(\"minesLimit\")) {\n            const landUnits = game.land.optimizedLand / 1000;\n            const limit = Math.floor(Math.pow(landUnits, 2) / 10);\n            this.updateElementText(\"minesLimit\", intToString(limit));\n        }\n\n        if (game.robots.jobs[5] && this.elementExists('totalDirtFromOre')) {\n            this.updateElementText('totalDirtFromOre', intToString(game.robots.jobs[5].completions * 5));\n        }\n\n        for (let i = 0; i < game.robots.jobs.length; i++) {\n            const row = game.robots.jobs[i];\n            if (!row) continue;\n            \n            const baseId = 'robotRow' + i;\n            if (row.showing && this.elementExists(baseId + 'Workers')) {\n                this.updateElementText(baseId + 'Workers', intToString(row.workers));\n            }\n        }\n    }\n\n    updateMinesCount() {\n        if (!game) return;\n        if (this.elementExists(\"minesCount\")) {\n            this.updateElementText(\"minesCount\", intToString(game.robots.mines));\n        }\n    }\n\n    updateStorage() {\n        if (!game) return;\n        this.updateElementText('robotMax', intToString(game.robots.robotMax));\n    }\n\n    updateRowProgress(i: number) {\n        if (!game) return;\n        const row = game.robots.jobs[i];\n        if (!row || !row.showing || row.ticksNeeded === 0) {\n            return;\n        }\n        \n        const baseId = \"robotRow\" + i;\n        if (!this.elementExists(baseId + \"PB\")) return;\n\n        const pb = this.getElement(baseId + \"PB\");\n        pb.style.width = (row.currentTicks / row.ticksNeeded) * 100 + \"%\";\n        pb.style.backgroundColor = row.isMoving ? \"yellow\" : \"red\";\n\n        this.updateElementText(baseId + \"CurrentTicks\", intToString(row.currentTicks));\n        this.updateElementText(baseId + \"TicksNeeded\", intToString(row.ticksNeeded));\n        const costContainer = this.getElement(baseId + \"CostContainer\");\n        if (row.cost && row.costType) {\n            costContainer.classList.remove(\"hidden\");\n            const costs = Array.isArray(row.cost) ? row.cost : [row.cost];\n            const costTypes = Array.isArray(row.costType) ? row.costType : [row.costType];\n            let costString = intToString(costs[0] || 0) + \" \" + (costTypes[0] || \"\");\n            costString += costs.length > 1 ? \" and \" + intToString(costs[1] || 0) + \" \" + (costTypes[1] || \"\") : \"\";\n            this.updateElementText(baseId + \"Cost\", costString);\n        } else {\n            costContainer.classList.add(\"hidden\");\n        }\n    }\n\n    addRobotRow(dataPos: number) {\n        const containerDiv = this.getElement('robotRows');\n        const rowContainer = document.createElement(\"div\");\n        rowContainer.className = \"robotRow\";\n        const baseId = \"robotRow\" + dataPos;\n        rowContainer.id = baseId + 'Container';\n\n        const plusButton = document.createElement(\"button\");\n        plusButton.id = baseId + \"Plus\";\n        plusButton.innerHTML = \"+\";\n        plusButton.addEventListener('click', (event) => game?.robots.addWorker(dataPos, getClickAmount(event)));\n\n        const minusButton = document.createElement(\"button\");\n        minusButton.id = baseId + \"Minus\";\n        minusButton.innerHTML = \"-\";\n        minusButton.addEventListener('click', (event) => game?.robots.removeWorker(dataPos, getClickAmount(event)));\n\n        const workers = document.createElement(\"div\");\n        workers.id = baseId + \"Workers\";\n        workers.className = \"small\";\n        workers.style.marginRight = \"4px\";\n\n        const jobName = game?.robots.jobs[dataPos]?.text || \"\";\n        const text = document.createElement(\"div\");\n        text.id = baseId + \"Text\";\n        text.innerHTML = jobName;\n\n        const progressBar = document.createElement(\"div\");\n        if (game?.robots.jobs[dataPos]?.ticksNeeded) {\n            progressBar.className = \"rowProgressBarOuter\";\n            progressBar.innerHTML = \"<div class='rowProgressBarInner' id='\" + baseId + \"PB'></div>\";\n        }\n\n        const tooltipContainer = document.createElement(\"div\");\n        tooltipContainer.className = \"computerTooltipContainer\";\n        tooltipContainer.id = baseId + \"Tooltip\";\n\n        const tooltipInner = document.createElement(\"div\");\n        tooltipInner.className = \"rowTooltip\";\n\n        const description = game?.robots.jobs[dataPos]?.tooltip || \"\";\n        \n        let statsHtml = \"\";\n        if (game?.robots.jobs[dataPos]?.ticksNeeded) {\n            statsHtml = `\n                <div class=\"tooltipDivider\"></div>\n                <div class=\"tooltipStats\">\n                    <div><b>Progress:</b> <span id=\"${baseId}CurrentTicks\"></span> / <span id=\"${baseId}TicksNeeded\"></span> ticks</div>\n                    <div id=\"${baseId}CostContainer\" class=\"hidden\"><b>Cost:</b> <span id=\"${baseId}Cost\"></span> per tick</div>\n                </div>\n            `;\n        }\n\n        tooltipInner.innerHTML = `\n            <div class=\"tooltipDescription\" id=\"${baseId}Description\">${description}</div>\n            ${statsHtml}\n        `;\n        \n        tooltipContainer.appendChild(tooltipInner);\n\n        rowContainer.appendChild(plusButton);\n        rowContainer.appendChild(workers);\n        rowContainer.appendChild(minusButton);\n        \n        const label = document.createElement(\"div\");\n        label.className = \"rowLabel\";\n        label.appendChild(text);\n        rowContainer.appendChild(label);\n        \n        if (progressBar.innerHTML) rowContainer.appendChild(progressBar);\n        rowContainer.appendChild(tooltipContainer);\n\n        containerDiv.appendChild(rowContainer);\n    }\n\n    override update() {\n        // Progress updates are handled by View.updateRobotsRowProgress()\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.robots.unlocked) {\n            this.updateCount();\n            this.updateStorage();\n            this.updateMinesCount();\n            this.updateVisibility();\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, intToStringNegative } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class ResourceView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            const update = () => UIEvents.notifyOnlyOnce(() => this.update(), this);\n            UIEvents.on(game.events, 'ice:updated', update);\n            UIEvents.on(game.events, 'water:updated', update);\n            UIEvents.on(game.events, 'clouds:updated', update);\n            UIEvents.on(game.events, 'land:updated', update);\n            UIEvents.on(game.events, 'trees:updated', update);\n            UIEvents.on(game.events, 'farms:updated', update);\n            UIEvents.on(game.events, 'population:updated', update);\n            UIEvents.on(game.events, 'energy:updated', update);\n            UIEvents.on(game.events, 'resources:updated', update);\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('totalWater', intToString(game.ice.ice + game.water.indoor + game.water.outdoor + game.clouds.water + game.land.water + game.trees.water + game.farms.water));\n        this.updateElementText('waterIncome', intToString(game.spaceStation.waterIncome, 4));\n        this.updateElementText('waterBought', intToString(game.ice.buyIncome, 4));\n        this.updateElementText('waterSpending', intToString(game.water.waterSpending, 4));\n        this.updateElementText('waterFarms', intToString(game.farms.waterSpending, 4));\n        this.updateElementText('waterTrees', intToString(game.trees.waterSpending, 4));\n        this.updateElementText('waterNet', intToStringNegative(game.spaceStation.waterIncome + game.ice.buyIncome - game.water.waterSpending - game.farms.waterSpending - game.trees.waterSpending, 4));\n\n        this.updateElementText('cash', intToString(game.cash));\n        this.updateElementText('cashIncome', intToString(game.population.cashDelta + game.water.gain, 4));\n        this.updateElementText('cashFromPeople', intToString(game.population.cashDelta, 4));\n        this.updateElementText('cashFromWater', intToString(game.water.gain, 4));\n        this.updateElementText('cashComputer', intToString(game.computer.cashSpending, 4));\n        this.updateElementText('cashNet', intToStringNegative(game.population.cashDelta + game.water.gain - game.computer.cashSpending, 4));\n\n        this.updateElementText('oxygen', intToString(game.oxygen));\n        this.updateElementText('oxygenIncome', intToString(game.trees.oxygenGain, 4));\n        this.updateElementText('oxygenLeak', intToString(game.oxygenLeak, 4));\n        this.updateElementText('oxygenSmelting', intToString(game.robots.oxygenSpending, 4));\n        this.updateElementText('oxygenNet', intToStringNegative(game.trees.oxygenGain - game.oxygenLeak - game.robots.oxygenSpending, 4));\n\n        this.updateElementText('science', intToString(game.science));\n        this.updateElementText('scienceIncome', intToString(game.population.scienceDelta, 4));\n        this.updateElementText('scienceComputer', intToString(game.computer.scienceSpending, 4));\n        this.updateElementText('scienceNet', intToStringNegative(game.population.scienceDelta - game.computer.scienceSpending, 4));\n\n        this.updateElementText('wood', intToString(game.wood));\n        this.updateElementText('woodIncome', intToString(game.robots.woodIncome, 4));\n        this.updateElementText('woodSpending', intToString(game.robots.woodSpending, 4));\n        this.updateElementText('woodComputer', intToString(game.computer.woodSpending, 4));\n        this.updateElementText('woodNet', intToStringNegative(game.robots.woodIncome - game.robots.woodSpending - game.computer.woodSpending, 4));\n\n        this.updateElementText('metal', intToString(game.metal));\n        this.updateElementText('metalIncome', intToString(game.robots.metalIncome, 4));\n        this.updateElementText('metalSpending', intToString(game.robots.metalSpending, 4));\n        this.updateElementText('metalComputer', intToString(game.computer.metalSpending, 4));\n        this.updateElementText('metalNet', intToStringNegative(game.robots.metalIncome - game.robots.metalSpending - game.computer.metalSpending, 4));\n\n        this.updateElementText('ore', intToString(game.ore, 4));\n        this.updateElementText('oreIncome', intToString(game.robots.oreIncome, 4));\n        this.updateElementText('oreSpending', intToString(game.robots.oreSpending, 4));\n        this.updateElementText('oreToDirtSpending', intToString(game.robots.oreToDirtSpending, 4));\n        this.updateElementText('oreNet', intToStringNegative(game.robots.oreIncome - game.robots.oreSpending - game.robots.oreToDirtSpending, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class IceView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'water:maxIndoor:updated', () => {\n                this.updateFull();\n            });\n            UIEvents.on(game.events, 'ice:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.updateElementText('indoorWaterMax', intToString(game.water.maxIndoor));\n        this.update();\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('ice', intToString(game.ice.ice));\n        this.updateElementText('buyableIce', intToString(game.ice.buyable));\n        this.updateElementText('iceTransferred', intToString(game.ice.transferred, 4));\n        this.updateElementText('indoorWaterReceived', intToString(Math.max(0, game.ice.transferred - game.water.excess), 4));\n        this.updateElementText('iceBuyerAmount', intToString(game.ice.gain));\n\n        this.updateElementText('indoorWater', intToString(game.water.indoor));\n        this.updateElementText('indoorWaterSelling', intToString(game.water.selling));\n        this.updateElementText('indoorWaterProfits', intToString(game.water.gain));\n        this.updateElementText('excessWater', intToString(game.water.excess, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class CloudsView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'clouds:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('clouds', intToString(game.clouds.water));\n        this.updateElementText('stormTimer', intToString(game.clouds.stormTimer));\n        this.updateElementText('stormRate', game.clouds.stormRate + \"%\");\n        this.getElement('intensityPB').style.height = game.clouds.stormRate + \"%\";\n        this.updateElementText('stormDuration', intToString(game.clouds.stormDuration));\n        this.updateElementText('rain', intToString(game.clouds.transferred, 4));\n        this.updateElementText('landReceived', intToString(game.clouds.transferred, 4));\n        this.updateElementText('lightningChance', intToString(game.clouds.lightningChance) + \"%\");\n        this.getElement('lightningPB').style.height = game.clouds.lightningChance + \"%\";\n        this.updateElementText('lightningStrength', intToString(game.clouds.lightningStrength));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class LandView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'land:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('outdoorWater', intToString(game.water.outdoor));\n        this.updateElementText('lakeWaterFromStorage', intToString(game.water.excess, 4));\n        this.updateElementText('waterTransferred', intToString(game.water.transferred, 4));\n        this.updateElementText('cloudsReceived', intToString(game.water.transferred, 4));\n\n        this.updateElementText('landWater', intToString(game.land.water));\n        this.updateElementText('optimizedLand', intToString(game.land.optimizedLand));\n        this.updateElementText('baseLand', intToString(game.land.baseLand));\n        this.updateElementText('land', intToString(game.land.land));\n        this.updateElementText('soil', intToString(game.land.soil));\n        this.updateElementText('landConverted', intToString(game.land.convertedLand, 4));\n        this.updateElementText('landWaterToForest', intToString(game.land.transferred, 4));\n        this.updateElementText('forestReceived', intToString(game.land.transferred, 4));\n        this.updateElementText('landWaterToFarm', intToString(game.land.transferred, 4));\n        this.updateElementText('farmReceived', intToString(game.land.transferred, 4));\n\n        this.updateElementText('farmsWater', intToString(game.farms.water));\n        this.updateElementText('food', intToString(game.farms.food));\n        this.updateElementText('foodCreated', intToString(game.farms.foodCreated, 4));\n        this.updateElementText('farmFoodEaten', intToString(game.population.foodEaten, 4));\n        this.updateElementText('farmWaterToLake', intToString(game.farms.transferred, 4));\n        this.updateElementText('lakeWaterFromFarm', intToString(game.farms.transferred, 4));\n        this.updateElementText('farms', intToString(game.farms.farms));\n        this.updateElementText('efficiency', intToString(game.farms.efficiency * 100));\n        this.updateElementText('farmRatioLabel', game.farms.farmRatio + \"% soil to farms\");\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, intToStringNegative } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class PopulationView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'population:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('population', intToString(game.population.people));\n        this.updateElementText('foodEaten', intToString(game.population.foodEaten, 4));\n        this.updateElementText('populationGrowth', intToStringNegative(game.population.popGrowth, 4));\n        this.updateElementText('starving', intToString(game.population.starving, 4));\n        this.updateElementText('scienceDelta', intToString(game.population.scienceDelta, 4));\n        this.updateElementText('cashDelta', intToString(game.population.cashDelta, 4));\n        this.updateElementText('scienceRatio', game.population.scienceRatio < 50 ? 100 - game.population.scienceRatio + \"% science\" : game.population.scienceRatio + \"% cash\");\n\n        this.updateElementText('happiness', intToString(game.population.happiness, 4));\n        this.updateElementText('happinessFromHouse', intToString(game.population.houseBonus));\n        this.updateElementText('happinessFromTrees', intToString(game.population.happinessFromTrees, 4));\n        this.updateElementText('happinessFromOxygen', intToString(game.population.happinessFromOxygen, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class TreesView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'trees:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('forestWater', intToString(game.trees.water));\n        this.updateElementText('ferns', intToString(game.trees.ferns));\n        this.updateElementText('fernsDelta', intToString(game.trees.fernsDelta, 4));\n        this.updateElementText('smallTrees', intToString(game.trees.smallTrees));\n        this.updateElementText('smallTreesDelta', intToString(game.trees.smallTreesDelta, 4));\n        this.updateElementText('trees', intToString(game.trees.trees));\n        this.updateElementText('treesDelta', intToString(game.trees.treesDelta, 4));\n        this.updateElementText('totalPlants', intToString(game.trees.totalPlants));\n        this.updateElementText('oxygenGain', intToString(game.trees.oxygenGain, 4));\n        this.updateElementText('forestWaterToLake', intToString(game.trees.transferred, 4));\n        this.updateElementText('lakeWaterFromForest', intToString(game.trees.transferred, 4));\n        this.updateElementText('fernWater', intToString(game.trees.fernsWaterUse, 4));\n        this.updateElementText('smallTreesWater', intToString(game.trees.smallTreesWaterUse, 4));\n        this.updateElementText('treesWater', intToString(game.trees.treesWaterUse, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class EnergyView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'energy:unlocked', () => {\n                this.checkUnlocked();\n                this.updateFull();\n            });\n            UIEvents.on(game.events, 'energy:battery:updated', () => this.updateFull());\n            UIEvents.on(game.events, 'energy:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n\n            const el = document.getElementById('buyBattery');\n            if (el) el.addEventListener('change', () => this.updateFull());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.energy.unlocked) {\n            this.setVisible('unlockedEnergy', true);\n            this.setVisible('unlockEnergy', false);\n            if (this.getElement('spaceStationContainer').classList.contains(\"hidden\")) {\n                this.getElement('spaceStationContainer').classList.remove(\"hidden\");\n            }\n        } else {\n            this.setVisible('unlockedEnergy', false);\n            this.setVisible('unlockEnergy', true);\n            if (!this.getElement('spaceStationContainer').classList.contains(\"hidden\")) {\n                this.getElement('spaceStationContainer').classList.add(\"hidden\");\n            }\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('energy', intToString(game.power));\n        this.updateElementText('drain', intToString(game.energy.drain));\n    }\n\n    override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.energy.unlocked) {\n            this.updateElementText('battery', intToString(game.energy.battery));\n\n            const el = document.getElementById('buyBattery') as HTMLInputElement;\n            const amount = el ? Number(el.value) : 1;\n            this.updateElementText('batteryCost', intToString(amount * 3e4) + \" oxygen and \" + intToString(amount * 2e4) + \" science\");\n        }\n        this.update();\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class SpaceStationView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'spaceStation:unlocked', () => this.checkUnlocked());\n            UIEvents.on(game.events, 'spaceStation:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.spaceStation.unlocked) {\n            this.setVisible('spaceStationContainer', true);\n            this.setVisible('unlockedSpaceStation', true);\n            this.setVisible('unlockSpaceStation', false);\n            this.setVisible('tractorBeamContainer', true);\n        } else {\n            this.setVisible('spaceStationContainer', false);\n            this.setVisible('unlockedSpaceStation', false);\n            this.setVisible('unlockSpaceStation', true);\n            this.setVisible('tractorBeamContainer', false);\n        }\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.spaceStation.unlocked) {\n            this.update();\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        let orbitString = \"\";\n        let orbitSendString = \"\";\n        for (let i = 0; i < game.spaceStation.orbiting.length; i++) {\n            const resource = game.spaceStation.orbiting[i];\n            if (!resource) continue;\n            orbitString += intToString(resource.amount) + \" \" + resource.type;\n            orbitSendString += intToString(resource.amount / 10000, 4) + \" \" + resource.type;\n            if (i !== game.spaceStation.orbiting.length - 1) {\n                orbitString += \", \";\n                orbitSendString += \", \";\n            }\n        }\n        this.updateElementText('orbitingResources', orbitString);\n        this.updateElementText('orbitSending', orbitSendString);\n    }\n}\n",
    "import { game, view } from '../main';\nimport { intToString } from '../utils/utils';\nimport { OrbitingResource } from '../types';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class TractorBeamView extends BaseView {\n    private cometRows: Map<number, HTMLElement> = new Map();\n    private takeAmountRows: Map<string, HTMLElement> = new Map();\n\n    constructor() {\n        super();\n        const allPassing = document.getElementById('allPassing');\n        if (allPassing) allPassing.innerHTML = '';\n        const takeAmountContainer = document.getElementById('takeAmountContainer');\n        if (takeAmountContainer) takeAmountContainer.innerHTML = '';\n        \n        if (game) {\n            UIEvents.on(game.events, 'tractorBeam:unlocked', () => this.checkUnlocked());\n            UIEvents.on(game.events, 'tractorBeam:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n            UIEvents.on(game.events, 'tractorBeam:removeComet', (comet: any) => {\n                if (view) view.removeComet(comet);\n            });\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.tractorBeam.unlocked) {\n            this.setVisible('unlockedTractorBeam', true);\n            this.setVisible('unlockTractorBeam', false);\n        } else {\n            this.setVisible('unlockedTractorBeam', false);\n            this.setVisible('unlockTractorBeam', true);\n        }\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.tractorBeam.unlocked) {\n            this.update();\n        }\n    }\n\n    override update() {\n        if (!game || !view) return;\n        const container = this.getElement(\"allPassing\");\n        const comets = game.tractorBeam.comets;\n\n        // Remove old comets that are no longer present\n        const cometIds = new Set(comets.map(c => c.id));\n        for (const [id, row] of this.cometRows.entries()) {\n            if (!cometIds.has(id)) {\n                row.remove();\n                this.cometRows.delete(id);\n            }\n        }\n\n        for (let i = 0; i < comets.length; i++) {\n            const comet = comets[i];\n            if (!comet) continue;\n\n            if (!this.cometRows.has(comet.id)) {\n                const row = document.createElement(\"div\");\n                row.className = \"comet-row\";\n                row.innerHTML = `<span>${comet.name}</span> with <span id=\"comet-amount-${comet.id}\"></span> ${comet.amountType} passing in <span id=\"comet-duration-${comet.id}\"></span>`;\n\n                container.appendChild(row);\n                this.cometRows.set(comet.id, row);\n            }\n\n            this.updateElementText(`comet-amount-${comet.id}`, intToString(comet.amount));\n            this.updateElementText(`comet-duration-${comet.id}`, intToString(comet.duration));\n\n            view.drawComet(comet);\n        }\n\n        this.updateTakeAmount();\n    }\n\n    updateTakeAmount() {\n        if (!game) return;\n        const container = this.getElement(\"takeAmountContainer\");\n        const resources: OrbitingResource[] = game.tractorBeam.takeAmount;\n        const visibleResources = resources.filter((r) => r.amount > 0);\n\n        // Check if the set of visible resources changed to determine if we need to rebuild the structure\n        const visibleTypesKey = visibleResources.map((r) => r.type).join(',');\n        const currentTypesKey = Array.from(this.takeAmountRows.keys()).join(',');\n\n        if (visibleTypesKey !== currentTypesKey) {\n            container.innerHTML = '';\n            this.takeAmountRows.clear();\n\n            for (let i = 0; i < visibleResources.length; i++) {\n                const resource = visibleResources[i]!;\n                const row = document.createElement(\"span\");\n                const isLast = i === visibleResources.length - 1;\n                \n                // Create structure once: value span + label + optional comma\n                row.innerHTML = `<span id=\"takeAmountVal-${resource.type}\"></span> ${resource.type}${isLast ? \"\" : \", \"}`;\n                container.appendChild(row);\n                this.takeAmountRows.set(resource.type, row);\n            }\n        }\n\n        // Update only the numerical values\n        for (const resource of visibleResources) {\n            this.updateElementText(`takeAmountVal-${resource.type}`, intToString(resource.amount, 3));\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class SpaceDockView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'spaceDock:unlocked', () => {\n                this.checkUnlocked();\n                this.updateFull();\n            });\n            UIEvents.on(game.events, 'spaceDock:updated', () => UIEvents.notifyOnlyOnce(() => this.update(), this));\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.spaceDock.unlocked) {\n            this.setVisible('spaceDockContainer', true);\n            this.setVisible('hangarContainer', true);\n            this.setVisible('spaceCanvas', true);\n            this.setVisible('spaceContainer', true);\n            this.update();\n        } else {\n            this.setVisible('spaceDockContainer', false);\n            this.setVisible('hangarContainer', false);\n            this.setVisible('spaceCanvas', false);\n            this.setVisible('spaceContainer', false);\n        }\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.checkUnlocked();\n        if (game.spaceDock.unlocked) {\n            this.update();\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText('battleships', intToString(game.spaceDock.battleships));\n        this.updateElementText('totalBattleships', intToString(game.spaceDock.battleships + game.spaceDock.sended));\n\n        const el = document.getElementById('buyBattleshipAmount') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('battleshipCost', intToString(amount * 3e7) + \" oxygen and \" + intToString(amount * 1.5e7) + \" science\");\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, round1 } from '../utils/utils';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n\nexport default class HangarView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            UIEvents.on(game.events, 'hangar:updated', () => UIEvents.notifyOnlyOnce(() => this.updateFull(), this));\n\n            const maxMinesEl = document.getElementById('maxMinesInput');\n            if (maxMinesEl) {\n                maxMinesEl.addEventListener('change', (e) => {\n                    if (game) game.hangar.maxMines = Number((e.target as HTMLInputElement).value);\n                });\n            }\n        }\n    }\n\n    override update() {\n        if (!game) return;\n        this.updateElementText(\"hangarSending\", game.hangar.sendRate + \" in \" + round1(game.hangar.timeRemaining / 10) + \" seconds.\");\n    }\n\n    override updateFull() {\n        if (!game) return;\n        if (this.getElement('hangarContainer').classList.contains('hidden')) return;\n        const el = document.getElementById('buyHangarAmount') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('hangarCost', intToString(amount * 1000000));\n\n        const maxMinesEl = document.getElementById('maxMinesInput') as HTMLInputElement;\n        if (maxMinesEl) {\n            maxMinesEl.value = game.hangar.maxMines.toString();\n        }\n\n        this.update();\n    }\n}\n",
    "import { game, view, clearSave, begForMoney, save, exportSave, importSave, pauseGame } from '../main';\nimport { intToString, intToStringNegative, round1, round2, getClickAmount } from '../utils/utils';\nimport ProgressBar from './ProgressBar';\nimport updateSpace from './spaceView';\nimport ComputerView from './ComputerView';\nimport RobotsView from './RobotsView';\nimport ResourceView from './ResourceView';\nimport IceView from './IceView';\nimport CloudsView from './CloudsView';\nimport LandView from './LandView';\nimport PopulationView from './PopulationView';\nimport TreesView from './TreesView';\nimport EnergyView from './EnergyView';\nimport SpaceStationView from './SpaceStationView';\nimport TractorBeamView from './TractorBeamView';\nimport SpaceDockView from './SpaceDockView';\nimport HangarView from './HangarView';\nimport BaseView from './BaseView';\nimport UIEvents from './UIEvents';\n// import { processesView } from '../core/Computer';\nimport { Comet } from '../types';\nimport { calculateCometTrajectory } from '../utils/cometUtils';\n\nexport default class View extends BaseView {\n    progressBar1: ProgressBar;\n    progressBar2: ProgressBar;\n    computerView: ComputerView;\n    robotsView: RobotsView;\n    resourceView: ResourceView;\n    iceView: IceView;\n    cloudsView: CloudsView;\n    landView: LandView;\n    populationView: PopulationView;\n    treesView: TreesView;\n    energyView: EnergyView;\n    spaceStationView: SpaceStationView;\n    tractorBeamView: TractorBeamView;\n    spaceDockView: SpaceDockView;\n    hangarView: HangarView;\n    private cometPool: HTMLElement[] = [];\n\n    private allContainers: HTMLElement[] = [];\n    private columns: HTMLElement[] = [];\n    private lastVisibleCount: number = -1;\n    private lastWidth: number = -1;\n    private resizeHandler: () => void;\n\n    constructor() {\n        super();\n        this.progressBar1 = new ProgressBar('nextStormProgress', '#21276a');\n        this.progressBar2 = new ProgressBar('stormDurationProgress', '#1c7682');\n        this.computerView = new ComputerView();\n        this.robotsView = new RobotsView();\n        this.resourceView = new ResourceView();\n        this.iceView = new IceView();\n        this.cloudsView = new CloudsView();\n        this.landView = new LandView();\n        this.populationView = new PopulationView();\n        this.treesView = new TreesView();\n        this.energyView = new EnergyView();\n        this.spaceStationView = new SpaceStationView();\n        this.tractorBeamView = new TractorBeamView();\n        this.spaceDockView = new SpaceDockView();\n        this.hangarView = new HangarView();\n\n        const main = this.getElement('mainContainer');\n        // Move all containers back to main before removing columns to avoid losing them\n        main.querySelectorAll('.container').forEach(container => main.appendChild(container));\n        // Clean up any existing columns from previous View instances\n        main.querySelectorAll('.column').forEach(col => col.remove());\n\n        this.allContainers = Array.from(main.querySelectorAll('.container')) as HTMLElement[];\n        \n        // Clean up comets visual container\n        const cometsContainer = this.getElement('cometsContainer');\n        if (cometsContainer) cometsContainer.innerHTML = '';\n\n        this.resizeHandler = () => this.refreshLayout();\n        window.addEventListener('resize', this.resizeHandler);\n\n        if (game) {\n            UIEvents.on(game.events, 'tick', () => this.update());\n\n            // Listen to all events that can change container visibility\n            UIEvents.on(game.events, 'computer:unlocked', () => this.refreshLayout());\n            UIEvents.on(game.events, 'robots:unlocked', () => this.refreshLayout());\n            UIEvents.on(game.events, 'energy:unlocked', () => this.refreshLayout());\n            UIEvents.on(game.events, 'spaceStation:unlocked', () => this.refreshLayout());\n            UIEvents.on(game.events, 'tractorBeam:unlocked', () => this.refreshLayout());\n            UIEvents.on(game.events, 'spaceDock:unlocked', () => this.refreshLayout());\n        }\n    }\n\n    destroy() {\n        window.removeEventListener('resize', this.resizeHandler);\n    }\n\n    override update() {\n        if (!game) return;\n        // should run no more than once per frame\n        UIEvents.notifyOnlyOnce(() => this.resourceView.update(), this.resourceView);\n        UIEvents.notifyOnlyOnce(() => this.iceView.update(), this.iceView);\n        UIEvents.notifyOnlyOnce(() => this.cloudsView.update(), this.cloudsView);\n        UIEvents.notifyOnlyOnce(() => this.landView.update(), this.landView);\n        UIEvents.notifyOnlyOnce(() => this.treesView.update(), this.treesView);\n        UIEvents.notifyOnlyOnce(() => this.populationView.update(), this.populationView);\n        this.updateComputerRowProgress();\n        this.updateRobotsRowProgress();\n        UIEvents.notifyOnlyOnce(() => this.energyView.update(), this.energyView);\n        UIEvents.notifyOnlyOnce(() => this.spaceStationView.update(), this.spaceStationView);\n        UIEvents.notifyOnlyOnce(() => this.tractorBeamView.update(), this.tractorBeamView);\n        UIEvents.notifyOnlyOnce(() => this.hangarView.update(), this.hangarView);\n        this.progressBar1.tick(game.clouds.initialStormTimer - game.clouds.stormTimer, game.clouds.initialStormTimer);\n        this.progressBar2.tick(game.clouds.stormDuration, game.clouds.initialStormDuration);\n        updateSpace();\n    }\n\n    public override updateFull() {\n        if (!game) return;\n        this.resourceView.updateFull();\n        this.iceView.updateFull();\n        this.cloudsView.updateFull();\n        this.landView.updateFull();\n        this.treesView.updateFull();\n        this.populationView.updateFull();\n        this.computerView.updateFull();\n        this.robotsView.updateFull();\n        this.energyView.updateFull();\n        this.spaceStationView.updateFull();\n        this.tractorBeamView.updateFull();\n        this.spaceDockView.updateFull();\n        this.hangarView.updateFull();\n    }\n\n    refreshLayout() {\n        const main = this.getElement('mainContainer');\n        if (main.offsetWidth === 0) return;\n        \n        // Extract gap and minWidth from computed styles\n        const mainStyle = window.getComputedStyle(main);\n        const gap = parseFloat(mainStyle.columnGap || mainStyle.gap || '0');\n        \n        // Measure minWidth by creating a temporary column if none exist\n        let minWidth = 280;\n        const existingCol = main.querySelector('.column');\n        if (existingCol) {\n            minWidth = parseFloat(window.getComputedStyle(existingCol).minWidth);\n        } else {\n            const tempCol = document.createElement('div');\n            tempCol.className = 'column';\n            tempCol.style.visibility = 'hidden';\n            tempCol.style.position = 'absolute';\n            main.appendChild(tempCol);\n            minWidth = parseFloat(window.getComputedStyle(tempCol).minWidth);\n            main.removeChild(tempCol);\n        }\n        minWidth = Math.max(200, minWidth || 0);\n\n        const containerWidth = minWidth + gap; \n        const currentWidth = main.offsetWidth;\n        const numColumns = Math.max(1, Math.floor((currentWidth + gap) / containerWidth));\n\n        const visibleContainers = this.allContainers.filter(c => !c.classList.contains('hidden'));\n        const visibleCount = visibleContainers.length;\n\n        // Optimization: skip if nothing changed\n        if (this.columns.length === numColumns && \n            visibleCount === this.lastVisibleCount && \n            currentWidth === this.lastWidth) {\n            return;\n        }\n\n        // Sort by height descending to improve column balancing\n        visibleContainers.sort((a, b) => b.offsetHeight - a.offsetHeight);\n\n        // Move all containers to mainContainer temporarily to preserve them in DOM\n        // This ensures hidden containers stay in the DOM (but not visible)\n        for (const container of this.allContainers) {\n            main.appendChild(container);\n        }\n\n        // Recreate columns if count changed\n        if (this.columns.length !== numColumns) {\n            this.columns.forEach(col => col.remove());\n            this.columns = [];\n            for (let i = 0; i < numColumns; i++) {\n                const col = document.createElement('div');\n                col.className = 'column';\n                main.appendChild(col);\n                this.columns.push(col);\n            }\n        }\n\n        this.lastVisibleCount = visibleCount;\n        this.lastWidth = currentWidth;\n\n        if (this.columns.length === 0) return;\n\n        // Distribute visible containers\n        for (let j = 0; j < visibleContainers.length; j++) {\n            const container = visibleContainers[j]!;\n            let shortestColumn = this.columns[0]!;\n            \n            // Heuristic to avoid empty columns: first N items fill first N columns\n            if (j < this.columns.length) {\n                shortestColumn = this.columns[j]!;\n            }\n            else {\n                let minHeight = shortestColumn.offsetHeight;\n                for (let i = 1; i < this.columns.length; i++) {\n                    const col = this.columns[i]!;\n                    if (col.offsetHeight < minHeight) {\n                        shortestColumn = col;\n                        minHeight = col.offsetHeight;\n                    }\n                }\n            }\n\n            shortestColumn.appendChild(container);\n        }\n    }\n\n    clearComputerRows() {\n        this.getElement('computerRows').innerHTML = '';\n        this.computerView.clearCache();\n    }\n\n    clearRobotRows() {\n        this.getElement('robotRows').innerHTML = '';\n        this.robotsView.clearCache();\n    }\n\n    updateComputerRowProgress() {\n        if (!game || !game.computer.unlocked) return;\n        for (let i = 0; i < game.computer.processes.length; i++) {\n            this.computerView.updateRowProgress(i);\n        }\n    }\n\n    updateRobotsRowProgress() {\n        if (!game) return;\n        for (let i = 0; i < game.robots.jobs.length; i++) {\n            this.robotsView.updateRowProgress(i);\n        }\n    }\n\n    drawComet(cometData: Comet) {\n        let cometDiv: HTMLElement | null;\n        const cometDivName = 'comet' + cometData.id;\n        if (!cometData.drawed) {\n            cometDiv = this.cometPool.pop() || document.createElement(\"div\");\n            cometDiv.className = cometData.name.toLowerCase();\n            cometDiv.id = cometDivName;\n            cometDiv.classList.remove('hidden');\n\n            if (cometData.startingY === undefined) {\n                const trajectory = calculateCometTrajectory(cometData.speed, cometData.initialDuration, Math.random());\n                cometData.startingY = trajectory.startingY;\n                cometData.endingX = trajectory.endingX;\n                cometData.slope = trajectory.slope;\n            }\n\n            this.getElement('cometsContainer').appendChild(cometDiv);\n            cometData.drawed = true;\n        }\n        else\n            cometDiv = document.getElementById(cometDivName);\n        \n        if (cometDiv) {\n            cometData.left = (cometData.initialDuration - cometData.duration) / cometData.initialDuration * cometData.endingX;\n            cometData.top = cometData.slope * cometData.left + cometData.startingY;\n\n            const effectiveAmount = cometData.amountType === 'ice' ? cometData.amount / 1000 : cometData.amount;\n            const baseSize = cometData.name === \"Comet\" ? 40 : 20;\n            const size = baseSize * Math.sqrt(effectiveAmount / 200);\n\n            cometDiv.style.width = Math.round(size) + \"px\";\n            cometDiv.style.height = Math.round(size) + \"px\";\n            cometDiv.style.borderRadius = Math.round(size / 2) + \"px\";\n            cometDiv.style.left = Math.round(cometData.left - size / 2) + \"px\";\n            cometDiv.style.top = Math.round(cometData.top - size / 2) + \"px\";\n        }\n    }\n\n    removeComet(cometData: Comet) {\n        const cometDivName = 'comet' + cometData.id;\n        const cometDiv = document.getElementById(cometDivName);\n        if (cometDiv) {\n            cometDiv.classList.add('hidden');\n            cometDiv.id = \"\";\n            this.cometPool.push(cometDiv);\n            // We keep it in the DOM but hidden, and reuse it later.\n        }\n        else\n            console.log(cometDivName + \"not found\");\n    }\n}\n\n// --- Listeners ---\nconst initListeners = () => {\n    const addClick = (id: string, func: (ev: MouseEvent) => any) => {\n        const el = document.getElementById(id);\n        if (el) el.addEventListener('click', func);\n    };\n\n    addClick('btnHardReset', clearSave);\n    addClick('btnPause', pauseGame);\n    addClick('btnBeg', begForMoney);\n    addClick('btnSave', save);\n    addClick('btnExport', exportSave);\n    addClick('btnImport', importSave);\n    addClick('btnBuyIce', () => game?.buyIce());\n    addClick('unlockComputer', () => game?.computer.unlockComputer());\n    addClick('buyThread', () => game?.computer.buyThread());\n    addClick('buySpeed', () => game?.computer.buySpeed());\n    addClick('unlockRobots', () => game?.robots.unlockRobots());\n    addClick('unlockEnergy', () => game?.energy.unlockEnergy());\n    addClick('btnBuyBattery', () => game?.buyBattery());\n    addClick('unlockSpaceStation', () => game?.spaceStation.unlockSpaceStation());\n    addClick('unlockTractorBeam', () => game?.tractorBeam.unlockTractorBeam());\n    addClick('btnBuyBattleship', () => game?.buyBattleship());\n    addClick('btnBuyHangar', () => game?.buyHangar());\n\n    const mainContainer = document.getElementById('mainContainer');\n    mainContainer?.addEventListener('contextmenu', e => e.preventDefault());\n\n    const scienceSlider = document.getElementById('scienceSlider') as HTMLInputElement;\n    scienceSlider?.addEventListener('input', function (this: HTMLInputElement) {\n        if (game) game.population.scienceRatio = Number(this.value);\n    });\n\n    const farmSlider = document.getElementById('farmSlider') as HTMLInputElement;\n    farmSlider?.addEventListener('input', function (this: HTMLInputElement) {\n        if (game) game.farms.farmRatio = Number(this.value);\n    });\n\n    // Sanitize all numeric-input-small to positive integers\n    document.querySelectorAll('.numeric-input-small').forEach(el => {\n        el.addEventListener('change', function (this: HTMLInputElement) {\n            let val = Number(this.value);\n            if (isNaN(val) || val < 1) {\n                this.value = \"1\";\n            } else if (val !== Math.floor(val)) {\n                this.value = Math.floor(val).toString();\n            }\n        });\n    });\n};\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initListeners);\n} else {\n    initListeners();\n}\n\n// --- Hotkeys ---\nconst myKeyQueue: {key: number, shift: boolean}[] = [];\nfunction processKeyQueue() {\n    if (myKeyQueue.length === 0) return;\n    const key = myKeyQueue[0]?.key;\n    // var shift = myKeyQueue[0].shift;\n    myKeyQueue.splice(0, 1);\n    if (key === 66) { //b\n        game?.buyIce()\n    }\n}\n\ndocument.addEventListener(\"keydown\", function (e) {\n    const code = { key: (e.charCode !== 0 ? e.charCode : e.keyCode), shift: e.shiftKey };\n    myKeyQueue.push(code);\n    processKeyQueue();\n});\n",
    "type Listener = (...args: any[]) => void;\n\nexport default class EventEmitter {\n    private events: Map<string, Listener[]> = new Map();\n\n    on(event: string, listener: Listener): void {\n        if (!this.events.has(event)) {\n            this.events.set(event, []);\n        }\n        this.events.get(event)?.push(listener);\n    }\n\n    off(event: string, listener: Listener): void {\n        const listeners = this.events.get(event);\n        if (listeners) {\n            this.events.set(event, listeners.filter(l => l !== listener));\n        }\n    }\n\n    emit(event: string, ...args: any[]): void {\n        const listeners = this.events.get(event);\n        if (listeners) {\n            listeners.forEach(listener => listener(...args));\n        }\n    }\n}\n",
    "import Space from './core/Space';\nimport Ice from './core/Ice';\nimport Water from './core/Water';\nimport Clouds from './core/Clouds';\nimport Land from './core/Land';\nimport Trees from './core/Trees';\nimport Farms from './core/Farms';\nimport City from './core/City';\nimport Computer from './core/Computer';\nimport Robots from './core/Robots';\nimport Energy from './core/Energy';\nimport SpaceStation from './core/SpaceStation';\nimport TractorBeam from './core/TractorBeam';\nimport SpaceDock from './core/SpaceDock';\nimport Hangar from './core/Hangar';\nimport Planet from './core/Planet';\n\nimport View from './ui/View';\nimport UIEvents from './ui/UIEvents';\nimport { decode, encode } from './utils/utils';\nimport { Game as IGame } from './types';\nimport EventEmitter from './utils/EventEmitter';\n\n// --- State ---\nexport let game: Game | null = null;\nexport let view: View | null = null;\nlet timer = 0;\nlet stop = false;\nlet cometId = 0;\n\nfunction incrementTimer() { timer++; }\nfunction toggleStop() { stop = !stop; }\nexport function incrementCometId() { cometId++; return cometId; }\n\n// --- Game ---\nclass Game implements IGame {\n    totalLand: number;\n    cash: number;\n    oxygen: number;\n    science: number;\n    wood: number;\n    metal: number;\n    ore: number;\n    power: number;\n    oxygenLeak: number = 0;\n    canvasWidth: number = 1200;\n    canvasHeight: number = 600;\n\n    space!: Space;\n    ice!: Ice;\n    water!: Water;\n    clouds!: Clouds;\n    land!: Land;\n    trees!: Trees;\n    farms!: Farms;\n    population!: City;\n    computer!: Computer;\n    robots!: Robots;\n    energy!: Energy;\n    spaceStation!: SpaceStation;\n    tractorBeam!: TractorBeam;\n    spaceDock!: SpaceDock;\n    hangar!: Hangar;\n\n    events: EventEmitter;\n\n    constructor() {\n        this.totalLand = 1000;\n        this.cash = 100; // Actual default: 100\n        this.oxygen = 0;\n        this.science = 0; // Actual default: 0\n        this.wood = 0;\n        this.metal = 0;\n        this.ore = 0;\n        this.power = 0;\n        this.canvasWidth = 1200;\n        this.canvasHeight = 600;\n        this.events = new EventEmitter();\n    }\n\n    tick() {\n        this.water.waterSpending = 0;\n        this.water.gain = 0;\n        this.ice.tick();\n        this.robots.tick();\n        this.computer.tick();\n        this.land.soil -= this.farms.updateFarms(this.land.soil);\n        this.farms.tick(this.land.transferWater());\n        this.population.tick();\n        this.water.outdoor += this.farms.transferWater();\n        this.trees.tick(this.land.transferWater());\n        this.water.outdoor += this.trees.transferWater();\n        this.land.tick(this.clouds.transferWater());\n        this.clouds.tick(this.water.transferWater());\n        this.energy.tick();\n        this.water.tick(this.ice.transferWater());\n        this.tractorBeam.tick();\n        this.spaceStation.tick();\n        this.space.tick();\n\n        this.oxygenLeak = this.oxygen / 100000;\n        this.oxygen -= this.oxygenLeak;\n        this.hangar.tick();\n\n        this.events.emit('resources:updated');\n        this.events.emit('tick');\n    }\n\n    initialize() {\n        this.initializeSystems();\n    }\n\n    initializeSystems() {\n        this.space = new Space();\n        this.ice = new Ice();\n        this.water = new Water();\n        this.clouds = new Clouds();\n        this.land = new Land(this.totalLand);\n        this.trees = new Trees();\n        this.farms = new Farms();\n        this.population = new City();\n        this.computer = new Computer();\n        this.robots = new Robots();\n        this.energy = new Energy();\n        this.spaceStation = new SpaceStation();\n        this.tractorBeam = new TractorBeam();\n        this.spaceDock = new SpaceDock();\n        this.hangar = new Hangar();\n    }\n\n    initializeView() {\n        view?.clearComputerRows();\n        for (let i = 0; i < this.computer.processes.length; i++) {\n            view?.computerView.addComputerRow(i);\n            const proc = this.computer.processes[i];\n            if (proc) {\n                proc.isMoving = false;\n                proc.completions = 0;\n            }\n        }\n        view?.clearRobotRows();\n        for (let i = 0; i < this.robots.jobs.length; i++) {\n            view?.robotsView.addRobotRow(i);\n            const job = this.robots.jobs[i];\n            if (job) {\n                job.completions = 0;\n            }\n        }\n    }\n\n    buyIce() {\n        let toBuy = this.cash;\n        if (toBuy <= 0) {\n            return;\n        }\n        this.cash -= this.ice.buyIce(toBuy);\n    }\n\n    buyBattery() {\n        const el = document.getElementById('buyBattery') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * 3e4 > this.oxygen) {\n            toBuy = Math.floor(this.oxygen / 3e4);\n        }\n        if (toBuy * 2e4 > this.science) {\n            toBuy = Math.floor(this.science / 2e4);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.oxygen -= toBuy * 3e4;\n        this.science -= toBuy * 2e4;\n        this.energy.buyBattery(toBuy);\n    }\n\n    buyBattleship() {\n        const el = document.getElementById('buyBattleshipAmount') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * 3e7 > this.oxygen) {\n            toBuy = Math.floor(this.oxygen / 3e7);\n        }\n        if (toBuy * 1.5e7 > this.science) {\n            toBuy = Math.floor(this.science / 1.5e7);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.oxygen -= 3e7 * toBuy;\n        this.science -= 1.5e7 * toBuy;\n        this.spaceDock.addBattleship(toBuy);\n    }\n\n    buyHangar() {\n        const cost = 1000000;\n        const el = document.getElementById('buyHangarAmount') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * cost > this.metal) {\n            toBuy = Math.floor(this.metal / cost);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.metal -= toBuy * cost;\n        this.hangar.sendRate += toBuy;\n        this.events.emit('hangar:updated');\n    }\n}\n\n// --- Driver ---\nfunction tick() {\n    if (stop) {\n        return;\n    }\n    incrementTimer();\n\n    UIEvents.startBatch();\n    game?.tick();\n    UIEvents.endBatch();\n\n    if (timer % 100 === 0) {\n        save();\n    }\n}\n\nfunction recalcInterval(newSpeed: number) {\n    doWork.postMessage({ stop: true });\n    doWork.postMessage({ start: true, ms: (1000 / newSpeed) });\n}\n\nexport function pauseGame() {\n    toggleStop();\n}\n\n// --- Saving ---\nconst doWork = new Worker(new URL('./workers/interval.js', import.meta.url).href);\ndoWork.onmessage = function (event) {\n    if (event.data === 'interval.start') {\n        tick();\n    }\n};\n\nexport async function clearSave() {\n    window.localStorage.terrafold2 = \"\";\n    await load();\n}\n\nfunction loadDefaults() {\n    if (view) {\n        view.destroy();\n    }\n    game = new Game();\n    game.initialize();\n    view = new View();\n    game.initializeView();\n    \n    // @ts-ignore\n    window.game = game;\n    // @ts-ignore\n    window.view = view;\n}\n\nfunction setInitialView() {\n    if (!view) return;\n    view.updateFull();\n    view.refreshLayout();\n}\n\n\nasync function load() {\n    loadDefaults();\n    if (window.localStorage.terrafold2) { // existing savegame\n        const decoded = await decode(window.localStorage.terrafold2);\n        const toLoad = JSON.parse(decoded);\n        if (game) {\n            copyObject(toLoad, game);\n        }\n\n        const el = document.getElementById('scienceSlider') as HTMLInputElement;\n        if (el && game) el.value = game.population.scienceRatio.toString();\n        const elFarm = document.getElementById('farmSlider') as HTMLInputElement;\n        if (elFarm && game) elFarm.value = game.farms.farmRatio.toString();\n    }\n\n    setInitialView();\n    view?.refreshLayout();\n    recalcInterval(10);\n}\n\nconst EXCLUDED_PROPERTIES = [\n    'text', 'tooltip', 'events', 'canvasWidth', 'canvasHeight', \n    'drawed', 'isMoving', 'transferred', 'foodCreated', 'convertedLand',\n    'takeAmount', 'foodEaten', 'popGrowth', 'starving', 'scienceDelta', 'cashDelta',\n    'happinessFromTrees', 'happinessFromOxygen', 'happiness',\n    'fernsDelta', 'fernsWaterUse', 'smallTreesDelta', 'smallTreesWaterUse', \n    'treesDelta', 'treesWaterUse', 'totalPlants', 'oxygenGain',\n    'woodIncome', 'woodSpending', 'metalIncome', 'metalSpending', 'oreIncome', 'oreSpending', 'oreToDirtSpending', 'oxygenSpending',\n    'waterIncome', 'waterSpending',\n    'cashSpending', 'scienceSpending', 'waterFarms', 'waterTrees', 'buyIncome'\n];\n\nfunction copyObject(object: any, toSave: any) {\n    for (let property in object) {\n        if (Object.prototype.hasOwnProperty.call(object, property) && !EXCLUDED_PROPERTIES.includes(property)) {\n            if (typeof object[property] === 'object' && object[property] !== null) {\n                if (typeof toSave[property] === 'undefined')\n                    toSave[property] = Array.isArray(object[property]) ? [] : {};\n                copyObject(object[property], toSave[property]);\n            }\n            else if (typeof object[property] !== 'function')\n                toSave[property] = object[property];\n        }\n    }\n}\n\nexport async function save() {\n    let toSave = {};\n    if (game) copyObject(game, toSave)\n    window.localStorage.terrafold2 = await encode(JSON.stringify(toSave));\n}\n\nexport async function exportSave() {\n    await save();\n    const el = document.getElementById(\"exportImportSave\") as HTMLTextAreaElement;\n    if (el) {\n        el.value = await encode(window.localStorage.terrafold2 || \"\");\n        el.select();\n        document.execCommand('copy');\n        el.value = \"\";\n    }\n}\n\nexport async function importSave() {\n    const el = document.getElementById(\"exportImportSave\") as HTMLTextAreaElement;\n    if (el) {\n        window.localStorage.terrafold2 = await decode(el.value);\n        await load();\n    }\n}\n\nexport function begForMoney() {\n    if (game) game.cash += 0.1;\n}\n\n// Initialize the game\nload();\n// @ts-ignore\nwindow.game = game;\n// @ts-ignore\nwindow.view = view;\n// @ts-ignore\nwindow.pauseGame = pauseGame;\n"
  ],
  "mappings": "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",
  "debugId": "91520F5AA2A3B64764756E2164756E21",
  "names": []
}