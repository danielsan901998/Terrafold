{
  "version": 3,
  "sources": ["../../src/utils/utils.ts", "../../src/core/ShipManager.ts", "../../src/ui/spaceView.ts", "../../src/core/PlanetManager.ts", "../../src/core/Planet.ts", "../../src/core/Space.ts", "../../src/core/Ice.ts", "../../src/core/Water.ts", "../../src/core/Clouds.ts", "../../src/core/Land.ts", "../../src/core/Trees.ts", "../../src/core/Farms.ts", "../../src/core/City.ts", "../../src/core/Computer.ts", "../../src/core/Robots.ts", "../../src/core/Energy.ts", "../../src/core/SpaceStation.ts", "../../src/core/TractorBeam.ts", "../../src/core/SpaceDock.ts", "../../src/core/Ship.ts", "../../src/core/Hangar.ts", "../../src/ui/ProgressBar.ts", "../../src/ui/BaseView.ts", "../../src/ui/ComputerView.ts", "../../src/ui/RobotsView.ts", "../../src/ui/ResourceView.ts", "../../src/ui/IceView.ts", "../../src/ui/WaterView.ts", "../../src/ui/CloudsView.ts", "../../src/ui/LandView.ts", "../../src/ui/PopulationView.ts", "../../src/ui/TreesView.ts", "../../src/ui/FarmsView.ts", "../../src/ui/EnergyView.ts", "../../src/ui/SpaceStationView.ts", "../../src/ui/TractorBeamView.ts", "../../src/ui/SpaceDockView.ts", "../../src/ui/HangarView.ts", "../../src/ui/View.ts", "../../src/utils/EventEmitter.ts", "../../src/main.ts"],
  "sourcesContent": [
    "export function getClickAmount(event: MouseEvent): number {\n    let multiplier = 1;\n    if (event.ctrlKey) {\n        multiplier *= 5;\n    }\n    if (event.shiftKey) {\n        multiplier *= 10;\n    }\n    return multiplier;\n}\n\nexport function round1(num: number): number {\n    return Math.floor(num * 10) / 10;\n}\n\nexport function round2(num: number): number {\n    return Math.floor(num * 100) / 100;\n}\n\nexport function precision2(num: number): number {\n    return Number(num.toPrecision(2));\n}\n\nexport function precision3(num: number): number {\n    return Number(num.toPrecision(3));\n}\n\nexport function pxToInt(num: string): number {\n    return parseFloat(num.substring(0, num.indexOf('px')));\n}\n\nexport function formatNumber(num: number): string {\n    return Math.floor(num).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport function withinDistance(x1: number, y1: number, x2: number, y2: number, radius: number): boolean {\n    return getDistance(x1, y1, x2, y2) < radius;\n}\n\nexport function getDistance(x1: number, y1: number, x2: number, y2: number): number {\n    return Math.sqrt(Math.pow(Math.abs(x1 - x2), 2) + Math.pow(Math.abs(y1 - y2), 2));\n}\n\nexport function intToStringNegative(value: number, amount?: number): string {\n    let isPositive = 1;\n    if (value < 0) {\n        isPositive = -1;\n        value *= -1;\n    }\n    if (value >= 10000) {\n        return (isPositive === 1 ? \"+\" : \"-\") + nFormatter(value, 3);\n    } else {\n        return (isPositive === 1 ? \"+\" : \"-\") + formatSmallNumber(value, amount);\n    }\n}\n\nexport function intToString(value: number, amount?: number): string {\n    if (value >= 10000) {\n        return nFormatter(value, 3);\n    } else {\n        return formatSmallNumber(value, amount);\n    }\n}\n\nfunction formatSmallNumber(value: number, amount?: number): string {\n    if (Number.isInteger(value)) {\n        return value.toString();\n    }\n    let baseValue = 3;\n    if (amount !== undefined) {\n        baseValue = amount;\n    }\n    return value.toFixed(baseValue - 1).replace(format_regex, \"$1\");\n}\n\nexport function intToStringRound(value: number): string | number {\n    if (value >= 10000) {\n        return nFormatter(value, 3);\n    } else {\n        return Math.floor(value);\n    }\n}\n\nexport function toSuffix(value: number): string {\n    value = Math.round(value);\n    const suffixes = [\"\", \"K\", \"M\", \"B\", \"T\", \"Qa\", \"Qi\", \"Sx\", \"Sp\", \"O\", \"N\", \"Dc\", \"Ud\", \"Dd\", \"Td\", \"qd\", \"Qd\", \"sd\", \"Sd\", \"Od\", \"Nd\", \"V\"];\n    const suffixNum = Math.floor(((\"\" + value).length - 1) / 3);\n    let shortValue = parseFloat((suffixNum !== 0 ? (value / Math.pow(1000, suffixNum)) : value).toPrecision(3));\n    if (shortValue % 1 !== 0) shortValue = parseFloat(shortValue.toPrecision(2));\n    return shortValue + (suffixes[suffixNum] || \"\");\n}\n\nconst format_symbol_table = [\n    { value: 1E63, symbol: \"V\" },\n    { value: 1E60, symbol: \"Nd\" },\n    { value: 1E57, symbol: \"Od\" },\n    { value: 1E54, symbol: \"Sd\" },\n    { value: 1E51, symbol: \"sd\" },\n    { value: 1E48, symbol: \"Qd\" },\n    { value: 1E45, symbol: \"qd\" },\n    { value: 1E42, symbol: \"Td\" },\n    { value: 1E39, symbol: \"Dd\" },\n    { value: 1E36, symbol: \"Ud\" },\n    { value: 1E33, symbol: \"Dc\" },\n    { value: 1E30, symbol: \"N\" },\n    { value: 1E27, symbol: \"O\" },\n    { value: 1E24, symbol: \"Sp\" },\n    { value: 1E21, symbol: \"Sx\" },\n    { value: 1E18, symbol: \"Qi\" },\n    { value: 1E15, symbol: \"Qa\" },\n    { value: 1E12, symbol: \"T\" },\n    { value: 1E9, symbol: \"B\" },\n    { value: 1E6, symbol: \"M\" },\n    { value: 1E3, symbol: \"K\" }\n];\nconst format_regex = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\nconst nFormatCache = new Map<string, string>();\n\nexport function nFormatter(num: number, digits: number): string {\n    const key = num + \"|\" + digits;\n    const cached = nFormatCache.get(key);\n    if (cached !== undefined) return cached;\n\n    let result: string;\n    let found = false;\n    for (let i = 0; i < format_symbol_table.length; i++) {\n        const entry = format_symbol_table[i];\n        if (entry && (num) >= entry.value / 1.000501) { // /1.000501 to handle rounding\n            result = (num / entry.value).toPrecision(digits).replace(format_regex, \"$1\") + entry.symbol;\n            found = true;\n            break;\n        }\n    }\n    if (!found) {\n        result = num.toPrecision(digits).replace(format_regex, \"$1\");\n    }\n\n    if (nFormatCache.size > 1000) {\n        const firstKey = nFormatCache.keys().next().value;\n        if (firstKey !== undefined) nFormatCache.delete(firstKey);\n    }\n    nFormatCache.set(key, result!);\n    return result!;\n}\n\nlet factorials: number[] = [];\nexport function factorial(n: number): number {\n    if (n === 0 || n === 1)\n        return 1;\n    if (factorials[n] && factorials[n] > 0)\n        return factorials[n];\n    return factorials[n] = factorial(n - 1) * n;\n}\n\nexport function sortArrayObjectsByValue(arr: any[], valueName: string): void {\n    arr.sort((a, b) => a[valueName] - b[valueName]);\n}\n\nexport async function encode(theSave: string): Promise<string> {\n    const stream = new Blob([theSave]).stream().pipeThrough(new CompressionStream('gzip'));\n    const response = new Response(stream);\n    const buffer = await response.arrayBuffer();\n    const bytes = new Uint8Array(buffer);\n    let binary = '';\n    for (let i = 0; i < bytes.byteLength; i++) {\n        binary += String.fromCharCode(bytes[i]!);\n    }\n    return btoa(binary);\n}\n\nexport async function decode(encodedSave: string): Promise<string> {\n    if (!encodedSave) return \"\";\n    const trimmed = encodedSave.trim();\n    if (trimmed.startsWith('{') && trimmed.endsWith('}')) {\n        return trimmed;\n    }\n    try {\n        const binaryString = atob(encodedSave);\n        const bytes = Uint8Array.from(binaryString, (m) => m.codePointAt(0)!);\n        const stream = new Blob([bytes]).stream().pipeThrough(new DecompressionStream('gzip'));\n        return new Response(stream).text();\n    } catch (e) {\n        return encodedSave;\n    }\n}",
    "import { game } from '../main';\nimport { withinDistance, getDistance } from '../utils/utils';\nimport PlanetManager from './PlanetManager';\nimport Ship from './Ship';\nimport Planet from './Planet';\nimport { Target } from '../types';\n\nexport default class ShipManager {\n    static foodPerShip = 20;\n    static actionRate = 1;\n    static actionSpeed = 40;\n    static defaultSpeed = 0.5;\n    static emptySpeed = 0.05;\n    static globalTargetIndex = -1;\n\n    static tick(ship: Ship) {\n        ShipManager.checkEmpty(ship);\n        ShipManager.moveToNearestTarget(ship);\n        ShipManager.checkJoinFleet(ship);\n        ShipManager.attackTarget(ship);\n    }\n\n    static updateGlobalTarget() {\n        if (!game) return;\n        const home = game.hangar.getTarget();\n        ShipManager.globalTargetIndex = ShipManager.findClosestTarget(home.x, home.y);\n    }\n\n    static findClosestTarget(x: number, y: number): number {\n        if (!game) return -1;\n        let bestIndex = -1;\n        let minDist = Infinity;\n        for (let i = 0; i < game.space.planets.length; i++) {\n            const planet = game.space.planets[i]!;\n            if (!PlanetManager.doneBuilding(planet)) {\n                const dist = getDistance(x, y, planet.x, planet.y);\n                if (bestIndex === -1 || dist < minDist) {\n                    bestIndex = i;\n                    minDist = dist;\n                }\n            }\n        }\n        return bestIndex;\n    }\n\n    static checkJoinFleet(ship: Ship) {\n        if (!game || !ship.engaged) {\n            return;\n        }\n        for (let i = game.space.ships.length - 1; i >= 0; i--) {\n            const otherShip = game.space.ships[i]!;\n            if (otherShip === ship || ShipManager.isEmpty(otherShip)) { // only join on same types\n                continue;\n            }\n            if (withinDistance(ship.x, ship.y, otherShip.x, otherShip.y, 20)) {\n                ShipManager.combineShips(ship, otherShip);\n                game.space.ships.splice(i, 1);\n            }\n        }\n    }\n\n    static checkEmpty(ship: Ship) {\n        ship.food -= ship.count;\n        if (!ShipManager.isEmpty(ship)) {\n            return;\n        }\n        ship.food = 0;\n        ship.engaged = false;\n        ship.targetIndex = -1;\n    }\n\n    static getTargetObject(ship: Ship): Target | null {\n        if (!game) return null;\n        if (ship.targetIndex === -1) return game.hangar.getTarget();\n        if (ship.targetIndex >= 0 && ship.targetIndex < game.space.planets.length) {\n            const planet = game.space.planets[ship.targetIndex]!;\n            if (!PlanetManager.doneBuilding(planet)) {\n                return planet;\n            }\n        }\n        // If current target is invalid or done, find a new one\n        ship.targetIndex = ShipManager.findClosestTarget(ship.x, ship.y);\n        return ship.targetIndex === -1 ? game.hangar.getTarget() : game.space.planets[ship.targetIndex]!;\n    }\n\n    static returnHome(ship: Ship) {\n        if (!game) return;\n        game.spaceDock.battleships += ship.count;\n        game.spaceDock.sended -= ship.count;\n        game.farms.food += ship.food * ShipManager.foodPerShip;\n        game.events.emit('spaceDock:updated');\n        for (let i = game.space.ships.length - 1; i >= 0; i--) {\n            const otherShip = game.space.ships[i];\n            if (otherShip === ship) {\n                game.space.ships.splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    static isEmpty(ship: Ship) {\n        return ship.food <= 0;\n    }\n\n    static getSpeed(ship: Ship) {\n        return ShipManager.isEmpty(ship) ? ShipManager.emptySpeed : ShipManager.defaultSpeed;\n    }\n\n    static moveToNearestTarget(ship: Ship) {\n        const target = ShipManager.getTargetObject(ship);\n        if (!target) return;\n\n        if (getDistance(ship.x, ship.y, target.x, target.y) < 40) {\n            if (!('isHome' in target)) {\n                ship.engaged = true;\n                return;\n            }\n            ShipManager.returnHome(ship);\n            return;\n        }\n        \n        ship.engaged = false;\n        const magnitude = ShipManager.getSpeed(ship);\n        let extraTurn = 0;\n        const firstVC = target.y - ship.y;\n        const secondVC = target.x - ship.x;\n        if ((firstVC >= 0 && secondVC < 0) || (firstVC < 0 && secondVC < 0)) {\n            extraTurn = Math.PI;\n        }\n        const direction = Math.atan(firstVC / secondVC) + extraTurn; // (y2-y1)/(x2-x1)\n        ship.x = ship.x + magnitude * Math.cos(direction); // ||v||cos(theta)\n        ship.y = ship.y + magnitude * Math.sin(direction);\n        ship.direction = direction;\n    }\n\n    static attackTarget(ship: Ship) {\n        const target = ShipManager.getTargetObject(ship);\n        if (target && !('isHome' in target) && ship.engaged) {\n            const planet = target as Planet;\n            ship.actionCounter++;\n            if (ship.actionCounter >= ShipManager.actionSpeed) {\n                ship.actionCounter = 0;\n                if (PlanetManager.alive(planet)) {\n                    PlanetManager.takeDamage(planet, ShipManager.actionRate * ship.count);\n                } else {\n                    PlanetManager.workConstruction(planet, ship.count);\n                    if (PlanetManager.doneBuilding(planet)) {\n                        ship.engaged = false;\n                        ship.targetIndex = ShipManager.findClosestTarget(ship.x, ship.y);\n                    }\n                }\n            }\n        }\n    }\n\n    static combineShips(ship1: Ship, ship2: Ship) {\n        ship1.count += ship2.count;\n        ship1.energy += ship2.energy;\n        ship1.food += ship2.food;\n        if (ship2.actionCounter > ship1.actionCounter) {\n            ship1.actionCounter = ship2.actionCounter;\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, withinDistance } from '../utils/utils';\nimport PlanetManager from '../core/PlanetManager';\nimport ShipManager from '../core/ShipManager';\nimport Ship from '../core/Ship';\nimport Planet from '../core/Planet';\n\nconst canvas = document.getElementById(\"spaceCanvas\") as HTMLCanvasElement;\nconst ctx = canvas ? canvas.getContext(\"2d\") : null;\nif (ctx) ctx.font = \"13px Arial\";\nlet xOffset = 240;\nlet mousePos: {x: number, y: number} = {x: 0, y: 0};\n\nfunction resizeCanvas() {\n    if (!canvas || !game) return;\n    if (canvas.width !== game.canvasWidth || canvas.height !== game.canvasHeight) {\n        canvas.width = game.canvasWidth;\n        canvas.height = game.canvasHeight;\n        xOffset = canvas.width / 5; \n        if (ctx) ctx.font = \"13px Arial\";\n    }\n}\n\nif (canvas) {\n    window.addEventListener('resize', resizeCanvas);\n    resizeCanvas();\n    canvas.addEventListener('mousemove', function(e) {\n        mousePos = {x:e.offsetX - xOffset, y:e.offsetY};\n    });\n}\n\nexport default function updateSpace() {\n    if (!ctx || !game || !canvas) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawTargets();\n    drawBattleships();\n    drawTooltips();\n}\n\nfunction drawTooltips() {\n    if (!game) return;\n    for(let i = 0; i < game.space.planets.length; i++) {\n        drawPlanetTooltip(game.space.planets[i]!);\n    }\n}\n\nfunction drawBattleships() {\n    if (!game) return;\n    for(let i = 0; i < game.space.ships.length; i++) {\n        drawShip(game.space.ships[i]!);\n    }\n}\n\nfunction drawTargets() {\n    if (!game) return;\n    for(let i = 0; i < game.space.planets.length; i++) {\n        const planet = game.space.planets[i]!;\n        drawPlanet(planet, planet.isBoss ? \"B\" : (i+1).toString());\n    }\n}\n\nfunction drawBorders() {\n    if (!ctx || !canvas) return;\n    ctx.fillStyle = \"yellow\";\n    // Scale borders to canvas size\n    ctx.fillRect(canvas.width * 0.1, canvas.height * 0.85, canvas.width * 0.8, 1);\n}\n\nfunction drawShip(ship: Ship) {\n    if (!ctx) return;\n    const offsetX = ship.x + xOffset;\n\n    // Laser animation\n    const target = ShipManager.getTargetObject(ship);\n    if (ship.engaged && target && ship.actionCounter < 10) {\n        const isHome = 'isHome' in target;\n        const targetSize = getPlanetSize(!isHome ? (target as Planet).isBoss : false);\n        ctx.save();\n        ctx.beginPath();\n        ctx.strokeStyle = \"rgba(255, 50, 50, \" + (1 - ship.actionCounter / 10) + \")\";\n        ctx.lineWidth = 3;\n        ctx.moveTo(offsetX + 25, ship.y + 25);\n        ctx.lineTo(target.x + xOffset + targetSize, target.y + targetSize);\n        ctx.stroke();\n        ctx.restore();\n    }\n\n    ctx.save();\n    ctx.translate(offsetX+25, ship.y+25);\n    ctx.rotate(ship.direction);\n\n    const point1 = {x:-10, y:-10};\n    const point2 = {x:10, y:0};\n    const point3 = {x:-10, y:10};\n    const point4 = {x:-7, y:0};\n\n    ctx.beginPath();\n    ctx.fillStyle=\"#008080\";\n    ctx.lineWidth = 3;\n    ctx.moveTo(point1.x, point1.y);\n    ctx.lineTo(point2.x, point2.y);\n    ctx.lineTo(point3.x, point3.y);\n    ctx.lineTo(point4.x, point4.y);\n    // ctx.stroke();\n    ctx.fill();\n    ctx.restore();\n\n    ctx.save();\n    ctx.translate(offsetX+25, ship.y+25);\n    ctx.fillStyle = \"white\";\n    ctx.fillText(ship.count.toString(),-4,20);\n    ctx.fillText(intToString(ship.food / ship.count / 10),-4,30);\n    ctx.restore();\n}\n\nfunction drawPlanet(planet: any, text: string) {\n    if (!ctx) return;\n    const size = getPlanetSize(planet.isBoss);\n    const offsetX = planet.x + xOffset;\n    \n    ctx.save();\n    ctx.translate(offsetX+size, planet.y+size);\n\n    drawPlanetAtmo(planet, size);\n    drawPlanetHealth(planet, size);\n    drawPlanetObjects(planet, size);\n\n    ctx.fillStyle = \"white\";\n    ctx.fillText(text,-3,4);\n    ctx.restore();\n}\n\nfunction drawPlanetTooltip(planet: any) {\n    if (!ctx) return;\n    const size = getPlanetSize(planet.isBoss);\n    const offsetX = planet.x + xOffset;\n\n    const showTooltip = withinDistance(mousePos.x, mousePos.y, planet.x+size, planet.y+size, 50);\n    if(!showTooltip) {\n        return;\n    }\n\n    ctx.save();\n    ctx.translate(offsetX+size, planet.y+size);\n\n    ctx.fillStyle = \"#ffffff\";\n    ctx.fillText(\"Atmosphere: \" + intToString(planet.atmo),-15,size);\n    ctx.fillText(\"Reduction: \"+intToString(PlanetManager.getShieldReduction(planet)*100)+\"%\",-15,size+10);\n    ctx.fillText(\"Health: \"+intToString(planet.health),-15,size+20);\n    ctx.fillText(\"Dirt: \"+intToString(planet.dirt),-15,size+30);\n    ctx.fillText(\"Ore: \"+intToString(planet.ore),-15,size+40);\n    ctx.fillText(\"C.Bots: \"+planet.bots+ \" / \" + planet.maxMines,-15,size+50);\n    ctx.fillText(\"Solar: \"+planet.solar,-15,size+60);\n    ctx.fillText(\"Build Factory: \"+planet.factoryTicks+\" / \" + PlanetManager.FACTORY_TICKS_MAX,-15,size+70);\n    ctx.fillText(\"Build Coilgun: \"+planet.coilgunTicks+\" / \" + PlanetManager.COILGUN_TICKS_MAX,-15,size+80);\n    ctx.fillText(\"Coilgun Charge: \"+intToString(planet.coilgunCharge)+\" / \" + PlanetManager.COILGUN_CHARGE_MAX,-15,size+90);\n    ctx.fillText(\"Build Solar: \"+intToString(planet.solarTicks)+\" / \" + PlanetManager.SOLAR_TICKS_MAX,-15,size+100);\n    ctx.fillText(\"Mines: \"+planet.mines+ \" / \" + planet.maxMines,-15,size+110);\n    ctx.fillText(\"Build Mine: \"+planet.mineTicks+ \" / \" + PlanetManager.MINE_TICKS_MAX,-15,size+120);\n\n    ctx.restore();\n}\n\nfunction drawPlanetAtmo(planet: any, size: number) {\n    if (!ctx) return;\n    const atmoRatio = size * (planet.atmo / planet.maxAtmo / 2 + .5);\n    const atmosphere = ctx.createRadialGradient(0, 0, atmoRatio*1.1, 0, 0, atmoRatio/3.3);\n    atmosphere.addColorStop(0, 'black');\n    const color = \"hsl(\"+ (planet.view.color+120) +\",90%,60%)\";\n    atmosphere.addColorStop(1, color);\n    ctx.fillStyle = atmosphere;\n    ctx.fillRect(-size,-size,size*2,size*2);\n\n    ctx.beginPath();\n    ctx.strokeStyle=\"#008080\";\n    ctx.lineWidth = 3;\n    ctx.arc(0,0,size-4,0,2*Math.PI * (planet.atmo / planet.maxAtmo));\n    ctx.stroke();\n}\n\nfunction drawPlanetHealth(planet: any, size: number) {\n    if (!ctx) return;\n    ctx.beginPath();\n    const saturation = Math.floor(planet.health / planet.maxHealth * 70 + 10); // 10-80\n    ctx.fillStyle = \"hsl(\"+ planet.view.color +\",\"+saturation+\"%,\"+planet.view.light+\"%)\";\n    ctx.arc(0,0,size/2,0,2*Math.PI);\n    ctx.fill();\n\n    ctx.beginPath();\n    ctx.strokeStyle=\"#b6000b\";\n    ctx.lineWidth = 3;\n    ctx.moveTo(-size*2/3, -size);\n    ctx.lineTo(-size*2/3 + (size*4/3 * (planet.health / planet.maxHealth)), -size);\n    ctx.stroke();\n}\n\nfunction drawPlanetObjects(planet: any, size: number) {\n    if (!ctx || PlanetManager.empty(planet)) return;\n    \n    const quarterTurn = Math.PI / 2;\n    const startAngle = -quarterTurn;\n\n    // Factory: Progress arc (Outer)\n    if (planet.factoryTicks > 0 && planet.factoryTicks < PlanetManager.FACTORY_TICKS_MAX) {\n        const percentage = planet.factoryTicks / PlanetManager.FACTORY_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#888888\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.9, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Coilgun: Construction arc\n    if (planet.coilgunTicks > 0 && planet.coilgunTicks < PlanetManager.COILGUN_TICKS_MAX) {\n        const percentage = planet.coilgunTicks / PlanetManager.COILGUN_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#884400\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.8, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Coilgun: Charge arc\n    if (planet.coilgunTicks >= PlanetManager.COILGUN_TICKS_MAX && planet.coilgunCharge > 0) {\n        const percentage = planet.coilgunCharge / PlanetManager.COILGUN_CHARGE_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#ffcc00\"; // Gold for charge\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.8, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Solar: Progress arc (Next panel)\n    if (planet.solar > 0 || planet.solarTicks > 0) {\n        const percentage = planet.solarTicks / PlanetManager.SOLAR_TICKS_MAX;\n        const endAngle = (2 * percentage * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#4444ff\"; // Bright blue\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.7, startAngle, endAngle);\n        ctx.stroke();\n    }\n\n    // Mines: Progress arc (Inner)\n    if (planet.mines < planet.maxMines && (planet.mines > 0 || planet.mineTicks > 0)) {\n        const percentage = (planet.mines + Math.min(1, planet.mineTicks / PlanetManager.MINE_TICKS_MAX)) / planet.maxMines;\n        const endAngle = (2 * Math.min(1, percentage) * Math.PI) - quarterTurn;\n        ctx.beginPath();\n        ctx.strokeStyle = \"#666666\";\n        ctx.lineWidth = 2;\n        ctx.arc(0, 0, size * 0.6, startAngle, endAngle);\n        ctx.stroke();\n    }\n}\n\nexport function rotatePlanet(planet: any) { // Done on planet's tick\n    planet.view.rotation += planet.view.rotationSpeed/10+.01;\n    if(planet.view.rotation >= Math.PI * 2) {\n        planet.view.rotation -= Math.PI * 2;\n    }\n}\n\nfunction getPlanetSize(isBoss: boolean | number) {\n    return isBoss ? 40 : 25;\n}\n",
    "import { game } from '../main';\nimport { withinDistance, precision3 } from '../utils/utils';\nimport { rotatePlanet } from '../ui/spaceView';\nimport Planet from './Planet';\n\nexport default class PlanetManager {\n    static readonly MINE_TICKS_MAX = 2000;\n    static readonly FACTORY_TICKS_MAX = 8000;\n    static readonly SOLAR_TICKS_MAX = 1000;\n    static readonly COILGUN_TICKS_MAX = 1000;\n    static readonly COILGUN_CHARGE_MAX = 1000;\n\n    static findArea(planet: Planet) {\n        if (!game) return;\n        let counter = 0;\n        while (PlanetManager.isWithinDistanceOfAny(planet, planet.x, planet.y, 75)) {\n            counter++;\n            if (counter > 40) {\n                console.log(\"too many planets\");\n                return;\n            }\n            planet.x = PlanetManager.xAreaAllowed();\n            planet.y = PlanetManager.yAreaAllowed();\n        }\n    }\n\n    static xAreaAllowed() {\n        if (!game) return 0;\n        const activeWidth = game.canvasWidth * 0.8;\n        return Math.random() * (activeWidth - 200); \n    }\n\n    static yAreaAllowed() {\n        if (!game) return 0;\n        const maxHeight = game.canvasHeight * 0.80;\n        return Math.random() * (maxHeight - 55) + 10;\n    }\n\n    static isWithinDistanceOfAny(planet: Planet, x1: number, y1: number, radius: number) {\n        if (!game) return false;\n        for (let i = 0; i < game.space.planets.length; i++) {\n            const target = game.space.planets[i];\n            if (!target || target === planet) {\n                continue;\n            }\n            if (withinDistance(x1, y1, target.x, target.y, radius)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    static tick(planet: Planet) {\n        PlanetManager.regenShields(planet);\n        PlanetManager.tickResources(planet);\n        rotatePlanet(planet);\n    }\n\n    static empty(planet: Planet) {\n        return planet.dirt <= 0;\n    }\n\n    static alive(planet: Planet) {\n        return planet.health > 0;\n    }\n\n    static regenShields(planet: Planet) {\n        if (!PlanetManager.alive(planet)) {\n            planet.atmo = 0;\n            return;\n        }\n        planet.atmo += (planet.maxAtmo - planet.atmo) / 100;\n        if (planet.atmo > planet.maxAtmo) {\n            planet.atmo = planet.maxAtmo;\n        }\n    }\n\n    static getShieldReduction(planet: Planet) {\n        return planet.atmo / planet.maxAtmo;\n    }\n\n    static takeDamage(planet: Planet, damage: number) {\n        const shieldReduction = PlanetManager.getShieldReduction(planet);\n        const healthDamage = damage * (1 - shieldReduction);\n        planet.atmo -= damage * shieldReduction;\n        let extraDamage = 0;\n        if (planet.atmo < 0) {\n            extraDamage = planet.atmo * -1;\n            planet.atmo = 0;\n        }\n\n        planet.health -= healthDamage + extraDamage;\n        if (planet.health < 0) {\n            planet.health = 0;\n        }\n    }\n\n    static calcPower(planet: Planet, difficulty: number) {\n        planet.power = difficulty * (planet.isBoss ? 1.5 : 1);\n        planet.atmo = planet.maxAtmo = Math.min(200, precision3((planet.power * 2) + 100));\n        planet.health = planet.maxHealth = precision3((planet.power * 20) + 1000);\n        planet.dirt = precision3((planet.power * 200) + 2000);\n        planet.maxMines = Math.floor((planet.dirt + .1) / 1000);\n    }\n\n    static workConstruction(planet: Planet, amount: number) {\n        if (!PlanetManager.doneFactory(planet)) {\n            PlanetManager.workOnFactory(planet, amount);\n            return;\n        }\n        if (!PlanetManager.doneCoilgun(planet)) {\n            PlanetManager.workOnCoilgun(planet, amount);\n            return;\n        }\n        PlanetManager.workOnMine(planet, amount);\n    }\n\n    static tickResources(planet: Planet) {\n        if (PlanetManager.empty(planet)) {\n            return;\n        }\n        PlanetManager.tickMines(planet);\n        PlanetManager.tickBots(planet);\n        PlanetManager.tickFactory(planet);\n        PlanetManager.tickSolar(planet);\n        PlanetManager.tickCoilgun(planet);\n    }\n\n    static doneBuilding(planet: Planet) {\n        return planet.mines >= planet.maxMines;\n    }\n\n    static workOnMine(planet: Planet, amount: number) {\n        planet.mineTicks += amount;\n        if (planet.mineTicks >= PlanetManager.MINE_TICKS_MAX) {\n            let toAdd = Math.floor(planet.mineTicks / PlanetManager.MINE_TICKS_MAX);\n            toAdd = Math.min(toAdd, planet.maxMines - planet.mines);\n            planet.mines += toAdd;\n            planet.mineTicks -= toAdd * PlanetManager.MINE_TICKS_MAX;\n        }\n    }\n\n    static tickMines(planet: Planet) {\n        planet.ore += planet.mines;\n    }\n\n    static tickBots(planet: Planet) {\n        const botWork = Math.min(planet.bots, planet.ore);\n        planet.ore -= botWork;\n        PlanetManager.workOnSolar(planet, botWork);\n    }\n\n    static doneFactory(planet: Planet) {\n        return planet.factoryTicks >= PlanetManager.FACTORY_TICKS_MAX;\n    }\n\n    static workOnFactory(planet: Planet, amount: number) {\n        planet.factoryTicks += amount;\n    }\n\n    static tickFactory(planet: Planet) {\n        if (planet.ore >= 200) {\n            const toAdd = Math.floor(planet.ore / 200);\n            planet.bots += toAdd;\n            planet.ore -= toAdd * 200;\n        }\n    }\n\n    static workOnSolar(planet: Planet, amount: number) {\n        planet.solarTicks += amount;\n        if (planet.solarTicks >= PlanetManager.SOLAR_TICKS_MAX) {\n            const toAdd = Math.floor(planet.solarTicks / PlanetManager.SOLAR_TICKS_MAX);\n            planet.solar += toAdd;\n            planet.solarTicks -= toAdd * PlanetManager.SOLAR_TICKS_MAX;\n        }\n    }\n\n    static tickSolar(planet: Planet) {\n        planet.coilgunCharge += planet.solar;\n    }\n\n    static doneCoilgun(planet: Planet) {\n        return planet.coilgunTicks >= PlanetManager.COILGUN_TICKS_MAX;\n    }\n\n    static workOnCoilgun(planet: Planet, amount: number) {\n        planet.coilgunTicks += amount;\n    }\n\n    static tickCoilgun(planet: Planet) {\n        if (planet.coilgunCharge >= PlanetManager.COILGUN_CHARGE_MAX) {\n            const toAdd = Math.floor(planet.coilgunCharge / PlanetManager.COILGUN_CHARGE_MAX);\n            planet.coilgunCharge -= toAdd * PlanetManager.COILGUN_CHARGE_MAX;\n            let loadSize = 500 * toAdd;\n            if (planet.dirt <= loadSize) {\n                loadSize = planet.dirt;\n            }\n            planet.dirt -= loadSize;\n            if (game && game.spaceStation.orbiting[1]) {\n                game.spaceStation.orbiting[1].amount += loadSize;\n            }\n        }\n    }\n}\n",
    "import PlanetManager from './PlanetManager';\n\nexport default class Planet {\n    isBoss: boolean | number = false;\n    view: {\n        rotation: number;\n        rotationSpeed: number;\n        color: number;\n        light: number;\n    };\n    x: number;\n    y: number;\n    mines: number = 0;\n    mineTicks: number = 0;\n    ore: number = 0;\n    bots: number = 0;\n    factoryTicks: number = 0;\n    solarTicks: number = 0;\n    solar: number = 0;\n    energy: number = 0;\n    coilgunTicks: number = 0;\n    coilgunCharge: number = 0;\n    \n    id?: number;\n    power: number = 0;\n    atmo: number = 0;\n    maxAtmo: number = 0;\n    health: number = 0;\n    maxHealth: number = 0;\n    dirt: number = 0;\n    maxMines: number = 0;\n\n    constructor() {\n        this.view = {\n            rotation: 0,\n            rotationSpeed: Math.random(),\n            color: Math.floor(Math.random() * 360),\n            light: Math.floor(Math.random() * 15 + 40)\n        };\n\n        this.x = PlanetManager.xAreaAllowed();\n        this.y = PlanetManager.yAreaAllowed();\n        \n        PlanetManager.findArea(this);\n    }\n}\n",
    "import PlanetManager from './PlanetManager';\nimport ShipManager from './ShipManager';\nimport Planet from './Planet';\nimport Ship from './Ship';\nimport { sortArrayObjectsByValue } from '../utils/utils';\n\nexport default class Space {\n    planets: Planet[];\n    ships: Ship[];\n    sector: number;\n    constructor() {\n        this.planets = [];\n        this.ships = [];\n        this.sector = 0;\n    }\n\n    tick() {\n        let empty = true;\n        ShipManager.updateGlobalTarget();\n        for (let i = 0; i < this.planets.length; i++) {\n            const planet = this.planets[i]!;\n            PlanetManager.tick(planet); // Use PlanetManager.tick\n            if (PlanetManager.empty(planet) === false) // Use PlanetManager.empty\n                empty = false;\n        }\n        if (empty && this.ships.length === 0) {\n            this.planets = [];\n            this.sector++;\n            this.newLevel();\n        }\n        for (let i = 0; i < this.ships.length; i++) {\n            ShipManager.tick(this.ships[i]!); // Use ShipManager.tick\n        }\n    }\n\n    spawnShip(ship: Ship, y: number) {\n        ship.x = -120;\n        ship.y = y;\n        this.ships.push(ship);\n    }\n\n    newLevel() {\n        for (let i = 0; i < 10; i++) {\n            const newPlanet = new Planet();\n            this.planets.push(newPlanet);\n        }\n        sortArrayObjectsByValue(this.planets, \"x\");\n        const lastPlanet = this.planets[this.planets.length - 1];\n        if (lastPlanet) lastPlanet.isBoss = true;\n\n        for (let i = 0; i < this.planets.length; i++) {\n            PlanetManager.calcPower(this.planets[i]!, this.sector);\n        }\n    }\n}",
    "export default class Ice {\n    ice: number;\n    buyable: number;\n    gain: number;\n    max: number;\n    transferred: number;\n\n    constructor() {\n        this.ice = 0;\n        this.buyable = 1000;\n        this.gain = 10;\n        this.max = 1000;\n        this.transferred = 0;\n    }\n\n    tick() {\n        this.buyable += this.gain;\n        if (this.buyable > this.max) {\n            this.buyable = this.max;\n        }\n    }\n\n    transferWater(): number {\n        this.transferred = this.ice / 1000;\n        this.ice -= this.transferred;\n        return this.transferred;\n    }\n\n    buyIce(toBuy: number): number {\n        if (this.buyable < toBuy) {\n            toBuy = this.buyable;\n        }\n        this.buyable -= toBuy;\n        this.ice += toBuy;\n        return toBuy;\n    }\n\n    findIceSeller(amount: number) {\n        this.max += amount * 200;\n        this.gain += amount;\n    }\n}",
    "import { game } from '../main';\n\nexport default class Water {\n    indoor: number;\n    outdoor: number;\n    maxIndoor: number;\n    selling: number;\n    excess: number;\n    gain: number;\n    transferred: number = 0;\n\n    constructor() {\n        this.indoor = 0;\n        this.outdoor = 0;\n        this.maxIndoor = 50;\n        this.selling = 0;\n        this.excess = 0;\n        this.gain = 0;\n    }\n\n    tick(gained: number) {\n        this.indoor += gained;\n\n        this.excess = this.indoor - this.maxIndoor;\n        if (this.excess > 0) {\n            this.indoor = this.maxIndoor;\n            this.outdoor += this.excess;\n        } else {\n            this.excess = 0;\n        }\n\n        this.selling = this.indoor / 100;\n        this.indoor -= this.selling;\n        this.gain = this.selling * 2;\n        if (game) game.cash += this.gain;\n    }\n\n    transferWater(): number {\n        this.transferred = this.outdoor / 1000;\n        this.outdoor -= this.transferred;\n        return this.transferred;\n    }\n\n    sellWater(toSell: number) {\n        if (this.indoor < toSell) {\n            toSell = this.indoor;\n        }\n        this.indoor -= toSell;\n        if (game) game.cash += this.getPrice(toSell);\n    }\n\n    getPrice(toSell: number): number {\n        return toSell * 2;\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Clouds {\n    water: number;\n    initialStormTimer: number;\n    stormTimer: number;\n    stormRate: number; // climbs to 100, stays for stormDuration, falls to 0\n    storming: number;\n    initialStormDuration: number;\n    stormDuration: number;\n    transferred: number;\n    lightningChance: number;\n    lightningStrength: number;\n\n    constructor() {\n        this.water = 0;\n        this.initialStormTimer = 300;\n        this.stormTimer = 300;\n        this.stormRate = 0; \n        this.storming = 0;\n        this.initialStormDuration = 60;\n        this.stormDuration = 60;\n        this.transferred = 0;\n        this.lightningChance = 0;\n        this.lightningStrength = 0;\n    }\n\n    tick(gained: number) {\n        this.water += gained;\n        this.nextStormTimer();\n        this.tickLightning();\n    }\n\n    tickLightning() {\n        this.lightningChance += .01 * this.stormRate / 100;\n        this.lightningStrength = this.water * .01;\n        if (this.stormRate === 100 && this.lightningChance > Math.random() * 100) {\n            this.lightningChance = 0;\n            if (game) game.energy.gainEnergy(this.lightningStrength);\n        }\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 500 * this.stormRate / 100;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    nextStormTimer() {\n        if (this.stormTimer > 0) {\n            this.stormTimer--;\n        } else if (this.stormDuration > 0) {\n            this.storming = 1;\n        }\n\n        if (this.stormRate >= 100) {\n            this.storming = 0;\n            if (this.stormDuration > 0) {\n                this.storming = 0;\n                this.stormDuration--;\n            } else {\n                this.storming = -1;\n            }\n        } else if (this.stormRate <= 0 && this.storming === -1) {\n            this.stormDuration = this.initialStormDuration;\n            this.stormTimer = this.initialStormTimer;\n            this.storming = 0;\n        }\n\n        this.stormRate += this.storming;\n    }\n\n    gainStormDuration(amount: number) {\n        this.stormDuration += amount;\n        this.initialStormDuration += amount;\n    }\n}",
    "export default class Land {\n    land: number;\n    baseLand: number;\n    optimizedLand: number;\n    water: number;\n    soil: number;\n    transferred: number;\n    convertedLand: number = 0;\n\n    constructor(totalLand: number) {\n        this.land = totalLand;\n        this.baseLand = totalLand;\n        this.optimizedLand = totalLand;\n        this.water = 0;\n        this.soil = 0;\n        this.transferred = 0;\n    }\n\n    tick(amount: number) {\n        this.water += amount;\n        this.turnLandToSoil();\n    }\n\n    turnLandToSoil() {\n        this.convertedLand = this.water / 1000;\n        if (this.land < this.convertedLand) {\n            this.convertedLand = this.land;\n        }\n        this.land -= this.convertedLand;\n        this.soil += this.convertedLand;\n        this.water -= this.convertedLand;\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    improveLand() {\n        const amount = (10 * this.baseLand - this.optimizedLand) / 100;\n        this.optimizedLand += amount;\n        this.land += amount;\n    }\n\n    addLand(amount: number) {\n        this.optimizedLand += amount;\n        this.land += amount;\n        this.baseLand += amount;\n    }\n}",
    "import { game } from '../main';\n\nexport default class Trees {\n    water: number;\n    ferns: number;\n    fernsDelta: number;\n    fernsWaterUse: number;\n    smallTrees: number;\n    smallTreesDelta: number;\n    smallTreesWaterUse: number;\n    trees: number;\n    treesDelta: number;\n    treesWaterUse: number;\n    totalPlants: number;\n    oxygenGain: number;\n    transferred: number = 0;\n\n    constructor() {\n        this.water = 0;\n        this.ferns = 0;\n        this.fernsDelta = 0;\n        this.fernsWaterUse = 0;\n        this.smallTrees = 0;\n        this.smallTreesDelta = 0;\n        this.smallTreesWaterUse = 0;\n        this.trees = 0;\n        this.treesDelta = 0;\n        this.treesWaterUse = 0;\n        this.totalPlants = 0;\n        this.oxygenGain = 0;\n    }\n\n    tick(gained: number) {\n        this.water += gained;\n        this.plantGrowth();\n        this.oxygenGain = (this.ferns / 1000) + (3 * this.smallTrees / 1000) + (this.trees / 100);\n        if (game) game.oxygen += this.oxygenGain;\n    }\n\n    plantGrowth() {\n        if (!game) return;\n        this.totalPlants = this.ferns + this.smallTrees + this.trees;\n        this.treesDelta = this.smallTrees / 1000;\n        this.smallTreesDelta = this.ferns / 1000 - this.treesDelta;\n        this.fernsDelta = (game.land.soil - this.totalPlants) / 1000 - this.ferns / 1000;\n\n        this.fernsWaterUse = (game.land.soil - this.totalPlants) / 1000;\n        this.fernsWaterUse = this.fernsWaterUse < 0 ? 0 : this.fernsWaterUse;\n        this.smallTreesWaterUse = this.ferns / 1000;\n        this.treesWaterUse = this.smallTrees / 1000;\n\n        if (this.fernsDelta < 0) {\n            let excessDying = 0;\n            if (this.ferns + this.fernsDelta < 0) { // Not enough ferns to kill off\n                excessDying = this.fernsDelta + this.ferns;\n                this.fernsDelta = -1 * this.ferns;\n            }\n            this.smallTreesDelta += excessDying;\n            excessDying = 0;\n            if (this.smallTrees + this.smallTreesDelta < 0) { // Not enough small trees to kill off\n                excessDying = this.smallTrees + this.smallTreesDelta;\n                this.smallTreesDelta = -1 * this.smallTrees;\n            }\n            this.treesDelta += excessDying;\n        }\n        if (this.water < this.treesWaterUse) {\n            this.treesDelta = this.treesDelta > 0 ? this.water : this.treesDelta;\n            this.treesWaterUse = this.water;\n        }\n        this.trees += this.treesDelta;\n        this.water -= this.treesWaterUse;\n\n        if (this.water < this.smallTreesWaterUse) {\n            this.smallTreesDelta = this.smallTreesDelta > 0 ? this.water : this.smallTreesDelta;\n            this.smallTreesWaterUse = this.water;\n        }\n        this.smallTrees += this.smallTreesDelta;\n        this.water -= this.smallTreesWaterUse;\n\n        if (this.water < this.fernsWaterUse) {\n            this.fernsDelta = this.fernsDelta > 0 ? this.water : this.fernsDelta;\n            this.fernsWaterUse = this.water;\n        }\n        this.ferns += this.fernsDelta;\n        this.water -= this.fernsWaterUse;\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Farms {\n    water: number;\n    farms: number;\n    food: number;\n    foodCreated: number;\n    efficiency: number;\n    transferred: number = 0;\n\n    constructor() {\n        this.water = 0;\n        this.farms = 0;\n        this.food = 0;\n        this.foodCreated = 0;\n        this.efficiency = 1;\n    }\n\n    tick(gained: number) {\n        this.water += gained;\n        this.gainFood();\n    }\n\n    transferWater(): number {\n        this.transferred = this.water / 1000;\n        this.water -= this.transferred;\n        return this.transferred;\n    }\n\n    gainFood() {\n        this.foodCreated = this.farms / 100 * this.efficiency;\n        if (this.foodCreated > this.water) {\n            this.foodCreated = this.water;\n        }\n        this.water -= this.foodCreated;\n        this.food += this.foodCreated;\n    }\n\n    addFarm(amount: number) {\n        this.farms += amount;\n        game?.events.emit('farms:updated');\n    }\n\n    improve() {\n        this.efficiency += .02;\n        game?.events.emit('farms:updated');\n    }\n}",
    "import { game } from '../main';\n\nexport default class City {\n    people: number;\n    foodEaten: number;\n    popGrowth: number;\n    starving: number;\n    scienceRatio: number;\n    scienceDelta: number;\n    cashDelta: number;\n    happiness: number;\n    houseBonus: number;\n    happinessFromTrees: number = 0;\n    happinessFromOxygen: number = 0;\n\n    constructor() {\n        this.people = 0;\n        this.foodEaten = 0;\n        this.popGrowth = 0;\n        this.starving = 0;\n        this.scienceRatio = 0;\n        this.scienceDelta = 0;\n        this.cashDelta = 0;\n        this.happiness = 1;\n        this.houseBonus = 1;\n    }\n\n    tick() {\n        if (!game) return;\n        this.foodEaten = this.people / 100;\n        if (this.foodEaten > game.farms.food) {\n            this.starving = this.foodEaten - game.farms.food;\n            this.foodEaten = game.farms.food;\n        } else {\n            this.starving = 0;\n        }\n        game.farms.food -= this.foodEaten;\n        this.popGrowth = (game.farms.food - this.people) / 1000 - this.starving / 100;\n        this.people += this.popGrowth;\n        this.updateHappiness();\n        this.tickRatio();\n    }\n\n    updateHappiness() {\n        if (!game) return;\n        this.happinessFromTrees = Math.log10((game.trees.trees + 1)) / 10;\n        this.happinessFromOxygen = Math.log10((game.oxygen + 1)) / 20;\n        this.happiness = this.houseBonus * (1 + this.happinessFromTrees + this.happinessFromOxygen);\n    }\n\n    tickRatio() {\n        if (!game) return;\n        this.scienceDelta = this.people / 100 * (100 - this.scienceRatio) / 100 * this.happiness;\n        this.cashDelta = this.people / 100 * this.scienceRatio / 100 * this.happiness;\n        game.science += this.scienceDelta;\n        game.cash += this.cashDelta;\n    }\n\n    improveHouse() {\n        this.houseBonus += .1;\n    }\n}\n",
    "import { game } from '../main';\nimport { precision2, precision3 } from '../utils/utils';\n\nexport class Process {\n    text: string;\n    tooltip: string;\n    currentTicks: number = 0;\n    ticksNeeded: number;\n    threads: number;\n    cost: number;\n    costType: string;\n    completions: number = 0;\n    isMoving: boolean = false;\n    finish: (this: Process) => void;\n    showing: (this: Process) => boolean;\n    done?: (this: Process) => boolean;\n\n    constructor(A: Partial<Process>) {\n        this.text = A.text || \"\";\n        this.tooltip = A.tooltip || \"\";\n        this.currentTicks = A.currentTicks || 0;\n        this.ticksNeeded = A.ticksNeeded || 0;\n        this.threads = A.threads || 0;\n        this.cost = A.cost || 0;\n        this.costType = A.costType || \"\";\n        this.finish = A.finish || (() => { });\n        this.showing = A.showing || (() => true);\n        this.done = A.done;\n    }\n}\n\nexport default class Computer {\n    unlocked: number;\n    threads: number;\n    freeThreads: number;\n    speed: number;\n    processes: Process[];\n\n    constructor() {\n        this.unlocked = 0;\n        this.threads = 1;\n        this.freeThreads = 1;\n        this.speed = 1;\n\n        this.processes = [\n            new Process({\n                // Optimize Land\n                text: \"Optimize Land\",\n                tooltip: \"Improve 1% of unimproved land.<br>Max to improve to is ( 10 x base land )<br>Percent Optimized: <div id='landOptimized'></div>\",\n                ticksNeeded: 600,\n                finish: function () {\n                    if (game) game.land.improveLand();\n                    if (game) this.ticksNeeded = Math.floor(game.land.baseLand);\n                    game?.events.emit('computer:updated');\n                },\n            }),\n            new Process({\n                // Buy Ice\n                text: \"Buy Ice\",\n                tooltip: \"Buy available ice\",\n                ticksNeeded: 50,\n                finish: function () {\n                    if (game) game.buyIce();\n                },\n            }),\n            new Process({\n                // Sell Water\n                text: \"Sell Water\",\n                tooltip: \"Sells up to 50 water\",\n                ticksNeeded: 50,\n                finish: function () {\n                    if (game) game.water.sellWater(50);\n                },\n            }),\n            new Process({\n                // Improve Farms\n                text: \"Improve Farms\",\n                tooltip: \"Farm efficiency increases by 2%\",\n                ticksNeeded: 40,\n                finish: function () {\n                    if (game) game.farms.improve();\n                    this.ticksNeeded = precision3(\n                        20 * (this.completions + 2) + Math.pow(this.completions, 2) / 10,\n                    );\n                },\n            }),\n            new Process({\n                // Find more Ice Sellers\n                text: \"Find more Ice Sellers\",\n                tooltip: \"Gain 200 buyable ice and 1 more per tick\",\n                ticksNeeded: 2000,\n                cost: 0.5,\n                costType: \"cash\",\n                finish: function () {\n                    if (game) game.ice.findIceSeller(1);\n                },\n            }),\n            new Process({\n                // Bigger Storms\n                text: \"Bigger Storms\",\n                tooltip: \"Storms last 5 more ticks. Max 300 duration.\",\n                ticksNeeded: 600,\n                cost: 2,\n                costType: \"science\",\n                finish: function () {\n                    if (game) game.clouds.gainStormDuration(5);\n                    this.cost += 0.5;\n                    this.ticksNeeded += 50;\n                },\n                done: function () {\n                    return game ? game.clouds.initialStormDuration >= 300 : false;\n                },\n                showing: function () {\n                    return !this.done?.();\n                },\n            }),\n            new Process({\n                // Build Robots\n                text: \"Build Robots\",\n                tooltip: \"Builds a robot\",\n                ticksNeeded: 10000,\n                cost: 0.01,\n                costType: \"metal\",\n                finish: function () {\n                    if (game) game.robots.gainRobots(1);\n                },\n                showing: function () {\n                    return game ? game.robots.unlocked !== 0 : false;\n                },\n                done: function () {\n                    return game ? game.robots.robots >= game.robots.robotMax : false;\n                },\n            }),\n            new Process({\n                // More Robot Storage\n                text: \"More Robot Storage\",\n                tooltip: \"Can hold 5 more robots\",\n                ticksNeeded: 20000,\n                cost: 0.5,\n                costType: \"wood\",\n                finish: function () {\n                    if (game) game.robots.gainStorage(5);\n                    this.ticksNeeded += 2000;\n                },\n                showing: function () {\n                    return game ? game.robots.unlocked !== 0 : false;\n                },\n            }),\n            new Process({\n                // Improve House Design\n                text: \"Improve House Design\",\n                tooltip: \"Improves base happiness modifier by .1\",\n                ticksNeeded: 3000,\n                cost: 10,\n                costType: \"science\",\n                finish: function () {\n                    if (game) game.population.improveHouse();\n                    this.ticksNeeded += 500;\n                },\n                showing: function () {\n                    return game ? game.robots.unlocked !== 0 : false;\n                },\n            }),\n        ];\n    }\n\n    tick() {\n        for (let i = 0; i < this.processes.length; i++) {\n            const process = this.processes[i]!;\n            this.tickRow(process, this.speed * process.threads);\n        }\n    }\n\n    tickRow(row: Process, ticksGained: number) {\n        if (ticksGained === 0) {\n            row.isMoving = false;\n            return;\n        }\n\n        if (row.done && row.done()) {\n            row.isMoving = false;\n            if (row.threads > 0) {\n                this.freeThreads += row.threads;\n                row.threads = 0;\n            }\n            return;\n        }\n        row.isMoving = true;\n        const cost = ticksGained * row.cost;\n        if (row.costType) {\n            if (game && (game as any)[row.costType] < cost) {\n                row.isMoving = false;\n                return;\n            }\n            if (game) (game as any)[row.costType] -= cost;\n        }\n        row.currentTicks += ticksGained;\n        while (row.currentTicks >= row.ticksNeeded) {\n            const overflow = row.currentTicks - row.ticksNeeded;\n            row.currentTicks = 0;\n            row.completions++;\n            row.finish();\n            row.currentTicks = overflow; // Set currentTicks to the overflow for the next iteration\n        }\n    }\n\n    unlockComputer() {\n        if (!game) return;\n        if (game.science >= 1000) {\n            game.science -= 1000;\n            this.unlocked = 1;\n            game.events.emit('computer:unlocked');\n        }\n    }\n\n    buyThread() {\n        if (!game) return;\n        const threadCost = this.getThreadCost();\n        if (game.cash >= threadCost) {\n            game.cash -= threadCost;\n            this.threads++;\n            this.freeThreads++;\n            game.events.emit('computer:updated');\n        }\n    }\n\n    getThreadCost() {\n        return precision2(Math.pow(2, this.threads) * 500);\n    }\n\n    buySpeed() {\n        if (!game) return;\n        const speedCost = this.getSpeedCost();\n        if (game.science >= speedCost) {\n            game.science -= speedCost;\n            this.speed++;\n            game.events.emit('computer:updated');\n        }\n    }\n\n    getSpeedCost() {\n        return precision2(Math.pow(2, this.speed) * 500);\n    }\n\n    addThread(dataPos: number, numAdding: number) {\n        numAdding = Math.min(numAdding, this.freeThreads);\n        const proc = this.processes[dataPos];\n        if (proc) {\n            proc.threads += numAdding;\n            this.freeThreads -= numAdding;\n            game?.events.emit('computer:updated');\n        }\n    }\n\n    removeThread(dataPos: number, numRemoving: number) {\n        const proc = this.processes[dataPos];\n        if (proc) {\n            numRemoving = Math.min(numRemoving, proc.threads);\n            proc.threads -= numRemoving;\n            this.freeThreads += numRemoving;\n            game?.events.emit('computer:updated');\n        }\n    }\n}\n",
    "import { game } from '../main';\n\nexport class Job {\n    text: string;\n    tooltip: string;\n    workers: number;\n    currentTicks: number = 0;\n    ticksNeeded: number = 0;\n    cost?: number[];\n    costType?: string[];\n    isMoving: boolean = false;\n    completions: number = 0;\n    finish: (this: Job) => void;\n    showing: (this: Job) => boolean;\n    done?: (this: Job) => boolean;\n    during?: (this: Job) => boolean;\n\n    constructor(A: Partial<Job>) {\n        this.text = A.text || \"\";\n        this.tooltip = A.tooltip || \"\";\n        this.workers = A.workers || 0;\n        this.ticksNeeded = A.ticksNeeded || 0;\n        this.cost = A.cost;\n        this.costType = A.costType;\n        this.finish = A.finish || (() => { });\n        this.showing = A.showing || (() => true);\n        this.done = A.done;\n        this.during = A.during;\n    }\n}\n\nexport default class Robots {\n    robots: number;\n    robotsFree: number;\n    robotMax: number;\n    unlocked: number;\n    ore: number;\n    mines: number;\n    jobs: Job[];\n\n    constructor() {\n        this.robots = 0;\n        this.robotsFree = 0;\n        this.robotMax = 5;\n        this.unlocked = 0;\n        this.ore = 0;\n        this.mines = 0;\n\n        this.jobs = [\n            new Job({ // Cut Trees\n                text: \"Cut Trees\",\n                tooltip: \"Cut down 2 trees for 1 wood\",\n                finish: function () { if (game) game.robots.cutTrees(this.workers); }\n            }),\n            new Job({ // Expand indoor water storage\n                text: \"Expand indoor water storage\",\n                tooltip: \"Gives 50 more max indoor water.<br>Cost increases by 1\",\n                ticksNeeded: 3000,\n                cost: [.1],\n                costType: [\"metal\"],\n                finish: function () {\n                    this.ticksNeeded += 1000;\n                    if (game) game.water.maxIndoor += 50;\n                }\n            }),\n            new Job({ // Build Mines\n                text: \"Build Mines\",\n                tooltip: \"Build up to (total land / 1000) mines\",\n                ticksNeeded: 300,\n                cost: [1],\n                costType: [\"wood\"],\n                finish: function () {\n                    if (game) game.robots.mines++;\n                    this.ticksNeeded += 100;\n                },\n                done: function () {\n                    return game ? game.robots.mines * 1000 >= game.land.optimizedLand : false;\n                }\n            }),\n            new Job({ // Mine Ore\n                text: \"Mine Ore\",\n                tooltip: \"Get (mines / 100) ore per tick\",\n                finish: function () { if (game) game.robots.mineOre(this.workers); }\n            }),\n            new Job({ // Smelt Ore\n                text: \"Smelt Ore\",\n                tooltip: \"Each tick costs 5 wood, 1 ore, and 1000 oxygen<br>Gain 1 metal\",\n                finish: function () { if (game) game.robots.smeltOre(this.workers); }\n            }),\n            new Job({ // Turn ore into dirt\n                text: \"Turn ore into dirt\",\n                tooltip: \"Each tick costs 1 energy and 1000 ore<br>Gain 5 Base Land<br>Total land gained: <span id='totalDirtFromOre'></span>\",\n                ticksNeeded: 1000,\n                during: function () {\n                    if (game && game.power >= 1 * this.workers && game.robots.ore >= this.workers * 1000) {\n                        game.power -= 1 * this.workers;\n                        game.robots.ore -= this.workers * 1000;\n                        return true;\n                    }\n                    return false;\n                },\n                finish: function () { if (game) game.land.addLand(50); },\n                showing: function () { return game ? game.energy.unlocked !== 0 : false; }\n            })\n        ];\n    }\n\n    tick() {\n        for (let i = 0; i < this.jobs.length; i++) {\n            this.tickRow(this.jobs[i]!, this.jobs[i]!.workers);\n        }\n    }\n\n    tickRow(row: Job, ticksGained: number) {\n        if (ticksGained === 0 || (row.done && row.done())) {\n            row.isMoving = false;\n            return;\n        }\n        if (row.ticksNeeded === 0) { // No progress bar\n            row.finish();\n            return;\n        }\n        if (row.during && !row.during()) {\n            row.isMoving = false;\n            return;\n        }\n        if (row.cost && row.costType) {\n            for (let i = 0; i < row.cost.length; i++) {\n                const cost = ticksGained * row.cost[i]!;\n                const costType = row.costType[i];\n                if (costType) {\n                    if (game && (game as any)[costType] < cost) {\n                        row.isMoving = false;\n                        return;\n                    }\n                }\n            }\n            for (let i = 0; i < row.cost.length; i++) {\n                const costType = row.costType[i]!;\n                if (game) (game as any)[costType] -= ticksGained * row.cost[i]!;\n            }\n        }\n\n\n        row.currentTicks += ticksGained;\n        row.isMoving = true;\n        if (row.currentTicks >= row.ticksNeeded) {\n            const overflow = row.currentTicks - row.ticksNeeded;\n            row.currentTicks = 0;\n            row.completions++;\n            row.finish();\n            game?.events.emit('robots:updated');\n            this.tickRow(row, overflow); // recursive, but on the new cost\n        }\n    }\n\n    gainRobots(amount: number) {\n        this.robots += amount;\n        this.robotsFree += amount;\n        game?.events.emit('robots:updated');\n    }\n\n    gainStorage(amount: number) {\n        this.robotMax += amount;\n        game?.events.emit('robots:updated');\n    }\n\n    unlockRobots() {\n        if (!game) return;\n        if (game.cash >= 3000) {\n            game.cash -= 3000;\n            this.unlocked = 1;\n            game.events.emit('robots:unlocked');\n            this.gainRobots(1);\n        }\n        game.events.emit('robots:updated');\n    }\n\n    addWorker(dataPos: number, numAdding: number) {\n        const job = this.jobs[dataPos];\n        if (job) {\n            numAdding = Math.min(numAdding, this.robotsFree);\n            job.workers += numAdding;\n            this.robotsFree -= numAdding;\n        }\n        game?.events.emit('robots:updated');\n    }\n\n    removeWorker(dataPos: number, numRemoving: number) {\n        const job = this.jobs[dataPos];\n        if (job) {\n            numRemoving = Math.min(numRemoving, job.workers);\n            job.workers -= numRemoving;\n            this.robotsFree += numRemoving;\n        }\n        game?.events.emit('robots:updated');\n    }\n\n    cutTrees(mult: number) {\n        if (game && game.trees.trees >= 2 * mult) {\n            game.trees.trees -= 2 * mult;\n            game.wood += mult;\n        }\n    }\n\n    mineOre(mult: number) {\n        if (game) game.robots.ore += game.robots.mines / 100 * mult;\n    }\n\n    smeltOre(mult: number) {\n        if (game && game.wood >= 5 * mult && this.ore >= mult && game.oxygen >= mult * 1000) {\n            game.wood -= 5 * mult;\n            this.ore -= mult;\n            game.oxygen -= 1000 * mult;\n            game.metal += mult;\n        }\n    }\n}\n",
    "import { game } from '../main';\n\nexport default class Energy {\n    unlocked: number;\n    battery: number;\n    drain: number = 0;\n\n    constructor() {\n        this.unlocked = 0;\n        this.battery = 100;\n    }\n\n    unlockEnergy() {\n        if (game && game.metal >= 500) {\n            game.metal -= 500;\n            this.unlocked = 1;\n            game.events.emit('energy:unlocked');\n        }\n        game?.events.emit('energy:updated');\n    }\n\n    tick() {\n        if (!game) return;\n        const excess = game.power - this.battery;\n        this.drain = 0;\n        if (excess > 0) {\n            this.drain = excess / 500;\n            game.power -= this.drain;\n        }\n    }\n\n    gainEnergy(amount: number) {\n        if (game) game.power += amount;\n    }\n\n    buyBattery(amount: number) {\n        this.battery += amount;\n        game?.events.emit('energy:updated');\n    }\n}",
    "import { game } from '../main';\nimport { OrbitingResource } from '../types';\n\nexport default class SpaceStation {\n    unlocked: number;\n    orbiting: OrbitingResource[];\n\n    constructor() {\n        this.unlocked = 0;\n        this.orbiting = [\n            {\n                type: \"ice\",\n                amount: 1e6\n            },\n            {\n                type: \"dirt\",\n                amount: 500\n            }\n        ];\n    }\n\n    unlockSpaceStation() {\n        if (game && game.metal >= 2000 && game.wood >= 20000) {\n            game.metal -= 2000;\n            game.wood -= 20000;\n            this.unlocked = 1;\n            game.events.emit('spaceStation:unlocked');\n        }\n        game?.events.emit('spaceStation:updated');\n    }\n\n    tick() {\n        if (!this.unlocked || !game) {\n            return;\n        }\n        for (let i = 0; i < this.orbiting.length; i++) {\n            const resource = this.orbiting[i]!;\n            const take = resource.amount / 100000;\n            resource.amount -= take;\n            const type = resource.type;\n            if (type === \"ice\") {\n                game.ice.ice += take;\n            } else if (type === \"dirt\") {\n                game.land.addLand(take);\n            }\n        }\n    }\n}\n",
    "import { game, incrementCometId } from '../main';\nimport { intToString } from '../utils/utils';\nimport { Comet } from '../types';\n\nexport default class TractorBeam {\n    unlocked: number;\n    cometSpotChance: number;\n    takeAmount: string;\n    comets: Comet[];\n\n    constructor() {\n        this.unlocked = 0;\n        this.cometSpotChance = 0.006;\n        this.takeAmount = \"\";\n        this.comets = [];\n    }\n\n    tick() {\n        if (!this.unlocked || !game) {\n            return;\n        }\n        this.checkForNewAsteroids();\n\n        if (this.comets.length) {\n            const transferred = game.power / 1000;\n            game.power -= this.pullIntoOrbit(transferred);\n            this.removeAsteroidIfDone();\n        }\n    }\n\n    unlockTractorBeam() {\n        if (!game) return;\n        if (game.science >= 5e5 && game.oxygen >= 5e6) {\n            game.science -= 5e5;\n            game.oxygen -= 2e6;\n            this.unlocked = 1;\n            game.events.emit('tractorBeam:unlocked');\n            game.spaceDock.unlocked = 1;\n            game.events.emit('spaceDock:unlocked');\n        }\n        game.events.emit('tractorBeam:updated');\n    }\n\n    pullIntoOrbit(energy: number): number {\n        if (!game) return 0;\n        const maxtaken = energy / this.comets.length;\n        let used = 0;\n        this.takeAmount = \"\";\n        for (let j = 0; j < game.spaceStation.orbiting.length; j++) {\n            const orbiting = game.spaceStation.orbiting[j]!;\n            let totalAmount = 0;\n            for (let i = 0; i < this.comets.length; i++) {\n                const comet = this.comets[i]!;\n                if (comet.amountType === orbiting.type) {\n                    const taken = Math.min(maxtaken, comet.amount);\n                    used += taken;\n                    comet.amount -= taken;\n                    totalAmount += taken;\n                }\n            }\n            orbiting.amount += totalAmount;\n            this.takeAmount += intToString(totalAmount, 3) + \" \" + orbiting.type;\n            if (j < game.spaceStation.orbiting.length - 1) {\n                this.takeAmount += \", \"\n            }\n        }\n        return used;\n    }\n\n    checkForNewAsteroids() {\n        const discoverChance = Math.random();\n        if (discoverChance < this.cometSpotChance) {\n            this.addComet();\n        }\n    }\n\n    removeAsteroidIfDone() {\n        const length = this.comets.length - 1;\n        for (let i = length; i >= 0; i--) {\n            const comet = this.comets[i]!;\n            comet.duration--;\n            if (comet.duration < 0 || comet.amount < 1) {\n                if (comet.drawed)\n                    game?.events.emit('tractorBeam:removeComet', comet);\n                this.comets.splice(i, 1);\n            }\n        }\n    }\n\n    addComet() {\n        if (!game || this.comets.length > 20) {\n            return;\n        }\n        const typeRoll = Math.random();\n        const amountRoll = Math.random() * 100 * game.space.sector + 200;\n        const durationRoll = Math.floor(Math.random() * 750 + 250);\n        const speedRoll = Math.random() * 2 + 1;\n        let comet: Partial<Comet> = {};\n\n        if (typeRoll < .9) {\n            comet = {\n                name: \"Comet\",\n                amountType: \"ice\",\n                amount: amountRoll * 1000,\n                initialAmount: amountRoll * 1000,\n                duration: durationRoll,\n                initialDuration: durationRoll,\n                speed: speedRoll,\n            };\n        } else {\n            comet = {\n                name: \"Asteroid\",\n                amountType: \"dirt\",\n                amount: amountRoll,\n                initialAmount: amountRoll,\n                duration: durationRoll * 2,\n                initialDuration: durationRoll * 2,\n                speed: speedRoll / 2,\n            };\n        }\n        comet.id = incrementCometId();\n        comet.drawed = false;\n\n        this.comets.push(comet as Comet);\n    }\n}",
    "import { game } from '../main';\n\nexport default class SpaceDock {\n    battleships: number;\n    unlocked: number;\n    sended: number;\n\n    constructor() {\n        this.battleships = 0;\n        this.unlocked = 0;\n        this.sended = 0;\n    }\n\n    addBattleship(amount: number) {\n        this.battleships += amount;\n        game?.events.emit('spaceDock:updated');\n    }\n}",
    "export default class Ship {\n    count: number;\n    food: number;\n    actionCounter: number;\n    energy: number;\n    x: number;\n    y: number;\n    engaged: boolean;\n    direction: number;\n    targetIndex: number; // -1 for home, 0+ for planets\n\n    constructor(count: number, food: number, foodPerShip: number) {\n        this.count = count;\n        this.food = food / foodPerShip;\n        this.actionCounter = 0;\n        this.energy = 0;\n        this.x = 0;\n        this.y = 0;\n        this.engaged = false;\n        this.direction = 0;\n        this.targetIndex = -1;\n    }\n}\n",
    "import { game } from '../main';\nimport Ship from './Ship';\nimport ShipManager from './ShipManager';\n\nexport default class Hangar {\n    sendRate: number;\n    timeRemaining: number;\n    totalTime: number;\n    y: number;\n\n    constructor() {\n        this.sendRate = 1;\n        this.timeRemaining = this.totalTime = 40;\n        this.y = (game?.canvasHeight || 600) * 0.5 - 25;\n    }\n\n    tick() {\n        if (!game) return;\n        this.y = game.canvasHeight * 0.5 - 25;\n        this.timeRemaining--;\n        if (this.timeRemaining < 0) {\n            if (game.spaceDock.battleships > 0) {\n                const tosend = Math.min(this.sendRate, game.spaceDock.battleships);\n                const foodTaken = game.farms.food * .05; // Take 5% food per launch\n                game.farms.food -= foodTaken;\n                const newShip = new Ship(tosend, foodTaken, ShipManager.foodPerShip);\n                newShip.targetIndex = ShipManager.globalTargetIndex;\n                game.space.spawnShip(newShip, this.y);\n                game.spaceDock.battleships -= tosend;\n                game.spaceDock.sended += tosend;\n                game.events.emit('spaceDock:updated');\n                this.timeRemaining = this.totalTime;\n            } else {\n                this.timeRemaining = 0;\n            }\n        }\n    }\n\n    getTarget() {\n        return {\n            isHome: true as const,\n            x: -125,\n            y: this.y,\n        }\n    }\n}",
    "export default class ProgressBar {\n    aProgress: HTMLCanvasElement | null;\n    color: string;\n    private lastPercentage: number = -1;\n\n    constructor(id: string, color: string) {\n        this.aProgress = document.getElementById(id) as HTMLCanvasElement;\n        this.color = color;\n    }\n\n    tick(ticks: number, ticksNeeded: number) {\n        if (!this.aProgress || ticksNeeded <= 0) return;\n        const percentage = (ticks / ticksNeeded);\n        if (Math.abs(this.lastPercentage - percentage) < 0.001) return;\n        this.lastPercentage = percentage;\n        \n        this.reset(this.aProgress);\n        this.drawProgress(this.aProgress, percentage, this.color);\n    }\n\n    reset(bar: HTMLCanvasElement) {\n        if (!bar) return;\n        const barCTX = bar.getContext(\"2d\");\n        if (!barCTX) return;\n        barCTX.lineCap = 'square';\n\n        const center = bar.width / 2;\n        const radius = (bar.width / 2) - 5;\n\n        barCTX.beginPath();\n        barCTX.lineWidth = 8;\n        barCTX.fillStyle = '#1e1e1e'; // Matches --card-bg\n        barCTX.arc(center, center, radius, 0, 2 * Math.PI);\n        barCTX.fill();\n    }\n\n    drawProgress(bar: HTMLCanvasElement, percentage: number, color: string) {\n        if (!bar) return;\n        const barCTX = bar.getContext(\"2d\");\n        if (!barCTX) return;\n        const quarterTurn = Math.PI / 2;\n        const endingAngle = ((2 * percentage * .95) * Math.PI) - quarterTurn * .9; //.985 because lineWidth\n        const startingAngle = 0 - quarterTurn * .9;\n\n        const center = bar.width / 2;\n        const radius = (bar.width / 2) - 10;\n\n        barCTX.lineCap = 'square';\n\n        barCTX.beginPath();\n        barCTX.lineWidth = 8;\n        barCTX.strokeStyle = color;\n        barCTX.arc(center, center, radius, startingAngle, endingAngle);\n        barCTX.stroke();\n    }\n}\n",
    "export default abstract class BaseView {\n    protected textCache: Map<string, string> = new Map();\n    protected elementCache: Map<string, HTMLElement> = new Map();\n\n    public clearCache() {\n        this.textCache.clear();\n        this.elementCache.clear();\n    }\n\n    protected getElement(id: string): HTMLElement {\n        let el: HTMLElement | undefined = this.elementCache.get(id);\n        if (!el) {\n            const domEl = document.getElementById(id);\n            if (!domEl) throw new Error(`Element ${id} not found`);\n            el = domEl;\n            this.elementCache.set(id, el);\n        }\n        return el;\n    }\n\n    protected updateElementText(id: string, value: string) {\n        if (this.textCache.get(id) === value) return;\n\n        this.getElement(id).textContent = value;\n        this.textCache.set(id, value);\n    }\n\n    protected setVisible(id: string, visible: boolean) {\n        const el = this.getElement(id);\n        if (visible) {\n            el.classList.remove('hidden');\n        } else {\n            el.classList.add('hidden');\n        }\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, getClickAmount, round2 } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class ComputerView extends BaseView {\n    private hoveredIndex: number | null = null;\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('computer:unlocked', () => this.checkUnlocked());\n            game.events.on('computer:updated', () => this.update());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.computer.unlocked) {\n            this.setVisible('unlockedComputer', true);\n            this.setVisible('unlockComputer', false);\n            this.setVisible('robotsContainer', true);\n            this.update();\n        } else {\n            this.setVisible('unlockedComputer', false);\n            this.setVisible('unlockComputer', true);\n            this.setVisible('robotsContainer', false);\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText('freeThreads', String(game.computer.freeThreads));\n        this.updateElementText('threads', String(game.computer.threads));\n        this.updateElementText('speed', String(game.computer.speed));\n        this.updateElementText('threadCost', intToString(game.computer.getThreadCost()));\n        this.updateElementText('speedCost', intToString(game.computer.getSpeedCost()));\n        this.updateElementText('landOptimized', round2((game.land.optimizedLand / (game.land.baseLand * 10)) * 100) + \"%\");\n        for (let i = 0; i < game.computer.processes.length; i++) {\n            const row = game.computer.processes[i];\n            if (!row) continue;\n            this.updateElementText('computerRow' + i + 'Threads', String(row.threads));\n            this.setVisible('computerRow' + i + 'Container', row.showing());\n        }\n    }\n\n    updateRowProgress(i: number) {\n        if (!game || !game.computer.unlocked) {\n            return;\n        }\n        const row = game.computer.processes[i];\n        if (!row || !row.showing()) return;\n\n        const baseId = \"computerRow\" + i;\n        const pb = this.getElement(baseId + \"PB\");\n        pb.style.width = (row.currentTicks / row.ticksNeeded) * 100 + \"%\";\n        pb.style.backgroundColor = row.isMoving ? \"yellow\" : \"red\";\n\n        // Only update tooltip text if it's actually visible (hovered)\n        if (this.hoveredIndex === i) {\n            this.updateElementText(baseId + \"CurrentTicks\", intToString(row.currentTicks));\n            this.updateElementText(baseId + \"TicksNeeded\", intToString(row.ticksNeeded));\n            const costContainer = this.getElement(baseId + \"CostContainer\");\n            if (row.cost !== 0) {\n                costContainer.classList.remove(\"hidden\");\n                this.updateElementText(baseId + \"Cost\", intToString(row.cost));\n                this.updateElementText(baseId + \"CostType\", row.costType);\n            } else {\n                costContainer.classList.add(\"hidden\");\n            }\n        }\n    }\n\n    addComputerRow(dataPos: number) {\n        const containerDiv = this.getElement('computerRows');\n        const rowContainer = document.createElement(\"div\");\n        rowContainer.className = \"computerRow\";\n        const baseId = \"computerRow\" + dataPos;\n        rowContainer.id = baseId + 'Container';\n\n        rowContainer.addEventListener('mouseenter', () => {\n            this.hoveredIndex = dataPos;\n            this.updateRowProgress(dataPos);\n        });\n        rowContainer.addEventListener('mouseleave', () => this.hoveredIndex = null);\n\n        const plusButton = document.createElement(\"div\");\n        plusButton.id = baseId + \"Plus\";\n        plusButton.className = \"button\";\n        plusButton.innerHTML = \"+\";\n        plusButton.addEventListener('click', (event) => game?.computer.addThread(dataPos, getClickAmount(event)));\n\n        const minusButton = document.createElement(\"div\");\n        minusButton.id = baseId + \"Minus\";\n        minusButton.className = \"button\";\n        minusButton.innerHTML = \"-\";\n        minusButton.addEventListener('click', (event) => game?.computer.removeThread(dataPos, getClickAmount(event)));\n\n        const threads = document.createElement(\"div\");\n        threads.id = baseId + \"Threads\";\n        threads.className = \"small\";\n        threads.style.marginRight = \"4px\";\n\n        const processName = game?.computer.processes[dataPos]?.text || \"\";\n        const text = document.createElement(\"div\");\n        text.innerHTML = processName;\n\n        const progressBar = document.createElement(\"div\");\n        progressBar.className = \"rowProgressBarOuter\";\n        progressBar.innerHTML = \"<div class='rowProgressBarInner' id='\" + baseId + \"PB'></div>\";\n\n        const tooltipContainer = document.createElement(\"div\");\n        tooltipContainer.className = \"computerTooltipContainer\";\n        tooltipContainer.id = baseId + \"Tooltip\";\n\n        const tooltipInner = document.createElement(\"div\");\n        tooltipInner.className = \"rowTooltip\";\n        \n        const description = game?.computer.processes[dataPos]?.tooltip || \"\";\n        \n        tooltipInner.innerHTML = `\n            <div class=\"tooltipDescription\">${description}</div>\n            <div class=\"tooltipDivider\"></div>\n            <div class=\"tooltipStats\">\n                <div><b>Progress:</b> <span id=\"${baseId}CurrentTicks\"></span> / <span id=\"${baseId}TicksNeeded\"></span> ticks</div>\n                <div id=\"${baseId}CostContainer\" class=\"hidden\"><b>Cost:</b> <span id=\"${baseId}Cost\"></span> <span id=\"${baseId}CostType\"></span> per tick</div>\n            </div>\n        `;\n\n        tooltipContainer.appendChild(tooltipInner);\n\n        rowContainer.appendChild(plusButton);\n        rowContainer.appendChild(threads);\n        rowContainer.appendChild(minusButton);\n        \n        const label = document.createElement(\"div\");\n        label.className = \"rowLabel\";\n        label.appendChild(text);\n        rowContainer.appendChild(label);\n        \n        rowContainer.appendChild(progressBar);\n        rowContainer.appendChild(tooltipContainer);\n\n        containerDiv.appendChild(rowContainer);\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, getClickAmount } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class RobotsView extends BaseView {\n    private hoveredIndex: number | null = null;\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('robots:unlocked', () => {\n                this.checkUnlocked();\n                this.updateFull();\n            });\n            game.events.on('robots:updated', () => this.updateFull());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.robots.unlocked) {\n            this.setVisible('unlockedRobots', true);\n            this.setVisible('unlockRobots', false);\n            this.setVisible('lightningContainer', true);\n            this.setVisible('lightningTooltip', true);\n            this.setVisible('energyContainer', true);\n            this.setVisible('woodContainer', true);\n            this.setVisible('metalContainer', true);\n            this.updateFull();\n        } else {\n            this.setVisible('unlockedRobots', false);\n            this.setVisible('unlockRobots', true);\n            this.setVisible('lightningContainer', false);\n            this.setVisible('lightningTooltip', false);\n            this.setVisible('energyContainer', false);\n            this.setVisible('woodContainer', false);\n            this.setVisible('metalContainer', false);\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText('ore', intToString(game.robots.ore));\n    }\n\n    updateFull() {\n        if (!game) return;\n        this.updateElementText('robots', String(game.robots.robots));\n        this.updateElementText('robotsFree', String(game.robots.robotsFree));\n        this.updateElementText('robotMax', String(game.robots.robotMax));\n        if (game.robots.jobs[5]) {\n            this.updateElementText('totalDirtFromOre', intToString(game.robots.jobs[5].completions * 5));\n        }\n        for (let i = 0; i < game.robots.jobs.length; i++) {\n            const row = game.robots.jobs[i];\n            if (!row) continue;\n            this.updateElementText('robotRow' + i + 'Workers', String(row.workers));\n            this.setVisible('robotRow' + i + 'Container', row.showing());\n        }\n        this.update();\n    }\n\n    updateRowProgress(i: number) {\n        if (!game) return;\n        const row = game.robots.jobs[i];\n        if (!row || !row.showing() || row.ticksNeeded === 0) {\n            return;\n        }\n        \n        const baseId = \"robotRow\" + i;\n        const pb = this.getElement(baseId + \"PB\");\n        pb.style.width = (row.currentTicks / row.ticksNeeded) * 100 + \"%\";\n        pb.style.backgroundColor = row.isMoving ? \"yellow\" : \"red\";\n\n        // Only update tooltip text if it's actually visible (hovered)\n        if (this.hoveredIndex === i) {\n            this.updateElementText(baseId + \"CurrentTicks\", intToString(row.currentTicks));\n            this.updateElementText(baseId + \"TicksNeeded\", intToString(row.ticksNeeded));\n            const costContainer = this.getElement(baseId + \"CostContainer\");\n            if (row.cost && row.costType) {\n                costContainer.classList.remove(\"hidden\");\n                let costString = intToString(row.cost[0] || 0) + \" \" + (row.costType[0] || \"\");\n                costString += row.cost.length > 1 ? \" and \" + intToString(row.cost[1] || 0) + \" \" + (row.costType[1] || \"\") : \"\";\n                this.updateElementText(baseId + \"Cost\", costString);\n            } else {\n                costContainer.classList.add(\"hidden\");\n            }\n        }\n    }\n\n    addRobotRow(dataPos: number) {\n        const containerDiv = this.getElement('robotRows');\n        const rowContainer = document.createElement(\"div\");\n        rowContainer.className = \"robotRow\";\n        const baseId = \"robotRow\" + dataPos;\n        rowContainer.id = baseId + 'Container';\n\n        rowContainer.addEventListener('mouseenter', () => {\n            this.hoveredIndex = dataPos;\n            this.updateRowProgress(dataPos);\n        });\n        rowContainer.addEventListener('mouseleave', () => this.hoveredIndex = null);\n\n        const plusButton = document.createElement(\"div\");\n        plusButton.id = baseId + \"Plus\";\n        plusButton.className = \"button\";\n        plusButton.innerHTML = \"+\";\n        plusButton.addEventListener('click', (event) => game?.robots.addWorker(dataPos, getClickAmount(event)));\n\n        const minusButton = document.createElement(\"div\");\n        minusButton.id = baseId + \"Minus\";\n        minusButton.className = \"button\";\n        minusButton.innerHTML = \"-\";\n        minusButton.addEventListener('click', (event) => game?.robots.removeWorker(dataPos, getClickAmount(event)));\n\n        const workers = document.createElement(\"div\");\n        workers.id = baseId + \"Workers\";\n        workers.className = \"small\";\n        workers.style.marginRight = \"4px\";\n\n        const jobName = game?.robots.jobs[dataPos]?.text || \"\";\n        const text = document.createElement(\"div\");\n        text.innerHTML = jobName;\n\n        const progressBar = document.createElement(\"div\");\n        if (game?.robots.jobs[dataPos]?.ticksNeeded) {\n            progressBar.className = \"rowProgressBarOuter\";\n            progressBar.innerHTML = \"<div class='rowProgressBarInner' id='\" + baseId + \"PB'></div>\";\n        }\n\n        const tooltipContainer = document.createElement(\"div\");\n        tooltipContainer.className = \"computerTooltipContainer\";\n        tooltipContainer.id = baseId + \"Tooltip\";\n\n        const tooltipInner = document.createElement(\"div\");\n        tooltipInner.className = \"rowTooltip\";\n\n        const description = game?.robots.jobs[dataPos]?.tooltip || \"\";\n        \n        let statsHtml = \"\";\n        if (game?.robots.jobs[dataPos]?.ticksNeeded) {\n            statsHtml = `\n                <div class=\"tooltipDivider\"></div>\n                <div class=\"tooltipStats\">\n                    <div><b>Progress:</b> <span id=\"${baseId}CurrentTicks\"></span> / <span id=\"${baseId}TicksNeeded\"></span> ticks</div>\n                    <div id=\"${baseId}CostContainer\" class=\"hidden\"><b>Cost:</b> <span id=\"${baseId}Cost\"></span> per tick</div>\n                </div>\n            `;\n        }\n\n        tooltipInner.innerHTML = `\n            <div class=\"tooltipDescription\">${description}</div>\n            ${statsHtml}\n        `;\n        \n        tooltipContainer.appendChild(tooltipInner);\n\n        rowContainer.appendChild(plusButton);\n        rowContainer.appendChild(workers);\n        rowContainer.appendChild(minusButton);\n        \n        const label = document.createElement(\"div\");\n        label.className = \"rowLabel\";\n        label.appendChild(text);\n        rowContainer.appendChild(label);\n        \n        if (progressBar.innerHTML) rowContainer.appendChild(progressBar);\n        rowContainer.appendChild(tooltipContainer);\n\n        containerDiv.appendChild(rowContainer);\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class ResourceView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('totalWater', intToString(game.ice.ice + game.water.indoor + game.water.outdoor + game.clouds.water + game.land.water + game.trees.water + game.farms.water));\n        this.updateElementText('cash', intToString(game.cash));\n        this.updateElementText('oxygen', intToString(game.oxygen));\n        this.updateElementText('science', intToString(game.science));\n        this.updateElementText('wood', intToString(game.wood));\n        this.updateElementText('metal', intToString(game.metal));\n        this.updateElementText('oxygenLeak', intToString(game.oxygenLeak, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class IceView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('ice', intToString(game.ice.ice));\n        this.updateElementText('buyableIce', intToString(game.ice.buyable));\n        this.updateElementText('iceTransferred', intToString(game.ice.transferred, 4));\n        this.updateElementText('indoorWaterReceived', intToString(game.ice.transferred, 4));\n        this.updateElementText('iceBuyerAmount', String(game.ice.gain));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class WaterView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('indoorWater', intToString(game.water.indoor));\n        this.updateElementText('indoorWaterMax', intToString(game.water.maxIndoor));\n        this.updateElementText('indoorWaterSelling', intToString(game.water.selling));\n        this.updateElementText('indoorWaterProfits', intToString(game.water.gain));\n        this.updateElementText('excessWater', intToString(game.water.excess, 4));\n        this.updateElementText('lakeWaterFromStorage', intToString(game.water.excess, 4));\n\n        this.updateElementText('outdoorWater', intToString(game.water.outdoor));\n        this.updateElementText('waterTransferred', intToString(game.water.transferred, 4));\n        this.updateElementText('cloudsReceived', intToString(game.water.transferred, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class CloudsView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('clouds', intToString(game.clouds.water));\n        this.updateElementText('stormTimer', String(game.clouds.stormTimer));\n        this.updateElementText('stormRate', game.clouds.stormRate + \"%\");\n        this.getElement('intensityPB').style.height = game.clouds.stormRate + \"%\";\n        this.updateElementText('stormDuration', String(game.clouds.stormDuration));\n        this.updateElementText('rain', intToString(game.clouds.transferred, 4));\n        this.updateElementText('landReceived', intToString(game.clouds.transferred, 4));\n        this.updateElementText('lightningChance', intToString(game.clouds.lightningChance) + \"%\");\n        this.getElement('lightningPB').style.height = game.clouds.lightningChance + \"%\";\n        this.updateElementText('lightningStrength', intToString(game.clouds.lightningStrength));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class LandView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('landWater', intToString(game.land.water));\n        this.updateElementText('optimizedLand', intToString(game.land.optimizedLand));\n        this.updateElementText('baseLand', intToString(game.land.baseLand));\n        this.updateElementText('land', intToString(game.land.land));\n        this.updateElementText('soil', intToString(game.land.soil));\n        this.updateElementText('landConverted', intToString(game.land.convertedLand, 4));\n        this.updateElementText('landWaterToForest', intToString(game.land.transferred, 4));\n        this.updateElementText('forestReceived', intToString(game.land.transferred, 4));\n        this.updateElementText('landWaterToFarm', intToString(game.land.transferred, 4));\n        this.updateElementText('farmReceived', intToString(game.land.transferred, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString, intToStringNegative } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class PopulationView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('population', intToString(game.population.people));\n        this.updateElementText('foodEaten', intToString(game.population.foodEaten, 4));\n        this.updateElementText('populationGrowth', intToStringNegative(game.population.popGrowth, 4));\n        this.updateElementText('starving', intToString(game.population.starving, 4));\n        this.updateElementText('scienceDelta', intToString(game.population.scienceDelta, 4));\n        this.updateElementText('cashDelta', intToString(game.population.cashDelta, 4));\n        this.updateElementText('scienceRatio', game.population.scienceRatio < 50 ? 100 - game.population.scienceRatio + \"% science\" : game.population.scienceRatio + \"% cash\");\n\n        this.updateElementText('happiness', intToString(game.population.happiness, 4));\n        this.updateElementText('happinessFromHouse', intToString(game.population.houseBonus));\n        this.updateElementText('happinessFromTrees', intToString(game.population.happinessFromTrees, 4));\n        this.updateElementText('happinessFromOxygen', intToString(game.population.happinessFromOxygen, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class TreesView extends BaseView {\n\n\n    update() {\n        if (!game) return;\n        this.updateElementText('forestWater', intToString(game.trees.water));\n        this.updateElementText('ferns', intToString(game.trees.ferns));\n        this.updateElementText('fernsDelta', intToString(game.trees.fernsDelta, 4));\n        this.updateElementText('smallTrees', intToString(game.trees.smallTrees));\n        this.updateElementText('smallTreesDelta', intToString(game.trees.smallTreesDelta, 4));\n        this.updateElementText('trees', intToString(game.trees.trees));\n        this.updateElementText('treesDelta', intToString(game.trees.treesDelta, 4));\n        this.updateElementText('totalPlants', intToString(game.trees.totalPlants));\n        this.updateElementText('oxygenGain', intToString(game.trees.oxygenGain, 4));\n        this.updateElementText('forestWaterToLake', intToString(game.trees.transferred, 4));\n        this.updateElementText('lakeWaterFromForest', intToString(game.trees.transferred, 4));\n        this.updateElementText('fernWater', intToString(game.trees.fernsWaterUse, 4));\n        this.updateElementText('smallTreesWater', intToString(game.trees.smallTreesWaterUse, 4));\n        this.updateElementText('treesWater', intToString(game.trees.treesWaterUse, 4));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class FarmsView extends BaseView {\n\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('farms:updated', () => this.updateFull());\n            const el = document.getElementById('buyFarmAmount');\n            if (el) el.addEventListener('input', () => this.updateFull());\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText('farmsWater', intToString(game.farms.water));\n        this.updateElementText('food', intToString(game.farms.food));\n        this.updateElementText('foodCreated', intToString(game.farms.foodCreated, 4));\n        this.updateElementText('farmFoodEaten', intToString(game.population.foodEaten, 4));\n        this.updateElementText('farmWaterToLake', intToString(game.farms.transferred, 4));\n        this.updateElementText('lakeWaterFromFarm', intToString(game.farms.transferred, 4));\n    }\n\n    updateFull() {\n        if (!game) return;\n        this.updateElementText('farms', intToString(game.farms.farms));\n        this.updateElementText('efficiency', intToString(game.farms.efficiency * 100));\n        const el = document.getElementById('buyFarmAmount') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('farmCost', intToString(amount * 50));\n        this.update();\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class EnergyView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('energy:unlocked', () => {\n                this.checkUnlocked();\n                this.updateFull();\n            });\n            game.events.on('energy:updated', () => this.updateFull());\n\n            const el = document.getElementById('buyBattery');\n            if (el) el.addEventListener('input', () => this.updateFull());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.energy.unlocked) {\n            this.setVisible('unlockedEnergy', true);\n            this.setVisible('unlockEnergy', false);\n            if (this.getElement('spaceStationContainer').classList.contains(\"hidden\")) {\n                this.getElement('spaceStationContainer').classList.remove(\"hidden\");\n            }\n            this.updateFull();\n        } else {\n            this.setVisible('unlockedEnergy', false);\n            this.setVisible('unlockEnergy', true);\n            if (!this.getElement('spaceStationContainer').classList.contains(\"hidden\")) {\n                this.getElement('spaceStationContainer').classList.add(\"hidden\");\n            }\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText('energy', intToString(game.power));\n        this.updateElementText('drain', intToString(game.energy.drain));\n    }\n\n    updateFull() {\n        if (!game) return;\n        this.updateElementText('battery', intToString(game.energy.battery));\n\n        const el = document.getElementById('buyBattery') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('batteryCost', intToString(amount * 3e4) + \" oxygen and \" + intToString(amount * 2e4) + \" science\");\n        this.update();\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class SpaceStationView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('spaceStation:unlocked', () => this.checkUnlocked());\n            game.events.on('spaceStation:updated', () => this.update());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.spaceStation.unlocked) {\n            this.setVisible('spaceStationContainer', true);\n            this.setVisible('unlockedSpaceStation', true);\n            this.setVisible('unlockSpaceStation', false);\n            this.setVisible('tractorBeamContainer', true);\n        } else {\n            this.setVisible('spaceStationContainer', false);\n            this.setVisible('unlockedSpaceStation', false);\n            this.setVisible('unlockSpaceStation', true);\n            this.setVisible('tractorBeamContainer', false);\n        }\n    }\n\n    update() {\n        if (!game) return;\n        let orbitString = \"\";\n        let orbitSendString = \"\";\n        for (let i = 0; i < game.spaceStation.orbiting.length; i++) {\n            const resource = game.spaceStation.orbiting[i];\n            if (!resource) continue;\n            orbitString += intToString(resource.amount) + \" \" + resource.type;\n            orbitSendString += intToString(resource.amount / 10000, 4) + \" \" + resource.type;\n            if (i !== game.spaceStation.orbiting.length - 1) {\n                orbitString += \", \";\n                orbitSendString += \", \";\n            }\n        }\n        this.updateElementText('orbitingResources', orbitString);\n        this.updateElementText('orbitSending', orbitSendString);\n    }\n}\n",
    "import { game, view } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class TractorBeamView extends BaseView {\n    private cometRows: Map<number, HTMLElement> = new Map();\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('tractorBeam:unlocked', () => this.checkUnlocked());\n            game.events.on('tractorBeam:updated', () => this.update());\n            game.events.on('tractorBeam:removeComet', (comet: any) => {\n                if (view) view.removeComet(comet);\n            });\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.tractorBeam.unlocked) {\n            this.setVisible('unlockedTractorBeam', true);\n            this.setVisible('unlockTractorBeam', false);\n        } else {\n            this.setVisible('unlockedTractorBeam', false);\n            this.setVisible('unlockTractorBeam', true);\n        }\n    }\n\n    update() {\n        if (!game || !view) return;\n        const container = this.getElement(\"allPassing\");\n        const comets = game.tractorBeam.comets;\n\n        // Remove old comets that are no longer present\n        const cometIds = new Set(comets.map(c => c.id));\n        for (const [id, row] of this.cometRows.entries()) {\n            if (!cometIds.has(id)) {\n                row.remove();\n                this.cometRows.delete(id);\n            }\n        }\n\n        for (let i = 0; i < comets.length; i++) {\n            const comet = comets[i];\n            if (!comet) continue;\n\n            if (!this.cometRows.has(comet.id)) {\n                const row = document.createElement(\"div\");\n                row.className = \"comet-row\";\n                row.innerHTML = `<span>${comet.name}</span> with <span id=\"comet-amount-${comet.id}\"></span> ${comet.amountType} passing in <span id=\"comet-duration-${comet.id}\"></span>`;\n\n                container.appendChild(row);\n                this.cometRows.set(comet.id, row);\n            }\n\n            this.updateElementText(`comet-amount-${comet.id}`, intToString(comet.amount));\n            this.updateElementText(`comet-duration-${comet.id}`, String(comet.duration));\n\n            view.drawComet(comet);\n        }\n\n        this.updateElementText('takeAmount', String(game.tractorBeam.takeAmount));\n    }\n}\n",
    "import { game } from '../main';\nimport { intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class SpaceDockView extends BaseView {\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('spaceDock:unlocked', () => {\n                this.checkUnlocked();\n                this.update();\n            });\n            game.events.on('spaceDock:updated', () => this.update());\n            \n            const el = document.getElementById('buyBattleshipAmount');\n            if (el) el.addEventListener('input', () => this.update());\n        }\n    }\n\n    checkUnlocked() {\n        if (!game) return;\n        if (game.spaceDock.unlocked) {\n            this.setVisible('spaceDockContainer', true);\n            this.setVisible('hangarContainer', true);\n            this.setVisible('spaceCanvas', true);\n            this.setVisible('spaceContainer', true);\n            this.update();\n        } else {\n            this.setVisible('spaceDockContainer', false);\n            this.setVisible('hangarContainer', false);\n            this.setVisible('spaceCanvas', false);\n            this.setVisible('spaceContainer', false);\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText('battleships', String(game.spaceDock.battleships));\n        this.updateElementText('totalBattleships', String(game.spaceDock.battleships + game.spaceDock.sended));\n\n        const el = document.getElementById('buyBattleshipAmount') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('battleshipCost', intToString(amount * 3e7) + \" oxygen and \" + intToString(amount * 1.5e7) + \" science\");\n    }\n}\n",
    "import { game } from '../main';\nimport { round1, intToString } from '../utils/utils';\nimport BaseView from './BaseView';\n\nexport default class HangarView extends BaseView {\n\n\n    constructor() {\n        super();\n        if (game) {\n            game.events.on('hangar:updated', () => this.updateFull());\n            const el = document.getElementById('buyHangarAmount');\n            if (el) el.addEventListener('input', () => this.updateFull());\n        }\n    }\n\n    update() {\n        if (!game) return;\n        this.updateElementText(\"hangarSending\", game.hangar.sendRate + \" in \" + round1(game.hangar.timeRemaining / 10) + \" seconds.\");\n    }\n\n    updateFull() {\n        if (!game) return;\n        const el = document.getElementById('buyHangarAmount') as HTMLInputElement;\n        const amount = el ? Number(el.value) : 1;\n        this.updateElementText('hangarCost', intToString(amount * 1000000));\n        this.update();\n    }\n}\n",
    "import { game, view, clearSave, begForMoney, save, exportSave, importSave, pauseGame } from '../main';\nimport { intToString, intToStringNegative, round1, round2, getClickAmount } from '../utils/utils';\nimport ProgressBar from './ProgressBar';\nimport updateSpace from './spaceView';\nimport ComputerView from './ComputerView';\nimport RobotsView from './RobotsView';\nimport ResourceView from './ResourceView';\nimport IceView from './IceView';\nimport WaterView from './WaterView';\nimport CloudsView from './CloudsView';\nimport LandView from './LandView';\nimport PopulationView from './PopulationView';\nimport TreesView from './TreesView';\nimport FarmsView from './FarmsView';\nimport EnergyView from './EnergyView';\nimport SpaceStationView from './SpaceStationView';\nimport TractorBeamView from './TractorBeamView';\nimport SpaceDockView from './SpaceDockView';\nimport HangarView from './HangarView';\nimport BaseView from './BaseView';\n// import { processesView } from '../core/Computer';\nimport { Comet } from '../types';\n\nexport default class View extends BaseView {\n    progressBar1: ProgressBar;\n    progressBar2: ProgressBar;\n    computerView: ComputerView;\n    robotsView: RobotsView;\n    resourceView: ResourceView;\n    iceView: IceView;\n    waterView: WaterView;\n    cloudsView: CloudsView;\n    landView: LandView;\n    populationView: PopulationView;\n    treesView: TreesView;\n    farmsView: FarmsView;\n    energyView: EnergyView;\n    spaceStationView: SpaceStationView;\n    tractorBeamView: TractorBeamView;\n    spaceDockView: SpaceDockView;\n    hangarView: HangarView;\n    private cometPool: HTMLElement[] = [];\n\n    private allContainers: HTMLElement[] = [];\n    private columns: HTMLElement[] = [];\n    private lastVisibleCount: number = -1;\n    private lastWidth: number = -1;\n    private resizeHandler: () => void;\n\n    constructor() {\n        super();\n        this.progressBar1 = new ProgressBar('nextStormProgress', '#21276a');\n        this.progressBar2 = new ProgressBar('stormDurationProgress', '#1c7682');\n        this.computerView = new ComputerView();\n        this.robotsView = new RobotsView();\n        this.resourceView = new ResourceView();\n        this.iceView = new IceView();\n        this.waterView = new WaterView();\n        this.cloudsView = new CloudsView();\n        this.landView = new LandView();\n        this.populationView = new PopulationView();\n        this.treesView = new TreesView();\n        this.farmsView = new FarmsView();\n        this.energyView = new EnergyView();\n        this.spaceStationView = new SpaceStationView();\n        this.tractorBeamView = new TractorBeamView();\n        this.spaceDockView = new SpaceDockView();\n        this.hangarView = new HangarView();\n\n        const main = this.getElement('mainContainer');\n        // Move all containers back to main before removing columns to avoid losing them\n        main.querySelectorAll('.container').forEach(container => main.appendChild(container));\n        // Clean up any existing columns from previous View instances\n        main.querySelectorAll('.column').forEach(col => col.remove());\n\n        this.allContainers = Array.from(main.querySelectorAll('.container')) as HTMLElement[];\n        \n        this.resizeHandler = () => this.refreshLayout();\n        window.addEventListener('resize', this.resizeHandler);\n\n        if (game) {\n            game.events.on('tick', () => {\n                if (!document.hidden) this.update();\n            });\n\n            // Listen to all events that can change container visibility\n            game.events.on('computer:unlocked', () => this.refreshLayout());\n            game.events.on('robots:unlocked', () => this.refreshLayout());\n            game.events.on('energy:unlocked', () => this.refreshLayout());\n            game.events.on('spaceStation:unlocked', () => this.refreshLayout());\n            game.events.on('tractorBeam:unlocked', () => this.refreshLayout());\n            game.events.on('spaceDock:unlocked', () => this.refreshLayout());\n        }\n    }\n\n    destroy() {\n        window.removeEventListener('resize', this.resizeHandler);\n    }\n\n    update() {\n        if (!game) return;\n        // should run no more than once per frame\n        this.resourceView.update();\n        this.iceView.update();\n        this.waterView.update();\n        this.cloudsView.update();\n        this.landView.update();\n        this.treesView.update();\n        this.farmsView.update();\n        this.populationView.update();\n        this.updateComputerRowProgress();\n        this.robotsView.update();\n        this.updateRobotsRowProgress();\n        this.energyView.update();\n        this.spaceStationView.update();\n        this.tractorBeamView.update();\n        this.hangarView.update();\n        this.progressBar1.tick(game.clouds.initialStormTimer - game.clouds.stormTimer, game.clouds.initialStormTimer);\n        this.progressBar2.tick(game.clouds.stormDuration, game.clouds.initialStormDuration);\n        updateSpace();\n    }\n\n    refreshLayout() {\n        const main = this.getElement('mainContainer');\n        if (main.offsetWidth === 0) return;\n        \n        // Extract gap and minWidth from computed styles\n        const mainStyle = window.getComputedStyle(main);\n        const gap = parseFloat(mainStyle.columnGap || mainStyle.gap || '0');\n        \n        // Measure minWidth by creating a temporary column if none exist\n        let minWidth = 280;\n        const existingCol = main.querySelector('.column');\n        if (existingCol) {\n            minWidth = parseFloat(window.getComputedStyle(existingCol).minWidth);\n        } else {\n            const tempCol = document.createElement('div');\n            tempCol.className = 'column';\n            tempCol.style.visibility = 'hidden';\n            tempCol.style.position = 'absolute';\n            main.appendChild(tempCol);\n            minWidth = parseFloat(window.getComputedStyle(tempCol).minWidth);\n            main.removeChild(tempCol);\n        }\n        minWidth = Math.max(200, minWidth || 0);\n\n        const containerWidth = minWidth + gap; \n        const currentWidth = main.offsetWidth;\n        const numColumns = Math.max(1, Math.floor((currentWidth + gap) / containerWidth));\n\n        const visibleContainers = this.allContainers.filter(c => !c.classList.contains('hidden'));\n        const visibleCount = visibleContainers.length;\n\n        // Optimization: skip if nothing changed\n        if (this.columns.length === numColumns && \n            visibleCount === this.lastVisibleCount && \n            currentWidth === this.lastWidth) {\n            return;\n        }\n\n        // Move all containers to mainContainer temporarily to preserve them in DOM\n        // This ensures hidden containers stay in the DOM (but not visible)\n        for (const container of this.allContainers) {\n            main.appendChild(container);\n        }\n\n        // Recreate columns if count changed\n        if (this.columns.length !== numColumns) {\n            this.columns.forEach(col => col.remove());\n            this.columns = [];\n            for (let i = 0; i < numColumns; i++) {\n                const col = document.createElement('div');\n                col.className = 'column';\n                main.appendChild(col);\n                this.columns.push(col);\n            }\n        }\n\n        this.lastVisibleCount = visibleCount;\n        this.lastWidth = currentWidth;\n\n        if (this.columns.length === 0) return;\n\n        // Distribute visible containers\n        for (let j = 0; j < visibleContainers.length; j++) {\n            const container = visibleContainers[j]!;\n            let shortestColumn = this.columns[0]!;\n            \n            // Heuristic to avoid empty columns: first N items fill first N columns\n            if (j < this.columns.length) {\n                shortestColumn = this.columns[j]!;\n            }\n            else {\n                let minHeight = shortestColumn.offsetHeight;\n                for (let i = 1; i < this.columns.length; i++) {\n                    const col = this.columns[i]!;\n                    if (col.offsetHeight < minHeight) {\n                        shortestColumn = col;\n                        minHeight = col.offsetHeight;\n                    }\n                }\n            }\n\n            shortestColumn.appendChild(container);\n        }\n    }\n\n    clearComputerRows() {\n        this.getElement('computerRows').innerHTML = '';\n        this.computerView.clearCache();\n    }\n\n    clearRobotRows() {\n        this.getElement('robotRows').innerHTML = '';\n        this.robotsView.clearCache();\n    }\n\n    updateComputerRowProgress() {\n        if (!game || !game.computer.unlocked) return;\n        for (let i = 0; i < game.computer.processes.length; i++) {\n            this.computerView.updateRowProgress(i);\n        }\n    }\n\n    updateRobotsRowProgress() {\n        if (!game) return;\n        for (let i = 0; i < game.robots.jobs.length; i++) {\n            this.robotsView.updateRowProgress(i);\n        }\n    }\n\n    drawComet(cometData: Comet) {\n        let cometDiv: HTMLElement | null;\n        const cometDivName = 'comet' + cometData.id;\n        if (!cometData.drawed) {\n            cometDiv = this.cometPool.pop() || document.createElement(\"div\");\n            cometDiv.className = cometData.name.toLowerCase();\n            cometDiv.id = cometDivName;\n            cometDiv.classList.remove('hidden');\n\n            const totalDistance = cometData.speed * cometData.duration;\n            cometData.startingY = Math.random() * (totalDistance * .4) + totalDistance * .1;\n\n            cometData.left = 0;\n            cometData.top = cometData.endingX = Math.pow(Math.pow(totalDistance, 2) - Math.pow(cometData.startingY, 2), .5); //c^2 = a^2 + b^2, a = sqrt(c^2 - b^2)\n            //y = mx + b, m = (y-b)/x\n            cometData.slope = (0 - cometData.startingY) / (cometData.endingX);\n            this.getElement('cometsContainer').appendChild(cometDiv);\n            cometData.drawed = true;\n        }\n        else\n            cometDiv = document.getElementById(cometDivName);\n        \n        if (cometDiv) {\n            cometData.left = (cometData.initialDuration - cometData.duration) / cometData.initialDuration * cometData.endingX;\n            cometData.top = cometData.slope * cometData.left + cometData.startingY;\n\n            const effectiveAmount = cometData.amountType === 'ice' ? cometData.amount / 1000 : cometData.amount;\n            const baseSize = cometData.name === \"Comet\" ? 40 : 20;\n            const size = baseSize * Math.sqrt(effectiveAmount / 200);\n\n            cometDiv.style.width = Math.round(size) + \"px\";\n            cometDiv.style.height = Math.round(size) + \"px\";\n            cometDiv.style.borderRadius = Math.round(size / 2) + \"px\";\n            cometDiv.style.left = Math.round(cometData.left - size / 2) + \"px\";\n            cometDiv.style.top = Math.round(cometData.top - size / 2) + \"px\";\n        }\n    }\n\n    removeComet(cometData: Comet) {\n        const cometDivName = 'comet' + cometData.id;\n        const cometDiv = document.getElementById(cometDivName);\n        if (cometDiv) {\n            cometDiv.classList.add('hidden');\n            cometDiv.id = \"\";\n            this.cometPool.push(cometDiv);\n            // We keep it in the DOM but hidden, and reuse it later.\n        }\n        else\n            console.log(cometDivName + \"not found\");\n    }\n}\n\n// --- Listeners ---\nconst initListeners = () => {\n    const addClick = (id: string, func: (ev: MouseEvent) => any) => {\n        const el = document.getElementById(id);\n        if (el) el.addEventListener('click', func);\n    };\n\n    addClick('btnHardReset', clearSave);\n    addClick('btnPause', pauseGame);\n    addClick('btnBeg', begForMoney);\n    addClick('btnSave', save);\n    addClick('btnExport', exportSave);\n    addClick('btnImport', importSave);\n    addClick('btnBuyIce', () => game?.buyIce());\n    addClick('btnBuyFarms', () => game?.buyFarms());\n    addClick('unlockComputer', () => game?.computer.unlockComputer());\n    addClick('buyThread', () => game?.computer.buyThread());\n    addClick('buySpeed', () => game?.computer.buySpeed());\n    addClick('unlockRobots', () => game?.robots.unlockRobots());\n    addClick('unlockEnergy', () => game?.energy.unlockEnergy());\n    addClick('btnBuyBattery', () => game?.buyBattery());\n    addClick('unlockSpaceStation', () => game?.spaceStation.unlockSpaceStation());\n    addClick('unlockTractorBeam', () => game?.tractorBeam.unlockTractorBeam());\n    addClick('btnBuyBattleship', () => game?.buyBattleship());\n    addClick('btnBuyHangar', () => game?.buyHangar());\n\n    const mainContainer = document.getElementById('mainContainer');\n    mainContainer?.addEventListener('contextmenu', e => e.preventDefault());\n\n    const scienceSlider = document.getElementById('scienceSlider') as HTMLInputElement;\n    scienceSlider?.addEventListener('input', function (this: HTMLInputElement) {\n        if (game) game.population.scienceRatio = Number(this.value);\n    });\n\n    // Sanitize all numeric-input-small to positive integers\n    document.querySelectorAll('.numeric-input-small').forEach(el => {\n        el.addEventListener('change', function (this: HTMLInputElement) {\n            let val = Number(this.value);\n            if (isNaN(val) || val < 1) val = 1;\n            this.value = Math.floor(val).toString();\n            // Trigger input event to update costs\n            this.dispatchEvent(new Event('input'));\n        });\n    });\n};\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initListeners);\n} else {\n    initListeners();\n}\n\n// --- Hotkeys ---\nconst myKeyQueue: {key: number, shift: boolean}[] = [];\nfunction processKeyQueue() {\n    if (myKeyQueue.length === 0) return;\n    const key = myKeyQueue[0]?.key;\n    // var shift = myKeyQueue[0].shift;\n    myKeyQueue.splice(0, 1);\n    if (key === 66) { //b\n        game?.buyIce()\n    }\n}\n\ndocument.addEventListener(\"keydown\", function (e) {\n    const code = { key: (e.charCode !== 0 ? e.charCode : e.keyCode), shift: e.shiftKey };\n    myKeyQueue.push(code);\n    processKeyQueue();\n});\n",
    "type Listener = (...args: any[]) => void;\n\nexport default class EventEmitter {\n    private events: Map<string, Listener[]> = new Map();\n\n    on(event: string, listener: Listener): void {\n        if (!this.events.has(event)) {\n            this.events.set(event, []);\n        }\n        this.events.get(event)?.push(listener);\n    }\n\n    off(event: string, listener: Listener): void {\n        const listeners = this.events.get(event);\n        if (listeners) {\n            this.events.set(event, listeners.filter(l => l !== listener));\n        }\n    }\n\n    emit(event: string, ...args: any[]): void {\n        const listeners = this.events.get(event);\n        if (listeners) {\n            listeners.forEach(listener => listener(...args));\n        }\n    }\n}\n",
    "import Space from './core/Space';\nimport Ice from './core/Ice';\nimport Water from './core/Water';\nimport Clouds from './core/Clouds';\nimport Land from './core/Land';\nimport Trees from './core/Trees';\nimport Farms from './core/Farms';\nimport City from './core/City';\nimport Computer from './core/Computer';\nimport Robots from './core/Robots';\nimport Energy from './core/Energy';\nimport SpaceStation from './core/SpaceStation';\nimport TractorBeam from './core/TractorBeam';\nimport SpaceDock from './core/SpaceDock';\nimport Hangar from './core/Hangar';\n\nimport View from './ui/View';\nimport { decode, encode } from './utils/utils';\nimport { Game as IGame } from './types';\nimport EventEmitter from './utils/EventEmitter';\n\n// --- State ---\nexport let game: Game | null = null;\nexport let view: View | null = null;\nlet timer = 0;\nlet stop = false;\nlet cometId = 0;\n\nfunction incrementTimer() { timer++; }\nfunction toggleStop() { stop = !stop; }\nexport function incrementCometId() { cometId++; return cometId; }\n\n// --- Game ---\nclass Game implements IGame {\n    totalLand: number;\n    cash: number;\n    oxygen: number;\n    science: number;\n    wood: number;\n    metal: number;\n    power: number;\n    oxygenLeak: number = 0;\n    canvasWidth: number = 1200;\n    canvasHeight: number = 600;\n\n    space!: Space;\n    ice!: Ice;\n    water!: Water;\n    clouds!: Clouds;\n    land!: Land;\n    trees!: Trees;\n    farms!: Farms;\n    population!: City;\n    computer!: Computer;\n    robots!: Robots;\n    energy!: Energy;\n    spaceStation!: SpaceStation;\n    tractorBeam!: TractorBeam;\n    spaceDock!: SpaceDock;\n    hangar!: Hangar;\n\n    events: EventEmitter;\n\n    constructor() {\n        this.totalLand = 1000;\n        this.cash = 100; // Actual default: 100\n        this.oxygen = 0;\n        this.science = 0; // Actual default: 0\n        this.wood = 0;\n        this.metal = 0;\n        this.power = 0;\n        this.canvasWidth = 1200;\n        this.canvasHeight = 600;\n        this.events = new EventEmitter();\n    }\n\n    tick() {\n        this.ice.tick();\n        this.robots.tick();\n        this.computer.tick();\n        this.farms.tick(this.land.transferWater());\n        this.population.tick();\n        this.water.outdoor += this.farms.transferWater();\n        this.trees.tick(this.land.transferWater());\n        this.water.outdoor += this.trees.transferWater();\n        this.land.tick(this.clouds.transferWater());\n        this.clouds.tick(this.water.transferWater());\n        this.energy.tick();\n        this.water.tick(this.ice.transferWater());\n        this.tractorBeam.tick();\n        this.spaceStation.tick();\n        this.space.tick();\n\n        this.oxygenLeak = this.oxygen / 100000;\n        this.oxygen -= this.oxygenLeak;\n        this.hangar.tick();\n\n        this.events.emit('tick');\n    }\n\n    initialize() {\n        this.space = new Space();\n        this.ice = new Ice();\n        this.water = new Water();\n        this.clouds = new Clouds();\n        this.land = new Land(this.totalLand);\n        this.trees = new Trees();\n        this.farms = new Farms();\n        this.population = new City();\n        this.computer = new Computer();\n        this.robots = new Robots();\n        this.energy = new Energy();\n        this.spaceStation = new SpaceStation();\n        this.tractorBeam = new TractorBeam();\n        this.spaceDock = new SpaceDock();\n        this.hangar = new Hangar();\n\n        view?.clearComputerRows();\n        for (let i = 0; i < this.computer.processes.length; i++) {\n            view?.computerView.addComputerRow(i);\n            const proc = this.computer.processes[i];\n            if (proc) {\n                proc.isMoving = false;\n                proc.completions = 0;\n            }\n        }\n        view?.clearRobotRows();\n        for (let i = 0; i < this.robots.jobs.length; i++) {\n            view?.robotsView.addRobotRow(i);\n            const job = this.robots.jobs[i];\n            if (job) {\n                job.completions = 0;\n            }\n        }\n    }\n\n    buyIce() {\n        let toBuy = this.cash;\n        if (toBuy <= 0) {\n            return;\n        }\n        this.cash -= this.ice.buyIce(toBuy);\n    }\n\n    buyFarms() {\n        const el = document.getElementById('buyFarmAmount') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * 50 > this.land.soil) {\n            toBuy = Math.floor(this.land.soil / 50);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.land.soil -= toBuy * 50;\n        this.farms.addFarm(toBuy);\n    }\n\n    buyBattery() {\n        const el = document.getElementById('buyBattery') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * 3e4 > this.oxygen) {\n            toBuy = Math.floor(this.oxygen / 3e4);\n        }\n        if (toBuy * 2e4 > this.science) {\n            toBuy = Math.floor(this.science / 2e4);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.oxygen -= toBuy * 3e4;\n        this.science -= toBuy * 2e4;\n        this.energy.buyBattery(toBuy);\n    }\n\n    buyBattleship() {\n        const el = document.getElementById('buyBattleshipAmount') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * 3e7 > this.oxygen) {\n            toBuy = Math.floor(this.oxygen / 3e7);\n        }\n        if (toBuy * 1.5e7 > this.science) {\n            toBuy = Math.floor(this.science / 1.5e7);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.oxygen -= 3e7 * toBuy;\n        this.science -= 1.5e7 * toBuy;\n        this.spaceDock.addBattleship(toBuy);\n    }\n\n    buyHangar() {\n        const cost = 1000000;\n        const el = document.getElementById('buyHangarAmount') as HTMLInputElement;\n        let toBuy = Number(el.value);\n        if (toBuy * cost > this.land.soil) {\n            toBuy = Math.floor(this.land.soil / cost);\n        }\n        if (toBuy <= 0) {\n            return;\n        }\n        this.land.soil -= toBuy * cost;\n        this.hangar.sendRate += toBuy;\n        this.events.emit('hangar:updated');\n    }\n}\n\n// --- Driver ---\nfunction tick() {\n    if (stop) {\n        return;\n    }\n    incrementTimer();\n\n    game?.tick();\n\n    if (timer % 100 === 0) {\n        save();\n    }\n}\n\nfunction recalcInterval(newSpeed: number) {\n    doWork.postMessage({ stop: true });\n    doWork.postMessage({ start: true, ms: (1000 / newSpeed) });\n}\n\nexport function pauseGame() {\n    toggleStop();\n}\n\n// --- Saving ---\nconst doWork = new Worker(new URL('./workers/interval.js', import.meta.url).href);\ndoWork.onmessage = function (event) {\n    if (event.data === 'interval.start') {\n        tick();\n    }\n};\n\nexport async function clearSave() {\n    window.localStorage.terrafold2 = \"\";\n    await load();\n}\n\nfunction loadDefaults() {\n    if (view) {\n        view.destroy();\n    }\n    game = new Game();\n    view = new View();\n    game?.initialize();\n    \n    // @ts-ignore\n    window.game = game;\n    // @ts-ignore\n    window.view = view;\n}\n\nfunction setInitialView() {\n    if (!view) return;\n    view.farmsView.updateFull();\n    view.hangarView.updateFull();\n    view.spaceDockView.checkUnlocked();\n    view.tractorBeamView.checkUnlocked();\n    view.spaceStationView.checkUnlocked();\n    view.energyView.checkUnlocked();\n    view.computerView.checkUnlocked();\n    view.robotsView.checkUnlocked();\n    view.update();\n}\n\n\nasync function load() {\n    loadDefaults();\n    if (window.localStorage.terrafold2) { // existing savegame\n        const decoded = await decode(window.localStorage.terrafold2);\n        const toLoad = JSON.parse(decoded);\n        if (game) copyObject(toLoad, game);\n\n        if (game) {\n            for (let comet of game.tractorBeam.comets)\n                comet.drawed = false;\n        }\n\n        const el = document.getElementById('scienceSlider') as HTMLInputElement;\n        if (el && game) el.value = game.population.scienceRatio.toString();\n    }\n\n    setInitialView();\n    view?.refreshLayout();\n    recalcInterval(10);\n}\n\nfunction copyObject(object: any, toSave: any) {\n    for (let property in object) {\n        if (typeof object[property] === 'object' && object[property] !== null) {\n            if (typeof toSave[property] === 'undefined')\n                toSave[property] = Array.isArray(object[property]) ? [] : {};\n            copyObject(object[property], toSave[property]);\n        }\n        else if (typeof object[property] !== 'function')\n            toSave[property] = object[property];\n    }\n}\n\nexport async function save() {\n    let toSave = {};\n    if (game) copyObject(game, toSave)\n    window.localStorage.terrafold2 = await encode(JSON.stringify(toSave));\n}\n\nexport async function exportSave() {\n    await save();\n    const el = document.getElementById(\"exportImportSave\") as HTMLTextAreaElement;\n    if (el) {\n        el.value = await encode(window.localStorage.terrafold2 || \"\");\n        el.select();\n        document.execCommand('copy');\n        el.value = \"\";\n    }\n}\n\nexport async function importSave() {\n    const el = document.getElementById(\"exportImportSave\") as HTMLTextAreaElement;\n    if (el) {\n        window.localStorage.terrafold2 = await decode(el.value);\n        await load();\n    }\n}\n\nexport function begForMoney() {\n    if (game) game.cash += 0.1;\n}\n\n// Initialize the game\nload();\n// @ts-ignore\nwindow.game = game;\n// @ts-ignore\nwindow.view = view;\n// @ts-ignore\nwindow.pauseGame = pauseGame;\n"
  ],
  "mappings": "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",
  "debugId": "363F66EF92CCAD1764756E2164756E21",
  "names": []
}